/*!
 * VERSION: 0.20.0
 * DATE: 17-Aug-2015
 * UPDATES AND DOCS AT: https://prostyle.io/plus/
 * 
 * This file is part of ProStyle Plus, a set of premium extensions for ProStyle. It may be
 * used for free for personal projects or licensed per website domain name for commercial use.
 * 
 * @copyright - Copyright (c) 2013-2015, Pro Graphics, Inc. All rights reserved. 
 * @license - This work is subject to the terms at https://prostyle.io/plus/license/
 * @author: Gary Chamberlain, gary@pro.graphics.
 * 
 **/

var ProStyle;
(function(a){a=a.Cursors||(a.Cursors={});a.back_24x24="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAVSwAAFUsBs3yoNwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMRSURBVEiJtZbPS1xXFMc/575RM1VHQpEylCwqqa3IQJpxISlugmCF4iYL/QtiKSQ0BPpK7TowbksWClGoSEYhiJtYV11MUg1IFrUuRBDbWmwSJBpjxx/z7sli7jWDyGRCzIELj/vj+/2ec9673yeqyvuMGICIBEAVUA3U+HkgAg6AfeAQiPSYIhERwI8AMG7JAha3/wzwXRAEzwAFNAiCF8Ad4FOgEYg7AFFVf86DVgN1QCtwBbgAfAjUiqoiIgljzHpzc3NdT0+PiAi5XI65uTlV1V7gD+ApsAsUnAhxaquBBuAnEflGVQ0wBQwAz72SRkDDMFQfo6Oj6oC+B9qBZEkWXnU9cNkYswxob2+vdnZ2qjFmH+gEPvP1qirTpwRQ6wAD158aN/+jiPxaX19/PpvNks1mSafTWGurgY+AhG+mOQnZRY0Dr3IjBnwuIrdV9WJXV5eOjIxIMpk8SdgZDyxlCEyJ6jrgW2PMb/F4/IuhoSFmZmZOAseJisVOWjkWAcW37BMR+UFVv2xvb9exsTFpamoqd84AUq40pUouG2PuxmKxS5lMhlwu9ybwo6gkg6+Bc62trTo+Pi6pVKoiYB+VZHAuDEMWFhbeGrxSgneKSgieZDIZ2tradHFx8b0QPADuLy0t7afTaQYHB7HWnirBLvDQWnurUCgsh2FIR0eHrq6unirBU+BPVR0Afpmfny+kUikdHh4+FYIDYBv4D1gDRq21N/P5/Fp/fz/d3d1sbGy8E0EE7AEvKGbyN/C7ql4D7s3OzkYtLS06MTFx/JwF1H9o5XzTUvSAfeCl25sH/gd+VtVHOzs7N/r6+pJTU1Nsbm5ijClYaw+Agiewxpjd6enpD1T1yHBERFV125XpsGR4G80Du9baFeDq5OTkV6oqwGOX8Z53tEbgWhAE16MoagAIgmAviqJHFG1zBfgL2HLgULwE/Q17lqJpNQNNwDqwDPxzZJluw8cUnSvhQF4CT4B/KW+ZcUeUcM/qzj73JTpw6gB23CbhdXO33HMEqPuzUBFRV6rSHnl3PAT2XgGbYEB3V/699wAAAABJRU5ErkJggg==)";a.play_20x28=
"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAQAAABQQhX9AAABiklEQVQoz42TPWhTYRiFn/vd2+anP5qGtkikSLGEYEJEHJpSwYC2g2CGtmAGBxGkEVESEWm3DA4WJ12yFwTXtiAdutoOVaeAowpxFSTQUtLvOBjQa27S8q4P5+W87zmI0w0CjwjDxDjLICE8DE4wGHV2zBfeMcMFRhmkH7cTRTCDMvKs2+QlWSYYIdKpi+Ah+qi6chaZOkVSnGOYkF8XwRP0WZJVTUPWtFgnxyRxovT91UVQ+QNK0g8tCZkGj0mT4AxhPBycDlCSNpU4xrLNDaba5gwOgqd+UGqqLGPdX7wgywQxwniBoCTt67JFzicWSTLGQFdQaumVItYc8YY04z1ASfqq63IsJZKnA59z5eTVLTa40wNsm/nGax4w12V1U2UZuQdsscI95rqY2VTCIuqs8YgFZgPP037hT97yjLvc9B+84gvFMbtUWabA9P8vrPwTswY1yhTJB4ViHmXkyT3kPavc5xZXg2N23tkz3/lAlRKLXOse3Dgp8hS4Tb53FaKMcZFLpHqV6zcTCrtuAskQ/wAAAABJRU5ErkJggg==)";
a.pause_21x24="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAASogAAEqIBzWOC0wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGsSURBVDiN7ZWxahRRFIa/c3LPmsQoLCjJRFbFxgewEWTBKk3KvICQal9gG99gCxvbrXYfwcbOUvAlNCw6WMUxQc3ObG6KOddMFpyAaLc/XGYu893/Hs7AfyTGyL9WABCRNX/vAAas+fdzoATmQOV7XWLV2cVv1ivdMLN3qloCEYgisgghfAaeARlw043um9mRiCwSq6qlmb0HHgN3g9/SL8vy+Wg0otfrATCfz3UwGOxUVXUIvPYqfwAvzOzeeDzWTqcDwGw2C8Ph8CmwD7xNlR4AMc/z2FSWZRXwBtgDHgF3gFGWZWWTy/M8etWvgH7qR+rhsgTYALaAG97D8AcW5zaTqbaA6ceoXyItbABCMmsDZWldJ2mr8K+1Ml2Zrkz/h2nbTIlL6zrFFGO/AKbTaTOkKYoCro6SCJwVRSGTyYRGSNPwqVJI75rZB1WtuBwn5yGEb8BLrob0kxBCLiLpkqiqCzP7CAyAvsQYEZEu9Rx66M8t6pj7CXwFjoAv1ONkE9gFHgDb1CEegVMgBz4l03XgFtAFblOnvFBPxxPgGPjue3Om62cstcWZ4wuzhaHs/zLlmAAAAABJRU5ErkJggg==)";
a.next_37x24="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAYCAYAAAB9ejRwAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAW9AAAFvQBCBMfJAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAR7SURBVEiJzZdNaFRXGIaf70yimXSSqrF/UqylpS0FCdXFtFUItgotbrKyC0VUqgQpSrvsrivBTUHRnRKpFA0E1DS0pQFbGFoSat1I26QKsVOTSUwy6UxqjJm5bxf33HAzOvlx075wuLO475nne78z55wxSfzfVANgZgY4oDY2AMpACZj1nwNVVBHz1gAr/NP592cX8laTiz1rgVbgd+BrYA/wNLAaeAJYCdSYmfMgEZB57zvAAPAd8GHMm3qUd0F5+FqgEfg+kUgEDQ0NASCgB9gOvAo8CzT4L0h4GBfzXnHOqbGxMfJmgPeB14Dn/DtzXklUGxHUSuAp59zE1q1bNTY2pl27dgmQcy4PfAq8AbwArAGShG2q8d61Zja0efNmTUxMaPfu3ZG3CHwGbAI2AE1AvS/EVYOLoJLAOudcvqWlRZEuXLigVatWRZV/C7wLvAI841NL+tauM7PhdDo95+3s7FRTU1Pk/QF4z6f2UOLVoOqB5yuhJGloaEg7d+6MKr8LfAw0A+uBtb76DWaWi0NJ0sjIiFpbW5eS+LzU4lDrHwUV6cyZM0qlUgEQAJeBFl/5i8DrZjZSCRXp3Llziq3TRyW+Ip7akqEkaXBwUNu2bRMgM7sDfAS8CbxtZqPVoCQpm81qx44dkXcU+CSW+Gqgzqdmy4KSpCAIdOLECdXV1QVmVgY6gQ/MbGwhqMh76tQpJZPJysRf9kshbOdyoSL19/crnU7PpWZm04tBRbp586a2bNkST3yPb2cTUPfYUJJUKpV07NgxmZkALRVKksrlso4fP65EIhEAvwFv+VY2RDv6fyLnHISbcA3h5loHJGoed8KBgQH27t1Lb28vZjZhZinCX9GiunXrFvv27SOTyWBm48CX82CXCyOJkydP0tzcTF9fn4CfJX0BzCzFe/r0aTZu3KhMJiPgmqTPCc/bAnAfKC8rqdu3b7N//36uXr2KmU1K6vITzhDeBKoqm81y4MABenp6MLMp4ArwCzAM3AHGgX+A2SVDnT17lqNHj2pqagrguqSvgByQJ7zeVIVqb2/nyJEjKhaLBtyQdBn4y/tHgLvAJHAPKC0KNTw8zMGDB+nu7sY5F1V43U82Shi7I9x35imXy3Ho0CG6urpwzk0D3UCf9+a8Pw8UgemouAWhLl68SFtbmyYnJw24EQRBZYV5wtYlCY+QOXV0dNDW1qZ8Pm9AfxAEl4A/vTcHjAF/+3Si9geSFIcKAMrlMuPj4xw+fJiOjo7FKrznYQSoVCpVemeAb4CfYoWMAhOxdGb9d0t+0zRJmFmS8PzpTCQS6fr6enz/fyU8CrKxSeMVlnzrngTanXPbU6kUhULBgD+AS8Cg90XeScIF/cD7H7omR0kFnvh8uVx+qVgs5oEfgWs+kbt+VFYI4en+ADgfBMGmQqEw4VPt9QCjVbzleDpxRUnVEq6LNYR36zWEG+GMTyXvn/MqJNyNE967OuZd6b2FCu9MtXSqJfXATxL4Z5TAdGzCeRX6/wDlmFc+jYR/954f9xdLJ65/AQvRzjZ9X0BiAAAAAElFTkSuQmCC)";
a.seek_36x12="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAMCAMAAAA9Ie/xAAAApVBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3Nzc4ODhISEhPT09QUFBgYGB4eHizs7O/v7/g4ODk5OT4+Pj6+vr///+KeuFaAAAAKHRSTlMABQgMDxARExYbISQmLzE4O0JFS1pfZGh3g4iKi5DC1dja3ePo9Pb5CC6TmQAAAIpJREFUGNONT8sKwkAQS7KzhVY86P//owexYOtOPNhDC66Y00AyeQB/gADOl6nLz7c7EKCuY99kKtnWAGPAqXQ07VEDDlAFZVm8ozRquwoUzgAJwHn4T+1ai/qIfkDk5qR6iNtXJBkAUq3WTnEYQMB+DY9+WrNdoGJFV7Mua7aA/cxZ5JcBtp1OvwEAqjJOoPY7bwAAAABJRU5ErkJggg==)"})(ProStyle||
(ProStyle={}));var __extends=this&&this.__extends||function(a,b){function g(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);g.prototype=b.prototype;a.prototype=new g};
(function(a){(function(b){(function(b){(function(b){var f=function(f){function d(c,a,b){void 0===c&&(c=[25,50,25]);void 0===a&&(a=[75,25]);void 0===b&&(b=!0);f.call(this,"tap");this.playbuttonSizes=c;this.rowSizes=a;this.cursors=b;this.player=this.canvas=this.stateChangedBound=this.seekBound=this.nextBound=this.playBound=this.backBound=this.seekDiv=this.nextDiv=this.playDiv=this.backDiv=void 0;this.bwr=.25;this.pwr=.5;this.nwr=.25;this.phr=.75;this.shr=.25;c instanceof Array&&2<c.length&&(c[0]=Math.abs(c[0]),
c[1]=Math.abs(c[1]),c[2]=Math.abs(c[2]),b=c[0]+c[1]+c[2],0<b&&(this.bwr=c[0]/b,this.pwr=c[1]/b,this.nwr=c[2]/b));a instanceof Array&&1<a.length&&(a[0]=Math.abs(a[0]),a[1]=Math.abs(a[1]),b=a[0]+a[1],0<b&&(this.phr=a[0]/b,this.shr=a[1]/b));this.backBound=this.back.bind(this);this.playBound=this.play.bind(this);this.nextBound=this.next.bind(this);this.seekBound=this.seek.bind(this);this.stateChangedBound=this.stateChanged.bind(this)}__extends(d,f);d.prototype.start=function(c,b){this.stop();this.canvas=
c;this.player=b;this.backDiv=a.Util.createChildDivElement(this.canvas.frame.div);this.playDiv=a.Util.createChildDivElement(this.canvas.frame.div);this.nextDiv=a.Util.createChildDivElement(this.canvas.frame.div);this.seekDiv=a.Util.createChildDivElement(this.canvas.frame.div);this.player.stateChanged.on(this.stateChangedBound);this.resize();this.backDiv.addEventListener("click",this.backBound);this.playDiv.addEventListener("click",this.playBound);this.nextDiv.addEventListener("click",this.nextBound);
this.seekDiv.addEventListener("click",this.seekBound);this.cursors&&(this.backDiv.style.cursor=a.Cursors.back_24x24+",w-resize",this.playDiv.style.cursor=a.Cursors.play_20x28+",pointer",this.nextDiv.style.cursor=a.Cursors.next_37x24+",e-resize",this.seekDiv.style.cursor=a.Cursors.seek_36x12+",ew-resize");this.backDiv.style.position=this.playDiv.style.position=this.nextDiv.style.position=this.seekDiv.style.position="absolute"};d.prototype.stop=function(){void 0!==this.player&&(this.backDiv.removeEventListener("click",
this.backBound),this.playDiv.removeEventListener("click",this.playBound),this.nextDiv.removeEventListener("click",this.nextBound),this.seekDiv.removeEventListener("click",this.seekBound),this.player.stateChanged.off(this.stateChangedBound),this.backDiv.parentElement.removeChild(this.backDiv),this.playDiv.parentElement.removeChild(this.playDiv),this.nextDiv.parentElement.removeChild(this.nextDiv),this.seekDiv.parentElement.removeChild(this.seekDiv),this.player=this.canvas=void 0)};d.prototype.mouseout=
function(a){this.player&&this.player.playCurrentStep()};d.prototype.back=function(a){this.player.backStep(!0)};d.prototype.play=function(a){this.player.togglePlay()};d.prototype.next=function(a){this.player.playNextStep(!0)};d.prototype.seek=function(b){var d=a.Util.getOffset(b.currentTarget);this.player.seek((b.pageX-d.left)/b.target.offsetWidth,!0)};d.prototype.stateChanged=function(b){this.cursors&&(this.playDiv.style.cursor=b?a.Cursors.play_20x28+",pointer":a.Cursors.pause_21x24+",pointer")};
d.prototype.resize=function(){var a=this.canvas.frame.div.offsetWidth,b=this.canvas.frame.div.offsetHeight,d=a*this.bwr,f=a*this.pwr,g=a*this.nwr,e=b*this.phr,b=b*this.shr;this.backDiv.style.left="0px";this.backDiv.style.top="0px";this.backDiv.style.width=d+"px";this.backDiv.style.height=e+"px";this.playDiv.style.left=d+"px";this.playDiv.style.top="0px";this.playDiv.style.width=f+"px";this.playDiv.style.height=e+"px";this.nextDiv.style.left=d+f+"px";this.nextDiv.style.top="0px";this.nextDiv.style.width=
g+"px";this.nextDiv.style.height=e+"px";this.seekDiv.style.left="0px";this.seekDiv.style.top=e+"px";this.seekDiv.style.width=a+"px";this.seekDiv.style.height=b+"px"};d.prototype.serialize=function(){return b.serialize(this)};return d}(a.Controllers.Controller);b.TapController=f})(b.Tap||(b.Tap={}))})(b.Controllers||(b.Controllers={}))})(a.Extensions||(a.Extensions={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){a.deserialize=function(b){return new a.TapController(b.playbuttonSizes,b.rowSizes,b.cursors)}})(a.Tap||(a.Tap={}))})(a.Controllers||(a.Controllers={}))})(a.Extensions||(a.Extensions={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){a.serialize=function(a){return{playbuttonSizes:a.playbuttonSizes,rowSizes:a.rowSizes,cursors:a.cursors}}})(a.Tap||(a.Tap={}))})(a.Controllers||(a.Controllers={}))})(a.Extensions||(a.Extensions={}))})(ProStyle||(ProStyle={}));
