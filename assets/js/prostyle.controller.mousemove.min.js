/*!
 * VERSION: 0.20.0
 * DATE: 03-Sep-2015
 * UPDATES AND DOCS AT: https://prostyle.io/plus/
 * 
 * This file is part of ProStyle Plus, a set of premium extensions for ProStyle. It may be
 * used for free for personal projects or licensed per website domain name for commercial use.
 * 
 * @copyright - Copyright (c) 2013-2015, Pro Graphics, Inc. All rights reserved. 
 * @license - This work is subject to the terms at https://prostyle.io/plus/license/
 * @author: Gary Chamberlain, gary@pro.graphics.
 * 
 **/

var __extends=this&&this.__extends||function(l,h){function p(){this.constructor=l}for(var k in h)h.hasOwnProperty(k)&&(l[k]=h[k]);p.prototype=h.prototype;l.prototype=new p},ProStyle;
(function(l){(function(h){(function(h){(function(k){var h=function(h){function n(k,l){void 0===k&&(k=0);void 0===l&&(l=100);h.call(this,"mousemove");this.startPercent=k;this.endPercent=l;this.player=this.canvas=this.mouseoutBound=this.mousemoveBound=void 0;this.startVal=0;this.endVal=100;Math.max(Math.min(0,k),100);Math.max(Math.min(0,l),100);this.startVal=this.startPercent/100;this.endVal=this.endPercent/100;this.mousemoveBound=this.mousemove.bind(this);this.mouseoutBound=this.mouseout.bind(this)}
__extends(n,h);n.prototype.start=function(k,l){this.stop();this.canvas=k;this.player=l;k.frame.div.addEventListener("mousemove",this.mousemoveBound);k.frame.div.addEventListener("mouseout",this.mouseoutBound)};n.prototype.stop=function(){void 0!==this.player&&(this.canvas.frame.div.removeEventListener("mousemove",this.mousemoveBound),this.canvas.frame.div.removeEventListener("mouseout",this.mouseoutBound),this.player=this.canvas=void 0)};n.prototype.mouseout=function(k){this.player&&this.player.playCurrentStep()};
n.prototype.mousemove=function(k){var n=k.currentTarget,h=l.Util.getOffset(n),h=k.pageX-h.left,p=n.offsetWidth;console.log(n,h,p);this.player.seek(this.posToSeek(h/p));k.stopPropagation();k.preventDefault()};n.prototype.posToSeek=function(k){var l;if(this.startVal==this.endVal)return k<this.startVal?0:100;if(this.startVal<this.endVal){if(k<this.startVal)return 0;if(k>this.endVal)return 100;l=this.endVal-this.startVal;return(k-this.startVal)/l}if(k>this.startVal)return 0;if(k<this.endVal)return 100;
l=this.startVal-this.endVal;return(this.startVal-k)/l};n.prototype.serialize=function(){return k.serialize(this)};return n}(l.Controllers.Controller);k.MouseMoveController=h})(h.MouseMove||(h.MouseMove={}))})(h.Controllers||(h.Controllers={}))})(l.Extensions||(l.Extensions={}))})(ProStyle||(ProStyle={}));
(function(l){(function(h){function p(a,g){var c=a.length,e=g.length;if(c<e)return p(g,a);for(var b=0,d=[],f=0;f<e;f++)b+=a[f]+g[f],d[f]=b&268435455,b>>>=28;for(;f<c;f++)b+=a[f],d[f]=b&268435455,b>>>=28;b&&(d[f]=b);return d}function k(a,g){var c=a.length,e=g.length,b=0,d=[];if(e>c)return[];if(e==c){if(g[e-1]>a[e-1])return[];if(1==e)return[a[0]-g[0]]}for(var f=0;f<e;f++)b+=a[f]-g[f],d[f]=b&268435455,b>>=28;for(;f<c;f++)b+=a[f],d[f]=b&268435455,b>>=28;if(b)return[];if(d[f-1])return d;for(;1<f&&0==d[f-
1];)f--;return d.slice(0,f)}function n(a,g){g=g.concat([0]);var c=a.length,e=g.length,b=[],d,f,k,m,l,h,n,p,r;for(d=c+e;0<=d;d--)b[d]=0;for(d=0;d<c;d++)if(f=a[d])for(k=0,p=f>>14,n=f&16383,m=d,f=0;f<e;f++,m++){l=g[f];h=l>>14;l&=16383;var q=l*p+n*h;r=q>>14;q&=16383;k+=b[m]+n*l+(q<<14);b[m]=k&268435455;k=(k>>28)+h*p+r}d=b.length;if(b[d-1])return b;for(;1<d&&0==b[d-1];)d--;return b.slice(0,d)}function v(a){for(var g=[];0<a--;)g[a]=0;return g}function q(a,g,c){for(var e=0;0<=g&&0<c--;)e=268435456*e+a[g--];
return e}function u(a,g){var c=a.length-1,e=g.length-1,b=c-e;if(c<e||c==e&&(a[c]<g[c]||0<c&&a[c]==g[c]&&a[c-1]<g[c-1]))return this.q=[0],this.mod=a,this;if(c==e&&4>q(a,e,2)/q(g,e,2)){for(var d=0;;){e=k(a,g);if(0==e.length)break;a=e;d++}this.q=[d];this.mod=a;return this}var f,l;l=Math.floor(Math.log(g[e])/z)+1;if(f=28-l){a=a.concat();g=g.concat();for(m=e;0<m;m--)g[m]=g[m]<<f&268435455|g[m-1]>>l;g[0]=g[0]<<f&268435455;a[c]&268435455<<l&268435455&&(a[++c]=0,b++);for(m=c;0<m;m--)a[m]=a[m]<<f&268435455|
a[m-1]>>l;a[0]=a[0]<<f&268435455}var m,h,p,d=v(b+1);for(p=v(b).concat(g);;){h=k(a,p);if(0==h.length)break;d[b]++;a=h}var b=g[e],r=q(g,e,2);for(m=c;m>e;m--){c=m-e-1;d[c]=m>=a.length?1:a[m]==b?268435455:Math.floor(q(a,m,2)/b);for(h=q(a,m,3);d[c]*r>h;)d[c]--;p=p.slice(1);h=k(a,n([d[c]],p));0==h.length&&(d[c]--,h=k(a,n([d[c]],p)));a=h}if(f){for(m=0;m<a.length-1;m++)a[m]=a[m]>>f|a[m+1]<<l&268435455;a[a.length-1]>>=f}for(;1<d.length&&0==d[d.length-1];)d=d.slice(0,d.length-1);for(;1<a.length&&0==a[a.length-
1];)a=a.slice(0,a.length-1);this.mod=a;this.q=d;return this}function r(a,g){if(1==g.length){if(1==a.length)return[a[0]%g[0]];if(16383>g[0]){var c;c=g[0];if(16383<c)c=r(a,[c]);else{for(var e=0,b,d=a.length-1;0<=d;d--)b=a[d],e=((b>>14)+(e<<14))%c,e=((b&16383)+(e<<14))%c;c=e}return[c]}}return u(a,g).mod}function w(a,g,c){var e=[1],b,d,f=a.concat(),k=[];a=2*c.length;for(k[a--]=1;0<=a;a--)k[a]=0;k=u(k,c).q;for(a=0;a<g.length;a++)for(d=1,b=0;28>b;b++,d<<=1)g[a]&d&&(e=t(n(e,f),c,k)),f=t(n(f,f),c,k);return e}
function t(a,g,c){var e=a.length-(g.length<<1);if(0<e)return t(a.slice(0,e).concat(t(a.slice(e),g,c)),g,c);var e=g.length+1,b=n(a.slice(g.length-1),c).slice(e),d=a.slice(0,e),b=n(b,g).slice(0,e);a=k(d,b);0==a.length&&(d[e]=1,a=k(d,b));for(d=0;;d++){e=k(a,g);if(0==e.length)break;a=e;if(3<=d)return t(a,g,c)}return a}function x(a,g){var c=k(a,g);0==c.length?(this.a=k(g,a),this.sign=1):(this.a=c,this.sign=0);return this}function A(a,g){if(a.sign){if(g.sign)return x(g,a);this.a=p(a,g);this.sign=1}else if(g.sign)this.a=
p(a,g),this.sign=0;else return x(a,g);return this}function y(a,g){var c=g.concat(),e,b,d=[1],f=[0],l;d.sign=0;for(f.sign=0;1<c.length||c[0];)e=c.concat(),b=u(a,c),c=b.mod,b=b.q,a=e,e=f.concat(),l=f.sign,b=n(f,b),b.sign=f.sign,b=A(d,b),f=b.a,f.sign=b.sign,d=e,d.sign=l;a:if(c=[1],a.length!=c.length)c=0;else{for(e=a.length-1;0<=e;e--)if(a[e]!=c[e]){c=0;break a}c=1}if(0==c)return[0];d.sign&&(d=k(g,d));return d}var z=Math.log(2);h.c=function(){if(!l.pl){var a=window.location.hostname.trim().toLowerCase();
if(""!==a&&"localhost"!==a&&"127.0.0.1"!==a){l.hn=a;a=l.plusLicense;if(void 0===a)l.pl=2;else{var g,c=[[239800443,61606552,84],[201280845,11],[166507101,13]];g=a;for(var e="",b=0,d=0,f,h=0;h<g.length;h++)f="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".indexOf(g.charAt(h)),0<=f&&(b&&(e+=String.fromCharCode(f<<8-b&255|d)),d=f>>b,b+=2,8==b&&(b=0));g=e;e=g.charCodeAt(0);b=g.substr(1,e);g=g.substr(e+1);d=8*b.length;f=1;for(var e=[0],m=h=0,q=1,t=b.charCodeAt(0),u=0;u<d;u++)268435455<
f&&(f=1,e[++h]=0),t&q&&(e[h]|=f),f<<=1,255<(q<<=1)&&(q=1,t=b.charCodeAt(++m));f=c[0];b=c[1];c=c[2];d=w(r(e,b),r(f,k(b,[1])),b);e=w(r(e,c),r(f,k(c,[1])),c);f=k(e,d);0==f.length?(f=k(d,e),f=r(n(f,y(b,c)),c),f=k(c,f)):f=r(n(f,y(b,c)),c);d=c=p(n(f,b),d);f=28*d.length;h=1;m=0;c=[0];q=1;for(b=e=0;b<f;b++)d[m]&h&&(c[e]|=q),255<(q<<=1)&&(q=1,c[++e]=0),268435455<(h<<=1)&&(h=1,m++);for(;0==c[e];)e--;d="";for(b=0;b<=e;b++)d+=String.fromCharCode(c[b]);e=d;h=e.length;c=[];for(b=0;256>b;b++)c[b]=b;for(m=d=0;2>
m;m++)for(b=0;256>b;b++)d=(e.charCodeAt(b%h)+c[b]+d)%256,f=c[b],c[b]=c[d],c[d]=f;h="";for(b=0;b<g.length;b++)e=b&255,d=c[e]+d&255,f=c[e],c[e]=c[d],c[d]=f,h+=String.fromCharCode(g.charCodeAt(b)^c[(c[e]+c[d])%256]);g=h;l.pld=g;l.pl=g===a?1:3}console.log("pl",l.pl);console.log("pld",l.pld);console.log("hn",l.hn)}}}})(l.Extensions||(l.Extensions={}))})(ProStyle||(ProStyle={}));
(function(l){(function(h){(function(l){(function(k){k.deserialize=function(l){h.c();return new k.MouseMoveController(l.start,l.end)}})(l.MouseMove||(l.MouseMove={}))})(h.Controllers||(h.Controllers={}))})(l.Extensions||(l.Extensions={}))})(ProStyle||(ProStyle={}));
(function(l){(function(h){(function(h){(function(h){h.serialize=function(h){return{start:h.startPercent,end:h.endPercent}}})(h.MouseMove||(h.MouseMove={}))})(h.Controllers||(h.Controllers={}))})(l.Extensions||(l.Extensions={}))})(ProStyle||(ProStyle={}));
