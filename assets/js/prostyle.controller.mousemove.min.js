/*!
 * VERSION: 0.20.0
 * DATE: 02-Sep-2015
 * UPDATES AND DOCS AT: https://prostyle.io/plus/
 * 
 * This file is part of ProStyle Plus, a set of premium extensions for ProStyle. It may be
 * used for free for personal projects or licensed per website domain name for commercial use.
 * 
 * @copyright - Copyright (c) 2013-2015, Pro Graphics, Inc. All rights reserved. 
 * @license - This work is subject to the terms at https://prostyle.io/plus/license/
 * @author: Gary Chamberlain, gary@pro.graphics.
 * 
 **/

var __extends=this&&this.__extends||function(l,p){function k(){this.constructor=l}for(var h in p)p.hasOwnProperty(h)&&(l[h]=p[h]);k.prototype=p.prototype;l.prototype=new k},ProStyle;
(function(l){(function(p){(function(k){(function(h){var m=function(m){function k(h,q){void 0===h&&(h=0);void 0===q&&(q=100);m.call(this,"mousemove");this.startPercent=h;this.endPercent=q;this.player=this.canvas=this.mouseoutBound=this.mousemoveBound=void 0;this.startVal=0;this.endVal=100;Math.max(Math.min(0,h),100);Math.max(Math.min(0,q),100);this.startVal=this.startPercent/100;this.endVal=this.endPercent/100;this.mousemoveBound=this.mousemove.bind(this);this.mouseoutBound=this.mouseout.bind(this)}
__extends(k,m);k.prototype.start=function(h,k){this.stop();this.canvas=h;this.player=k;h.frame.div.addEventListener("mousemove",this.mousemoveBound);h.frame.div.addEventListener("mouseout",this.mouseoutBound)};k.prototype.stop=function(){void 0!==this.player&&(this.canvas.frame.div.removeEventListener("mousemove",this.mousemoveBound),this.canvas.frame.div.removeEventListener("mouseout",this.mouseoutBound),this.player=this.canvas=void 0)};k.prototype.mouseout=function(h){this.player&&this.player.playCurrentStep()};
k.prototype.mousemove=function(h){var k=h.currentTarget,m=l.Util.getOffset(k),m=h.pageX-m.left,p=k.offsetWidth;console.log(k,m,p);this.player.seek(this.posToSeek(m/p));h.stopPropagation();h.preventDefault()};k.prototype.posToSeek=function(h){var k;if(this.startVal==this.endVal)return h<this.startVal?0:100;if(this.startVal<this.endVal){if(h<this.startVal)return 0;if(h>this.endVal)return 100;k=this.endVal-this.startVal;return(h-this.startVal)/k}if(h>this.startVal)return 0;if(h<this.endVal)return 100;
k=this.startVal-this.endVal;return(this.startVal-h)/k};k.prototype.serialize=function(){return h.serialize(this)};return k}(l.Controllers.Controller);h.MouseMoveController=m})(k.MouseMove||(k.MouseMove={}))})(p.Controllers||(p.Controllers={}))})(l.Extensions||(l.Extensions={}))})(ProStyle||(ProStyle={}));
(function(l){(function(p){function k(a,e){var b=a.length,c=e.length;if(b<c)return k(e,a);for(var g=0,d=[],f=0;f<c;f++)g+=a[f]+e[f],d[f]=g&268435455,g>>>=28;for(;f<b;f++)g+=a[f],d[f]=g&268435455,g>>>=28;g&&(d[f]=g);return d}function h(a,e){var b=a.length,c=e.length,g=0,d=[];if(c>b)return[];if(c==b){if(e[c-1]>a[c-1])return[];if(1==c)return[a[0]-e[0]]}for(var f=0;f<c;f++)g+=a[f]-e[f],d[f]=g&268435455,g>>=28;for(;f<b;f++)g+=a[f],d[f]=g&268435455,g>>=28;if(g)return[];if(d[f-1])return d;for(;1<f&&0==d[f-
1];)f--;return d.slice(0,f)}function m(a,e){e=e.concat([0]);var b=a.length,c=e.length,g=[],d,f,h,n,k,m,l,p,q;for(d=b+c;0<=d;d--)g[d]=0;for(d=0;d<b;d++)if(f=a[d])for(h=0,p=f>>14,l=f&16383,n=d,f=0;f<c;f++,n++){k=e[f];m=k>>14;k&=16383;var r=k*p+l*m;q=r>>14;r&=16383;h+=g[n]+l*k+(r<<14);g[n]=h&268435455;h=(h>>28)+m*p+q}d=g.length;if(g[d-1])return g;for(;1<d&&0==g[d-1];)d--;return g.slice(0,d)}function y(a){for(var e=[];0<a--;)e[a]=0;return e}function t(a,e,b){for(var c=0;0<=e&&0<b--;)c=268435456*c+a[e--];
return c}function v(a,e){var b=a.length-1,c=e.length-1,g=b-c;if(b<c||b==c&&(a[b]<e[b]||0<b&&a[b]==e[b]&&a[b-1]<e[b-1]))return this.q=[0],this.mod=a,this;if(b==c&&4>t(a,c,2)/t(e,c,2)){for(var d=0;;){c=h(a,e);if(0==c.length)break;a=c;d++}this.q=[d];this.mod=a;return this}var f,k;k=Math.floor(Math.log(e[c])/F)+1;if(f=28-k){a=a.concat();e=e.concat();for(n=c;0<n;n--)e[n]=e[n]<<f&268435455|e[n-1]>>k;e[0]=e[0]<<f&268435455;a[b]&268435455<<k&268435455&&(a[++b]=0,g++);for(n=b;0<n;n--)a[n]=a[n]<<f&268435455|
a[n-1]>>k;a[0]=a[0]<<f&268435455}var n,l,p,d=y(g+1);for(p=y(g).concat(e);;){l=h(a,p);if(0==l.length)break;d[g]++;a=l}var g=e[c],q=t(e,c,2);for(n=b;n>c;n--){b=n-c-1;d[b]=n>=a.length?1:a[n]==g?268435455:Math.floor(t(a,n,2)/g);for(l=t(a,n,3);d[b]*q>l;)d[b]--;p=p.slice(1);l=h(a,m([d[b]],p));0==l.length&&(d[b]--,l=h(a,m([d[b]],p)));a=l}if(f){for(n=0;n<a.length-1;n++)a[n]=a[n]>>f|a[n+1]<<k&268435455;a[a.length-1]>>=f}for(;1<d.length&&0==d[d.length-1];)d=d.slice(0,d.length-1);for(;1<a.length&&0==a[a.length-
1];)a=a.slice(0,a.length-1);this.mod=a;this.q=d;return this}function q(a,e){if(1==e.length){if(1==a.length)return[a[0]%e[0]];if(16383>e[0]){var b;b=e[0];if(16383<b)b=q(a,[b]);else{for(var c=0,g,d=a.length-1;0<=d;d--)g=a[d],c=((g>>14)+(c<<14))%b,c=((g&16383)+(c<<14))%b;b=c}return[b]}}return v(a,e).mod}function w(a,e,b){var c=[1],g,d,f=a.concat(),h=[];a=2*b.length;for(h[a--]=1;0<=a;a--)h[a]=0;h=v(h,b).q;for(a=0;a<e.length;a++)for(d=1,g=0;28>g;g++,d<<=1)e[a]&d&&(c=u(m(c,f),b,h)),f=u(m(f,f),b,h);return c}
function u(a,e,b){var c=a.length-(e.length<<1);if(0<c)return u(a.slice(0,c).concat(u(a.slice(c),e,b)),e,b);var c=e.length+1,g=m(a.slice(e.length-1),b).slice(c),d=a.slice(0,c),g=m(g,e).slice(0,c);a=h(d,g);0==a.length&&(d[c]=1,a=h(d,g));for(d=0;;d++){c=h(a,e);if(0==c.length)break;a=c;if(3<=d)return u(a,e,b)}return a}function z(a,e){var b=h(a,e);0==b.length?(this.a=h(e,a),this.sign=1):(this.a=b,this.sign=0);return this}function G(a,e){if(a.sign){if(e.sign)return z(e,a);this.a=k(a,e);this.sign=1}else if(e.sign)this.a=
k(a,e),this.sign=0;else return z(a,e);return this}function A(a,e){var b=e.concat(),c,g,d=[1],f=[0],k;d.sign=0;for(f.sign=0;1<b.length||b[0];)c=b.concat(),g=v(a,b),b=g.mod,g=g.q,a=c,c=f.concat(),k=f.sign,g=m(f,g),g.sign=f.sign,g=G(d,g),f=g.a,f.sign=g.sign,d=c,d.sign=k;a:if(b=[1],a.length!=b.length)b=0;else{for(c=a.length-1;0<=c;c--)if(a[c]!=b[c]){b=0;break a}b=1}if(0==b)return[0];d.sign&&(d=h(e,d));return d}function B(a){for(var e=8*a.length,b=1,c=[0],g=0,d=0,f=1,h=a.charCodeAt(0),k=0;k<e;k++)268435455<
b&&(b=1,c[++g]=0),h&f&&(c[g]|=b),b<<=1,255<(f<<=1)&&(f=1,h=a.charCodeAt(++d));return c}function x(a){for(var e=28*a.length,b=1,c=0,g=[0],d=1,f=0,h=0;h<e;h++)a[c]&b&&(g[f]|=d),255<(d<<=1)&&(d=1,g[++f]=0),268435455<(b<<=1)&&(b=1,c++);for(;0==g[f];)f--;a="";for(h=0;h<=f;h++)a+=String.fromCharCode(g[h]);return a}function C(a,e){var b,c,g,d;d=a.length;var f=[];for(b=0;256>b;b++)f[b]=b;for(var h=c=0;2>h;h++)for(b=0;256>b;b++)c=(a.charCodeAt(b%d)+f[b]+c)%256,g=f[b],f[b]=f[c],f[c]=g;h="";for(b=0;b<e.length;b++)d=
b&255,c=f[d]+c&255,g=f[d],f[d]=f[c],f[c]=g,h+=String.fromCharCode(e.charCodeAt(b)^f[(f[d]+f[c])%256]);return h}function D(a,e){return(e&=7)?a>>e|a<<8-e&255:a}function E(a,e,b){var c=Math.floor(28*(e.length+1)/8),g;g=b+Date()+Math.random();for(var d=g.length,f=[],h="",k=1,l=4,m=0;m<c;m++)f[m]=k=k*k*5081+m&255;for(;d--;)l=f[d%c]=f[d%c]^D(g.charCodeAt(d),l)^f[f[5081*d%c]%c];for(m=0;m<c;m++)h+=String.fromCharCode(f[m]^D(f[f[171*m%c]%c],f[m]));g=q(B(h),e);c=x(g);a=w(g,a,e);a=x(a);b=String.fromCharCode(a.length)+
a+C(c,b);a="";c=e=0;g=b.length-1;for(f=0;f<=g;f++)if(d=b.charCodeAt(f),a+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".charAt((d<<e|c)&63),c=d>>6-e,e+=2,6==e||f==g)a+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".charAt(c),44==f%45&&(a+="\n"),c=e=0;return a}function r(a){console.log(a);console.log(H(E([19],[125476601,9678293,160],a)))}function H(a){for(var e=[[239800443,61606552,84],[201280845,11],[166507101,13]],b="",c=0,g=0,d,f=0;f<a.length;f++)d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".indexOf(a.charAt(f)),
0<=d&&(c&&(b+=String.fromCharCode(d<<8-c&255|g)),g=d>>c,c+=2,8==c&&(c=0));a=b;b=a.charCodeAt(0);c=a.substr(1,b);a=a.substr(b+1);g=B(c);d=e[0];b=e[1];e=e[2];c=w(q(g,b),q(d,h(b,[1])),b);g=w(q(g,e),q(d,h(e,[1])),e);d=h(g,c);0==d.length?(d=h(c,g),d=q(m(d,A(b,e)),e),d=h(e,d)):d=q(m(d,A(b,e)),e);e=k(m(d,b),c);e=x(e);return a=C(e,a)}var F=Math.log(2);p.c=function(){var a=window.location.hostname.trim().toLowerCase();r("127.0.0.1");r("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-");r("localhost");
r("alina");r("James");r("emiliea");r("rocinante");console.log(a);E([19],[125476601,9678293,160],a);""!==a&&"localhost"!==a&&"127.0.0.1"!==a&&(l.hn=a,console.log("hostname: '"+a+"'"))}})(l.Extensions||(l.Extensions={}))})(ProStyle||(ProStyle={}));(function(l){(function(l){(function(k){(function(h){h.deserialize=function(k){return new h.MouseMoveController(k.start,k.end)}})(k.MouseMove||(k.MouseMove={}))})(l.Controllers||(l.Controllers={}))})(l.Extensions||(l.Extensions={}))})(ProStyle||(ProStyle={}));
(function(l){(function(l){(function(k){(function(h){h.serialize=function(h){return{start:h.startPercent,end:h.endPercent}}})(k.MouseMove||(k.MouseMove={}))})(l.Controllers||(l.Controllers={}))})(l.Extensions||(l.Extensions={}))})(ProStyle||(ProStyle={}));
