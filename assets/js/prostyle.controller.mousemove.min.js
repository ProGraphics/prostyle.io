/*!
 * VERSION: 0.20.0
 * DATE: 17-Aug-2015
 * UPDATES AND DOCS AT: https://prostyle.io/plus/
 * 
 * This file is part of ProStyle Plus, a set of premium extensions for ProStyle. It may be
 * used for free for personal projects or licensed per website domain name for commercial use.
 * 
 * @copyright - Copyright (c) 2013-2015, Pro Graphics, Inc. All rights reserved. 
 * @license - This work is subject to the terms at https://prostyle.io/plus/license/
 * @author: Gary Chamberlain, gary@pro.graphics.
 * 
 **/

var __extends=this&&this.__extends||function(c,a){function b(){this.constructor=c}for(var e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b},ProStyle;
(function(c){(function(a){(function(a){(function(a){var b=function(b){function d(f,a){void 0===f&&(f=0);void 0===a&&(a=100);b.call(this,"mousemove");this.startPercent=f;this.endPercent=a;this.player=this.canvas=this.mouseoutBound=this.mousemoveBound=void 0;this.startVal=0;this.endVal=100;Math.max(Math.min(0,f),100);Math.max(Math.min(0,a),100);this.startVal=this.startPercent/100;this.endVal=this.endPercent/100;this.mousemoveBound=this.mousemove.bind(this);this.mouseoutBound=this.mouseout.bind(this)}
__extends(d,b);d.prototype.start=function(a,c){this.stop();this.canvas=a;this.player=c;a.frame.div.addEventListener("mousemove",this.mousemoveBound);a.frame.div.addEventListener("mouseout",this.mouseoutBound)};d.prototype.stop=function(){void 0!==this.player&&(this.canvas.frame.div.removeEventListener("mousemove",this.mousemoveBound),this.canvas.frame.div.removeEventListener("mouseout",this.mouseoutBound),this.player=this.canvas=void 0)};d.prototype.mouseout=function(a){this.player&&this.player.playCurrentStep()};
d.prototype.mousemove=function(a){var b=a.currentTarget,e=c.Util.getOffset(b),e=a.pageX-e.left,d=b.offsetWidth;console.log(b,e,d);this.player.seek(this.posToSeek(e/d));a.stopPropagation();a.preventDefault()};d.prototype.posToSeek=function(a){var b;if(this.startVal==this.endVal)return a<this.startVal?0:100;if(this.startVal<this.endVal){if(a<this.startVal)return 0;if(a>this.endVal)return 100;b=this.endVal-this.startVal;return(a-this.startVal)/b}if(a>this.startVal)return 0;if(a<this.endVal)return 100;
b=this.startVal-this.endVal;return(this.startVal-a)/b};d.prototype.serialize=function(){return a.serialize(this)};return d}(c.Controllers.Controller);a.MouseMoveController=b})(a.MouseMove||(a.MouseMove={}))})(a.Controllers||(a.Controllers={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(a){(function(a){(function(a){a.deserialize=function(b){return new a.MouseMoveController(b.start,b.end)}})(a.MouseMove||(a.MouseMove={}))})(a.Controllers||(a.Controllers={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(a){(function(a){(function(a){a.serialize=function(a){return{start:a.startPercent,end:a.endPercent}}})(a.MouseMove||(a.MouseMove={}))})(a.Controllers||(a.Controllers={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
