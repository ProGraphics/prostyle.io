/*!
 * VERSION: 0.20.0
 * DATE: 17-Aug-2015
 * UPDATES AND DOCS AT: https://prostyle.io/plus/
 * 
 * This file is part of ProStyle Plus, a set of premium extensions for ProStyle. It may be
 * used for free for personal projects or licensed per website domain name for commercial use.
 * 
 * @copyright - Copyright (c) 2013-2015, Pro Graphics, Inc. All rights reserved. 
 * @license - This work is subject to the terms at https://prostyle.io/plus/license/
 * @author: Gary Chamberlain, gary@pro.graphics.
 * 
 **/

var __extends=this&&this.__extends||function(c,a){function d(){this.constructor=c}for(var f in a)a.hasOwnProperty(f)&&(c[f]=a[f]);d.prototype=a.prototype;c.prototype=new d},ProStyle;
(function(c){(function(a){(function(a){(function(a){var d=function(d){function e(a,b,c,e){void 0===a&&(a=.01);void 0===b&&(b=.001);void 0===c&&(c=1);void 0===e&&(e=.1);d.call(this,"mousewheel");this.speed=a;this.ctrlSpeed=b;this.altSpeed=c;this.altCtrlSpeed=e;this.player=this.canvas=this.wheelEventBound=void 0;this.wheelEventBound=this.wheelEvent.bind(this)}__extends(e,d);e.prototype.start=function(a,b){this.stop();this.canvas=a;this.player=b;a.div.addEventListener("wheel",this.wheelEventBound)};
e.prototype.stop=function(){void 0!==this.player&&(this.canvas.div.removeEventListener("wheel",this.wheelEventBound),this.player=this.canvas=void 0)};e.prototype.wheelEvent=function(a){var b;b=0>c.Util.convertToNumber(a.deltaY,-1);if(a.shiftKey)b=this.moveByStep(b);else{var d=a.altKey?a.ctrlKey?this.altCtrlSpeed:this.altSpeed:a.ctrlKey?this.ctrlSpeed:this.speed;b||(d=-d);b=this.moveByTime(d)}d=this.player.timeline.totalDuration();.01>b?b=d:b>d&&(b=.01);this.player.timeline.totalTime(b);this.player.timeline.pause(b);
this.player.pause();a.preventDefault();return!1};e.prototype.moveByStep=function(a){var b=this.player.getCurrentStep();a?b.playerStepIndex<this.player.steps.length-1&&this.player.seekStep(this.player.steps[b.playerStepIndex+1]):0<b.playerStepIndex&&this.player.seekStep(this.player.steps[b.playerStepIndex-1]);return 0};e.prototype.moveByTime=function(a){var b=this.player.timeline.totalTime()+a;return b=Math.round(b/a)*a};e.prototype.resize=function(){};e.prototype.serialize=function(){return a.serialize(this)};
return e}(c.Controllers.Controller);a.MouseWheelController=d})(a.MouseWheel||(a.MouseWheel={}))})(a.Controllers||(a.Controllers={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));(function(c){(function(a){(function(a){(function(a){a.deserialize=function(c){return new a.MouseWheelController}})(a.MouseWheel||(a.MouseWheel={}))})(a.Controllers||(a.Controllers={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(a){(function(a){(function(a){a.serialize=function(a){return{}}})(a.MouseWheel||(a.MouseWheel={}))})(a.Controllers||(a.Controllers={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
