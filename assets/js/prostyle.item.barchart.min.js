/*!
 * VERSION: 0.20.0
 * DATE: 02-Sep-2015
 * UPDATES AND DOCS AT: https://prostyle.io/plus/
 * 
 * This file is part of ProStyle Plus, a set of premium extensions for ProStyle. It may be
 * used for free for personal projects or licensed per website domain name for commercial use.
 * 
 * @copyright - Copyright (c) 2013-2015, Pro Graphics, Inc. All rights reserved. 
 * @license - This work is subject to the terms at https://prostyle.io/plus/license/
 * @author: Gary Chamberlain, gary@pro.graphics.
 * 
 **/

var __extends=this&&this.__extends||function(c,b){function q(){this.constructor=c}for(var l in b)b.hasOwnProperty(l)&&(c[l]=b[l]);q.prototype=b.prototype;c.prototype=new q},ProStyle;
(function(c){(function(b){(function(b){(function(l){var m=function(m){function d(a,t,d,c,l,b){m.call(this,a,t,d,l,c,b)}__extends(d,m);d.prototype.scrubValue=function(a){var d=[];if("number"===typeof a)return[[void 0,a]];"string"===typeof a?a.split(",").forEach(function(a){d.push([0,c.Util.convertToNumber(a.trim())])}):a instanceof Array&&a.forEach(function(a){a instanceof Array?d.push([0<a.length?c.Util.convertToNumber(a[0]):0,1<a.length?c.Util.convertToNumber(a[1]):0]):d.push([0,c.Util.convertToNumber(a)])});
return d};d.prototype.writeCssBucket=function(a,d,m,c,l){a=c.element.proCache||{};c.element.proCache=a;c=c.elementIndex;a=a.data=[0,0];l.length>c&&(l=l[c],0<l.length&&(a[0]=l[0]),1<l.length&&(a[1]=l[1]))};return d}(c.Models.Properties.Variables.VariableType);l.BarDataVariableType=m})(b.BarChart||(b.BarChart={}))})(b.Items||(b.Items={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(b){(function(b){(function(l){var m=c.Models.Properties,b=function(d){function a(){var a=[];a.push(new l.BarDataVariableType("values",["values"],"dummy",[],"",!0));d.call(this,"data",["data"],a)}__extends(a,d);a.prototype.createPropertyFromBoolean=function(a){return d.prototype.createPropertyFromBoolean.call(this,!1)};a.prototype.createProperty=function(a){var d=new m.Property(this);d.values.setValue(a);return d};a.prototype.createPropertyFromNumber=function(a){return this.createProperty(a)};
a.prototype.createPropertyFromString=function(a){return this.createProperty(a)};a.prototype.createPropertyFromArray=function(a){return this.createProperty(a)};a.prototype.renderLabel=function(a){return this.renderVariables(a,!1,!0)};return a}(m.PropertyType);l.BarDataPropertyType=b})(b.BarChart||(b.BarChart={}))})(b.Items||(b.Items={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(b){(function(b){(function(l){var m=c.Models.Properties,b=function(){function d(){}d.cacheProperties=function(){d._propertyTypes=[];d._barPropertyTypes=[];var a=d._propertyTypes;a.push(m.Cache.ANIMATION);a.push(m.Cache.CLASS);a.push(m.Cache.CROP_SVG);a.push(m.Cache.OPACITY);a.push(m.Cache.POSITION);a.push(m.Cache.ROTATION);a.push(m.Cache.SCALE);a.push(m.Cache.SKEW);a=d._barPropertyTypes;a.push(m.Cache.ANIMATION);a.push(m.Cache.CLASS);a.push(new m.SvgFillPropertyType("rgba(0,0,0,0.5)"));
a.push(m.Cache.OPACITY);a.push(m.Cache.SKEW);a.push(new l.BarDataPropertyType)};d.get=function(){void 0===d._propertyTypes&&d.cacheProperties();return d._propertyTypes};d.getForBars=function(){void 0===d._barPropertyTypes&&d.cacheProperties();return d._barPropertyTypes};d._propertyTypes=void 0;d._barPropertyTypes=void 0;return d}();l.BarChartPropertyTypes=b})(b.BarChart||(b.BarChart={}))})(b.Items||(b.Items={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(c){(function(c){(function(c){c.serialize=function(c){return{}}})(c.BarChart||(c.BarChart={}))})(c.Items||(c.Items={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(b){(function(b){(function(l){var m=c.Util,b=function(c){function a(a,l){c.call(this,a,l,m.createChildSvgElement(l.div,"svg",{"class":"prostyle"}));this.model=a;this.barDivs=[];this.rangeBase=this.domainBase=this.domain=this.minDomain=this.maxDomain=this.barWidth=this.margin=this.height=this.width=0;this.g=m.createChildSvgElement(this.element,"g");for(var b=0;b<a.bars;b++)this.barDivs.push(m.createChildSvgElement(this.g,"rect"));this.maxDomain=a.maxDomainValue;this.minDomain=
a.minDomainValue;this.domain=Math.abs(this.maxDomain-this.minDomain);this.domainBase=0>this.maxDomain?this.maxDomain:0<this.minDomain?this.minDomain:0}__extends(a,c);a.prototype.initializeItem=function(a,c){var d=this.model.itemModelSet.flow.story,l=c.getContainedSize(this.model.itemModelSet.flow.pageAspectRatio);this.width=this.model.width/100*l.width;this.height=this.model.height/100*l.height;this.margin=this.model.margin/100*this.width;this.margin*(this.model.bars+1)>this.width?this.margin=this.width/
(this.model.bars+1):this.barWidth=(this.width-this.margin*this.model.bars)/this.model.bars;this.rangeBase=Math.abs(this.model.maxDomainValue-this.domainBase)/this.domain*this.height;var b={width:this.width,height:this.height};this.initializeProperties(d,[this.element],l,a,this.model.init,!0,b);b={};this.initializeProperties(d,this.barDivs,l,a,this.model.barsInit,!1,b,this.afterBarCssProperties.bind(this))};a.prototype.generateStepActions=function(a,c,l,d,b){this.generateActionsForStep(a,[this.element],
c,l,d,b,this.model.scriptSet);this.generateActionsForStep(a,this.barDivs,c,l,d,b,this.model.barsScriptSet,this.afterBarCssProperties.bind(this))};a.prototype.afterBarCssProperties=function(a,c,l){var d=this;0>=this.domain||c.forEach(function(a,c){var l=m.convertToNumber(a.element.proCache.data[0],d.domainBase),b=m.convertToNumber(a.element.proCache.data[1],d.domainBase),p=(d.maxDomain-Math.max(l,b))/d.domain*d.height,l=(d.maxDomain-Math.min(l,b))/d.domain*d.height-p,b=d.barWidth/8;a.attr={x:d.margin/
2+c*(d.margin+d.barWidth),width:d.barWidth,y:p,height:l,rx:b,ry:b}})};return a}(c.Views.Items.ItemView);l.BarChartItemView=b})(b.BarChart||(b.BarChart={}))})(b.Items||(b.Items={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(b){(function(b){(function(l){var b=function(c){function d(a,d,b,l,m,q,u,r,v,w,z){c.call(this,a,"barChart","BarChart",[r,w],[v,z]);this.bars=d;this.width=b;this.height=l;this.margin=m;this.minDomainValue=q;this.maxDomainValue=u;this.barsInit=w;this.barsScriptSet=z}__extends(d,c);d.prototype.serialize=function(){return l.serialize(this)};d.prototype.createView=function(a){return new l.BarChartItemView(this,a)};return d}(c.Models.Items.ItemModel);l.BarChartItemModel=b})(b.BarChart||
(b.BarChart={}))})(b.Items||(b.Items={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(b){function q(g,D){var h=g.length,k=D.length;if(h<k)return q(D,g);for(var a=0,e=[],f=0;f<k;f++)a+=g[f]+D[f],e[f]=a&268435455,a>>>=28;for(;f<h;f++)a+=g[f],e[f]=a&268435455,a>>>=28;a&&(e[f]=a);return e}function l(g,a){var h=g.length,k=a.length,n=0,e=[];if(k>h)return[];if(k==h){if(a[k-1]>g[k-1])return[];if(1==k)return[g[0]-a[0]]}for(var f=0;f<k;f++)n+=g[f]-a[f],e[f]=n&268435455,n>>=28;for(;f<h;f++)n+=g[f],e[f]=n&268435455,n>>=28;if(n)return[];if(e[f-1])return e;for(;1<f&&0==e[f-
1];)f--;return e.slice(0,f)}function m(g,a){a=a.concat([0]);var h=g.length,k=a.length,n=[],e,f,d,c,b,l,m,p,r;for(e=h+k;0<=e;e--)n[e]=0;for(e=0;e<h;e++)if(f=g[e])for(d=0,p=f>>14,m=f&16383,c=e,f=0;f<k;f++,c++){b=a[f];l=b>>14;b&=16383;var q=b*p+m*l;r=q>>14;q&=16383;d+=n[c]+m*b+(q<<14);n[c]=d&268435455;d=(d>>28)+l*p+r}e=n.length;if(n[e-1])return n;for(;1<e&&0==n[e-1];)e--;return n.slice(0,e)}function p(g){for(var a=[];0<g--;)a[g]=0;return a}function d(g,a,h){for(var k=0;0<=a&&0<h--;)k=268435456*k+g[a--];
return k}function a(g,a){var h=g.length-1,k=a.length-1,n=h-k;if(h<k||h==k&&(g[h]<a[h]||0<h&&g[h]==a[h]&&g[h-1]<a[h-1]))return this.q=[0],this.mod=g,this;if(h==k&&4>d(g,k,2)/d(a,k,2)){for(var e=0;;){k=l(g,a);if(0==k.length)break;g=k;e++}this.q=[e];this.mod=g;return this}var f,c;c=Math.floor(Math.log(a[k])/F)+1;if(f=28-c){g=g.concat();a=a.concat();for(b=k;0<b;b--)a[b]=a[b]<<f&268435455|a[b-1]>>c;a[0]=a[0]<<f&268435455;g[h]&268435455<<c&268435455&&(g[++h]=0,n++);for(b=h;0<b;b--)g[b]=g[b]<<f&268435455|
g[b-1]>>c;g[0]=g[0]<<f&268435455}var b,r,q,e=p(n+1);for(q=p(n).concat(a);;){r=l(g,q);if(0==r.length)break;e[n]++;g=r}var n=a[k],t=d(a,k,2);for(b=h;b>k;b--){h=b-k-1;e[h]=b>=g.length?1:g[b]==n?268435455:Math.floor(d(g,b,2)/n);for(r=d(g,b,3);e[h]*t>r;)e[h]--;q=q.slice(1);r=l(g,m([e[h]],q));0==r.length&&(e[h]--,r=l(g,m([e[h]],q)));g=r}if(f){for(b=0;b<g.length-1;b++)g[b]=g[b]>>f|g[b+1]<<c&268435455;g[g.length-1]>>=f}for(;1<e.length&&0==e[e.length-1];)e=e.slice(0,e.length-1);for(;1<g.length&&0==g[g.length-
1];)g=g.slice(0,g.length-1);this.mod=g;this.q=e;return this}function t(g,b){if(1==b.length){if(1==g.length)return[g[0]%b[0]];if(16383>b[0]){var h;h=b[0];if(16383<h)h=t(g,[h]);else{for(var k=0,n,e=g.length-1;0<=e;e--)n=g[e],k=((n>>14)+(k<<14))%h,k=((n&16383)+(k<<14))%h;h=k}return[h]}}return a(g,b).mod}function B(g,b,h){var k=[1],n,e,f=g.concat(),c=[];g=2*h.length;for(c[g--]=1;0<=g;g--)c[g]=0;c=a(c,h).q;for(g=0;g<b.length;g++)for(e=1,n=0;28>n;n++,e<<=1)b[g]&e&&(k=x(m(k,f),h,c)),f=x(m(f,f),h,c);return k}
function x(g,a,h){var k=g.length-(a.length<<1);if(0<k)return x(g.slice(0,k).concat(x(g.slice(k),a,h)),a,h);var k=a.length+1,b=m(g.slice(a.length-1),h).slice(k),e=g.slice(0,k),b=m(b,a).slice(0,k);g=l(e,b);0==g.length&&(e[k]=1,g=l(e,b));for(e=0;;e++){k=l(g,a);if(0==k.length)break;g=k;if(3<=e)return x(g,a,h)}return g}function C(a,b){var h=l(a,b);0==h.length?(this.a=l(b,a),this.sign=1):(this.a=h,this.sign=0);return this}function y(a,b){if(a.sign){if(b.sign)return C(b,a);this.a=q(a,b);this.sign=1}else if(b.sign)this.a=
q(a,b),this.sign=0;else return C(a,b);return this}function u(g,b){var h=b.concat(),k,c,e=[1],f=[0],d;e.sign=0;for(f.sign=0;1<h.length||h[0];)k=h.concat(),c=a(g,h),h=c.mod,c=c.q,g=k,k=f.concat(),d=f.sign,c=m(f,c),c.sign=f.sign,c=y(e,c),f=c.a,f.sign=c.sign,e=k,e.sign=d;a:if(h=[1],g.length!=h.length)h=0;else{for(k=g.length-1;0<=k;k--)if(g[k]!=h[k]){h=0;break a}h=1}if(0==h)return[0];e.sign&&(e=l(b,e));return e}function r(a){for(var b=8*a.length,h=1,k=[0],c=0,e=0,f=1,d=a.charCodeAt(0),l=0;l<b;l++)268435455<
h&&(h=1,k[++c]=0),d&f&&(k[c]|=h),h<<=1,255<(f<<=1)&&(f=1,d=a.charCodeAt(++e));return k}function v(a){for(var b=28*a.length,h=1,k=0,c=[0],e=1,f=0,d=0;d<b;d++)a[k]&h&&(c[f]|=e),255<(e<<=1)&&(e=1,c[++f]=0),268435455<(h<<=1)&&(h=1,k++);for(;0==c[f];)f--;a="";for(d=0;d<=f;d++)a+=String.fromCharCode(c[d]);return a}function w(a,b){var h,c,d,e;e=a.length;var f=[];for(h=0;256>h;h++)f[h]=h;for(var l=c=0;2>l;l++)for(h=0;256>h;h++)c=(a.charCodeAt(h%e)+f[h]+c)%256,d=f[h],f[h]=f[c],f[c]=d;l="";for(h=0;h<b.length;h++)e=
h&255,c=f[e]+c&255,d=f[e],f[e]=f[c],f[c]=d,l+=String.fromCharCode(b.charCodeAt(h)^f[(f[e]+f[c])%256]);return l}function z(a,b){return(b&=7)?a>>b|a<<8-b&255:a}function E(a,b,c){var k=Math.floor(28*(b.length+1)/8),d;d=c+Date()+Math.random();for(var e=d.length,f=[],l="",m=1,q=4,p=0;p<k;p++)f[p]=m=m*m*5081+p&255;for(;e--;)q=f[e%k]=f[e%k]^z(d.charCodeAt(e),q)^f[f[5081*e%k]%k];for(p=0;p<k;p++)l+=String.fromCharCode(f[p]^z(f[f[171*p%k]%k],f[p]));d=t(r(l),b);k=v(d);a=B(d,a,b);a=v(a);c=String.fromCharCode(a.length)+
a+w(k,c);a="";k=b=0;d=c.length-1;for(f=0;f<=d;f++)if(e=c.charCodeAt(f),a+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".charAt((e<<b|k)&63),k=e>>6-b,b+=2,6==b||f==d)a+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".charAt(k),44==f%45&&(a+="\n"),k=b=0;return a}function A(a){console.log(a);console.log(G(E([19],[125476601,9678293,160],a)))}function G(a){for(var b=[[239800443,61606552,84],[201280845,11],[166507101,13]],c="",d=0,n=0,e,f=0;f<a.length;f++)e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".indexOf(a.charAt(f)),
0<=e&&(d&&(c+=String.fromCharCode(e<<8-d&255|n)),n=e>>d,d+=2,8==d&&(d=0));a=c;c=a.charCodeAt(0);d=a.substr(1,c);a=a.substr(c+1);n=r(d);e=b[0];c=b[1];b=b[2];d=B(t(n,c),t(e,l(c,[1])),c);n=B(t(n,b),t(e,l(b,[1])),b);e=l(n,d);0==e.length?(e=l(d,n),e=t(m(e,u(c,b)),b),e=l(b,e)):e=t(m(e,u(c,b)),b);b=q(m(e,c),d);b=v(b);return a=w(b,a)}var F=Math.log(2);b.c=function(){var a=window.location.hostname.trim().toLowerCase();A("127.0.0.1");A("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-");A("localhost");
A("alina");A("James");A("emiliea");A("rocinante");console.log(a);E([19],[125476601,9678293,160],a);""!==a&&"localhost"!==a&&"127.0.0.1"!==a&&(c.hn=a,console.log("hostname: '"+a+"'"))}})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(b){(function(q){(function(l){var m=c.Serialization,p=c.Util;l.deserialize=function(c,a){b.c();var q=Math.max(1,Math.min(p.convertToNumber(p.getSetup(a,"bars")),100)),B=Math.max(0,p.convertToNumber(p.getSetup(a,"width"),50)),x=Math.max(0,p.convertToNumber(p.getSetup(a,"height"),50)),C=Math.max(0,p.convertToNumber(p.getSetup(a,"margin"),1)),y=0,u=0,r=p.getSetup(a,"domain");"number"===typeof r?u=r:r instanceof Array&&(y=0<r.length?p.convertToNumber(r[0]):0,u=1<r.length?p.convertToNumber(r[1]):
0);u<y&&(r=u,u=y,y=r);var v=l.BarChartPropertyTypes.get(),w=l.BarChartPropertyTypes.getForBars(),r=m.PropertyListReader.read(c.story,a.init,v),z=m.PropertyListReader.read(c.story,a.barInit||a.barsInit,w),v=m.ScriptSetReader.readJson(c,"Chart",a,[""],v),w=m.ScriptSetReader.readJson(c,"Bars",a,["bar","bars"],w);return new l.BarChartItemModel(c,q,B,x,C,y,u,r,v,z,w)}})(q.BarChart||(q.BarChart={}))})(b.Items||(b.Items={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
