/*!
 * VERSION: 0.18.0
 * DATE: 27-Jul-2015
 * UPDATES AND DOCS AT: https://prostyle.io/
 * 
 * @license Copyright (c) 2011-2015, Pro Graphics, Inc. All rights reserved. 
 * This work is subject to the terms at https://prostyle.io/licensing/
 * 
 * @author: Gary Chamberlain, gary@pro.graphics.
 **/

var ProStyle;(function(a){(function(a){a.autoButton=function(a,e,d,b){void 0===d&&(d=1E3);void 0===b&&(b=2);var c,g=d,q=function(){e(!1);c=setTimeout(q,g);g/=b},p=function(){void 0!==c&&(clearTimeout(c),c=void 0,e(!0))};a.onmousedown=function(){g=d;q()};a.onmouseup=function(){p()};a.onmouseout=function(){p()}}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.checkBrowserSupport=function(){var f=document.body;return f.classList&&f.dataset&&null!==a.prefixCssStyleIfNeeded("perspective")}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.configureMetaViewport=function(){var f=a.querySelector("meta[name='viewport']")||document.createElement("meta");f.content="width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no";f.parentNode!==document.head&&(f.name="viewport",document.head.appendChild(f))}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.contentLoaded=function(a,e){var d=!1,b=!0,c=a.document,g=c.documentElement,q=c.addEventListener,p=q?"addEventListener":"attachEvent",k=q?"removeEventListener":"detachEvent",n=q?"":"on",l=function(g){if("readystatechange"!=g.type||"complete"==c.readyState)("load"==g.type?a:c)[k](n+g.type,l,!1),!d&&(d=!0)&&e.call(a,g.type||g)},m=function(){try{g.doScroll("left")}catch(c){setTimeout(m,50);return}l("poll")};if("complete"==c.readyState)e.call(a,"lazy");else{if(!q&&g.doScroll){try{b=
!a.frameElement}catch(r){}b&&m()}c[p](n+"DOMContentLoaded",l,!1);c[p](n+"readystatechange",l,!1);a[p](n+"load",l,!1)}}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.convertToNumber=function(a,e,d){void 0===e&&(e=0);void 0===d&&(d=!1);"string"==typeof a&&d&&(a=parseFloat(a));return isNaN(a)?e:Number(a)};a.convertToNumber2=function(a){return""===a?void 0:isNaN(a)?void 0:Number(a)}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.logError=function(a,e){console.log("ProStyle Error: "+a+" - "+e)}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.querySelector=function(f,h){void 0===h&&(h=document);try{return h.querySelector(f)}catch(d){a.logError("Util.querySelector",d.message)}}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.createChildDivElement=function(a,e){void 0===e&&(e=void 0);var d=document.createElement("div");e&&(d.className=e);a.appendChild(d);return d}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.createChildImageElement=function(a,e,d,b,c){void 0===b&&(b=void 0);void 0===c&&(c=void 0);var g=document.createElement("img");g.setAttribute("class",e);g.setAttribute("src",d);void 0===b&&void 0===c&&(c=100);void 0!==b&&g.setAttribute("width",b.toString()+"%");void 0!==c&&g.setAttribute("height",c.toString()+"%");a.appendChild(g);return g}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.createStyleElement=function(f){var h=document.createElement("style");h.type="text/css";h.id=f;a.querySelector("head").appendChild(h);return h}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.createSvgElement=function(a,e,d){a=document.createElementNS("http://www.w3.org/2000/svg",a);for(var b in e)a.setAttribute(b,e[b]);d&&d.appendChild(a);return a}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=document.createElement("dummy").style,h=["Webkit","Moz","O","ms","Khtml"],d={};a.prefixCssStyleIfNeeded=function(b){if("undefined"===typeof d[b]){var c=b.charAt(0).toUpperCase()+b.substr(1),c=(b+" "+h.join(c+" ")+c).split(" ");d[b]=null;for(var g in c)if(void 0!==f[c[g]]){d[b]=c[g];break}}return d[b]}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=document.createElement("dummy").style;a.encodeStyle=function(h,d){f.cssText="";h=a.prefixCssStyleIfNeeded(h);f[h]=d;return f.cssText}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){var f=document.createElement("dummy").style;a.encodeStyles=function(h){f.cssText="";var d,b;for(d in h)h.hasOwnProperty(d)&&(b=a.prefixCssStyleIfNeeded(d),null!==b&&(f[b]=h[d]));return f.cssText}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){document.createElement("dummy");a.encodeStyleSheet=function(f){var h=[];f.selectors.forEach(function(d){f.hasOwnProperty(d)&&("string"===typeof f[d]?h.push(d+" { "+f[d]+" }\n"):h.push(d+" { "+a.encodeStyles(f[d])+" }\n"))});return h.join("")}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.getElementText=function(a){return a[document.body.textContent?"textContent":"innerText"]}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.lowercaseProperties=function(a){var e={},d;for(d in a)a.hasOwnProperty(d)&&(e[d.toString().trim().toLowerCase()]=a[d]);return e}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.getSetup=function(f,h){if(void 0!==f){h=h.toLowerCase();f=a.lowercaseProperties(f);var d=f.setup;return void 0!==d&&(d=a.lowercaseProperties(d),void 0!==d[h])?d[h]:f[h]}}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.getSign=function(a){return a?0>a?-1:1:0}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.getGSTransform=function(a){var e={x:0,y:0,z:0,xPercent:0,yPercent:0,rotationX:0,rotationY:0,rotation:0,scaleX:1,scaleY:1,skewX:0};a&&(a=a._gsTransform)&&(void 0!==a.x&&(e.x=a.x),void 0!==a.y&&(e.y=a.y),void 0!==a.z&&(e.z=a.z),void 0!==a.xPercent&&(e.xPercent=a.xPercent),void 0!==a.yPercent&&(e.yPercent=a.yPercent),void 0!==a.rotationX&&(e.rotationX=a.rotationX),void 0!==a.rotationY&&(e.rotationY=a.rotationY),void 0!==a.rotation&&(e.rotation=a.rotation),void 0!==a.scaleX&&
(e.scaleX=a.scaleX),void 0!==a.scaleY&&(e.scaleY=a.scaleY),void 0!==a.skewX&&(e.skewX=a.skewX));return e}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.getStyleElement=function(f){return a.querySelector("#"+f)||a.createStyleElement(f)}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.insertIntoArray=function(a,e,d){a.splice(e,0,d)}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.isAbsoluteUrl=function(a){if(a){a=a.toString().trim();if(0===a.indexOf("//"))return!0;a=a.toLowerCase();if(0===a.indexOf("http://")||0===a.indexOf("https://")||0===a.indexOf("ftp://"))return!0}return!1}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.logStepValues=function(a,e,d,b,c){var g=[];g.push("f");g.push(a.toString());g.push("p");g.push(e.toString());g.push("i");g.push(d.toString());g.push("s");g.push(b.toString());g.push(" ");g.push(JSON.stringify(c));console.log(g.join(""))}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.logWarning=function(a,e){console.log("ProStyle Warning: "+a+" - "+e)}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.makeArray=function(a){return[].slice.call(a)}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.querySelectorAll=function(f,h){void 0===h&&(h=document);try{return a.makeArray(h.querySelectorAll(f))}catch(d){a.logError("Util.querySelector",d.message)}}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.setElementText=function(a,e){a[void 0!==document.body.textContent?"textContent":"innerText"]=e}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.splitNoParens=function(a){var e=0,d=0,b=[];a=a.match(/([^()]+)|([()])/g);for(var c=a.length,g,q="",p=0;p<c;p++)g=a[p],"("===g?e++:")"===g&&d++,0!==e?(q+=g,e===d&&(b[b.length-1]+=q,e=d=0,q="")):b=b.concat(g.match(/([^,]+)/g));return b}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.svgAddClass=function(f,h){a.svgRemoveClass(f,h);var d=f.getAttribute("class")||"",d=d+(0===d.length?"":" ")+h;f.setAttribute("class",d)}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){a.svgGetBounds=function(f){try{var h=f.getBBox()}catch(d){console.error(d)}0===h.width&&a.logWarning("svgGetBounds","getBBox returned an empty rect");return h}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.svgRemoveClass=function(a,e){var d=a.getAttribute("class")||"",d=d.replace(new RegExp("\\s?"+e),"");a.setAttribute("class",d)}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){var f=null;a.throttle=function(a,d){var b=this,c=arguments;return function(){clearTimeout(f);f=setTimeout(function(){a.apply(b,c)},d)}}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){a=a.Types||(a.Types={});a=a.EazeEffect||(a.EazeEffect={});a[a.Back=0]="Back";a[a.Bounce=1]="Bounce";a[a.Circle=2]="Circle";a[a.Curve=3]="Curve";a[a.Elastic=4]="Elastic";a[a.Expo=5]="Expo";a[a.Linear=6]="Linear";a[a.Sine=7]="Sine";a[a.SlowMo=8]="SlowMo";a[a.SlowMoBack=9]="SlowMoBack";a[a.Stepped=10]="Stepped";a[a.Stop=11]="Stop";a[a.StopAndReturn=12]="StopAndReturn"})(ProStyle||(ProStyle={}));
(function(a){a=a.Types||(a.Types={});a=a.EazeAmount||(a.EazeAmount={});a[a.Less=0]="Less";a[a.Normal=1]="Normal";a[a.More=2]="More";a[a.Extra=3]="Extra"})(ProStyle||(ProStyle={}));(function(a){a=a.Types||(a.Types={});a=a.EazeEnding||(a.EazeEnding={});a[a.In=0]="In";a[a.Out=1]="Out";a[a.InOut=2]="InOut"})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function a(d,b,c){void 0===d&&(d=void 0);void 0===b&&(b=void 0);void 0===c&&(c=void 0);this.ease=this.ending=this.amount=this.effect=void 0;this.effect=void 0==d?a.DEFAULT_EFFECT:d;this.amount=void 0==b?a.DEFAULT_AMOUNT:b;this.ending=void 0==c?a.DEFAULT_ENDING:c;b="easeOut";2==this.ending?b="easeInOut":0==this.ending&&(b="easeIn");6==d?this.ease=Linear.easeNone:0==d?this.setBackEase(b):1==d?this.ease=Bounce[b]:2==d?this.ease=Circ[b]:3==d?this.setCurveEase(b):
4==d?this.setElasticEase(b):5==d?this.ease=Expo[b]:7==d?this.ease=Sine[b]:8==d?this.setSlowMoEase(0):9==d?this.setSlowMoEase(1):10==d?this.setSteppedEase():11==d?this.setSlowMoEase(2):12==d&&this.setSlowMoEase(2,!0)}a.prototype.setBackEase=function(a){this.ease=Back[a].config([1,1.9,3,4.1][this.amount])};a.prototype.setCurveEase=function(a){this.ease=[Power1,Power2,Power3,Power4][this.amount][a]};a.prototype.setElasticEase=function(a){this.ease=Elastic[a].config([.8,1.1,1.25,1.75][this.amount],[.3,
.26,.2,.15][this.amount])};a.prototype.setSlowMoEase=function(a,b){void 0===b&&(b=!1);var c=[.05,.5,.7,.9][this.amount],g=[.7,.6,.5,.4][this.amount];1==a?g=1/[.7,.682,.655,.64][this.amount]:2==a&&(g=1);this.ease=SlowMo.ease.config(c,g,b)};a.prototype.setSteppedEase=function(){this.ease=SteppedEase.config([3,6,12,24][this.amount])};a.getByText=function(d){d=d.trim().toLowerCase().split(" ");var b=a.DEFAULT_EFFECT,c=a.DEFAULT_AMOUNT,g=a.DEFAULT_ENDING;d.forEach(function(a){a=a.trim();"back"==a&&(b=
0);"bounce"==a&&(b=1);"circle"==a&&(b=2);"curve"==a&&(b=3);"elastic"==a&&(b=4);"expo"==a&&(b=5);"linear"==a&&(b=6);"sine"==a&&(b=7);"slowmo"==a&&(b=8);"slowmoback"==a&&(b=9);"stepped"==a&&(b=10);"stop"==a&&(b=11);"stopandreturn"==a&&(b=12);"less"==a&&(c=0);"normal"==a&&(c=1);"more"==a&&(c=2);"extra"==a&&(c=3);"in"==a&&(g=0);"out"==a&&(g=1);"inout"==a&&(g=2)});return new a(b,c,g)};a.DEFAULT_EFFECT=5;a.DEFAULT_AMOUNT=1;a.DEFAULT_ENDING=1;a.DEFAULT=new a;return a}();a.Eaze=f})(a.Types||(a.Types={}))})(ProStyle||
(ProStyle={}));
(function(a){(function(a){var f=function(){function a(d,b){void 0===d&&(d=a.DEFAULT_WIDTH);void 0===b&&(b=a.DEFAULT_HEIGHT);this.width=d;this.height=b;this.width=Math.max(a.MIN,Math.min(d,a.MAX));this.height=Math.max(a.MIN,Math.min(b,a.MAX))}a.prototype.aspectRatio=function(){return this.height?this.width/this.height:1};a.prototype.getContainedSize=function(d){var b=this.aspectRatio();return d<b?new a(this.height*d,this.height):d>b?new a(this.width,this.width/d):new a(this.width,this.height)};a.DEFAULT_WIDTH=
1024;a.DEFAULT_HEIGHT=768;a.MIN=1;a.MAX=4096;return a}();a.Size=f})(a.Types||(a.Types={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=function(){function f(a,b){void 0===a&&(a=1);this.x=a;this.y=b;void 0===b&&(this.y=a)}f.fromJson=function(d){if(void 0===d||null===d)return new f;var b=100,c=void 0;return"number"===typeof d?new f(d/100,d/100):"string"===typeof d?(d=d.split(","),0<d.length&&(b=a.Util.convertToNumber(d[0].trim(),100)/100),1<d.length&&(c=a.Util.convertToNumber(d[1].trim(),100)/100),new f(b,c)):d instanceof Array?(0<d.length&&(b=a.Util.convertToNumber((d[0]||"").toString().trim(),100)/
100),1<d.length&&(c=a.Util.convertToNumber((d[1]||"").toString().trim(),100)/100),new f(b,c)):new f(a.Util.convertToNumber(d.x,100)/100,void 0===d.y?void 0:a.Util.convertToNumber(d.y,100)/100)};f.prototype.equals=function(a){return void 0===a?!1:this.x===a.x&&this.y===a.y};return f}();e.Scale=f})(a.Types||(a.Types={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=function(){function f(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c}f.fromJson=function(d){if(void 0===d||null===d)return new f;var b=0,c=0,g=0;return"number"===typeof d?new f(d):"string"===typeof d?(d=d.split(","),0<d.length&&(b=a.Util.convertToNumber(d[0].trim())),1<d.length&&(c=a.Util.convertToNumber(d[1].trim())),2<d.length&&(g=a.Util.convertToNumber(d[2].trim())),new f(b,c,g)):d instanceof Array?(0<d.length&&(b=a.Util.convertToNumber((d[0]||
"").toString().trim())),1<d.length&&(c=a.Util.convertToNumber((d[1]||"").toString().trim())),2<d.length&&(g=a.Util.convertToNumber((d[2]||"").toString().trim())),new f(b,c,g)):new f(a.Util.convertToNumber(d.x),a.Util.convertToNumber(d.y),a.Util.convertToNumber(d.z))};f.prototype.equals=function(a){return void 0===a?!1:this.x===a.x&&this.y===a.y&&this.z===a.z};return f}();e.Xyz=f})(a.Types||(a.Types={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=function(){function f(a,b,c,g){void 0===g&&(g=1);this.position=a;this.rotation=b;this.scale=c;this.opacity=g;Math.max(0,Math.min(g,1))}f.prototype.duplicate=function(){return new f(new e.Xyz(this.position.x,this.position.y,this.position.z),new e.Xyz(this.rotation.x,this.rotation.y,this.rotation.z),new e.Scale(this.scale.x,this.scale.y),this.opacity)};f.prototype.adjust=function(a){this.position.x+=a.position.x;this.position.y+=a.position.y;this.position.z+=a.position.z;
this.rotation.x+=a.rotation.x;this.rotation.y+=a.rotation.y;this.rotation.z+=a.rotation.z;this.scale.x=Math.max(0,this.scale.x*a.scale.x);this.scale.y=Math.max(0,this.scale.y*a.scale.y);this.opacity=Math.max(0,Math.min(this.opacity*a.opacity,1))};f.prototype.renderCss=function(a,b,c){void 0===b&&(b={});void 0===c&&(c=!0);c&&(b.xPercent=-50,b.yPercent=-50);c=(a.width+a.height)/2;b.x=this.position.x/100*a.width;b.y=this.position.y/100*a.height;b.z=this.position.z/100*c;b.zIndex=10*this.position.z;b.rotationX=
this.rotation.x;b.rotationY=this.rotation.y;b.rotationZ=this.rotation.z;b.scaleX=this.scale.x;b.scaleY=this.scale.y;b.autoAlpha=this.opacity;return b};f.fromJson=function(d){d=d||{};var b=new e.Xyz,c=new e.Xyz,g=new e.Scale,q=1,p;for(p in d)if(d.hasOwnProperty(p)){var k=p.trim().toLowerCase();"position"===k||"pos"===k?b=e.Xyz.fromJson(d[p]):"rotation"===k||"rotate"===k||"rot"===k?c=e.Xyz.fromJson(d[p]):"scale"===k?g=e.Scale.fromJson(d[p]):"opacity"===k&&(k=d[p],"number"===typeof k?q=k/100:"string"===
typeof k?q=a.Util.convertToNumber(k,100)/100:k instanceof Array?0<k.length&&(q=a.Util.convertToNumber(k[0],100)/100):q=a.Util.convertToNumber(k.percent,100)/100)}return new f(b,c,g,Math.max(0,Math.min(q,1)))};f.prototype.equals=function(a){return void 0===a||void 0===a.position||void 0===a.rotation||void 0===a.scale||void 0===a.opacity||!1===this.position.equals(a.position)||!1===this.rotation.equals(a.rotation)||!1===this.scale.equals(a.scale)?!1:this.opacity===a.opacity};return f}();e.Placement=
f})(a.Types||(a.Types={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=function(){function f(a,b,c,g,q,e){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);void 0===g&&(g="rgba(0,0,0,0.7)");void 0===q&&(q=0);void 0===e&&(e=!1);this.x=a;this.y=b;this.blur=c;this.color=g;this.spread=q;this.inset=e}f.prototype.render=function(d,b,c){var g=(d+b)/2;d=Math.round(this.x/10*g)/10;b=Math.round(this.y/10*g)/10;var f=Math.round(this.blur/10*g)/10,g=Math.round(this.spread/10*g)/10;0===d&&0!==this.x&&(d=a.Util.getSign(this.x));0===b&&0!==this.y&&
(b=a.Util.getSign(this.y));0===f&&0!==this.blur&&(f=a.Util.getSign(this.blur));0===g&&0!==this.spread&&(g=a.Util.getSign(this.spread));var f=Math.abs(f),e=[];c&&this.inset&&e.push("inset");e.push(d.toString()+"px");e.push(b.toString()+"px");e.push(f.toString()+"px");c&&e.push(g.toString()+"px");"number"===typeof this.color?e.push("hsl("+Math.abs(this.color%360)+", 50%, 50%)"):e.push(this.color);return e.join(" ")};f.fromJson=function(d){d=d||[];if(!(d instanceof Array))return new f;var b=void 0,c=
void 0,g=void 0,q=void 0,e=void 0,k=void 0;0<d.length&&void 0!==d[0]&&(b=a.Util.convertToNumber(d[0],0));1<d.length&&void 0!==d[1]&&(c=a.Util.convertToNumber(d[1],0));2<d.length&&void 0!==d[2]&&(g=Math.max(0,a.Util.convertToNumber(d[2],0)));3<d.length&&void 0!==d[3]&&(q=d[3]);4<d.length&&void 0!==d[4]&&(e=a.Util.convertToNumber(d[4],0));5<d.length&&void 0!==d[5]&&(k=!!d[5]);return new f(b,c,g,q,e,k)};f.prototype.toJson=function(){var a=6;!0!==this.inset&&(a--,"rgba(0,0,0,0.5)"!==this.color&&(a--,
0!==this.spread&&(a--,0!==this.blur&&a--)));var b=[];b.push(this.x);b.push(this.y);3<=a&&b.push(this.blur);4<=a&&b.push(this.spread);5<=a&&b.push(this.color.toString());6<=a&&b.push(!!this.inset);return b};f.prototype.equals=function(a){return void 0===a||a.x!==this.x||a.y!==this.y||a.blur!==this.blur||a.color!==this.color||a.spread!==this.spread||a.inset!==this.inset?!1:!0};return f}();e.Shadow=f})(a.Types||(a.Types={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function f(a,b,c,g,q){this.current=a;this.future=b;this.futureOffset=c;this.past=g;this.pastOffset=q}f.fromJson=function(d){d=d||{};d.future=d.future||{};d.past=d.past||{};return new f(a.Placement.fromJson(d.current),a.Placement.fromJson(d.future),a.Placement.fromJson(d.future.offset),a.Placement.fromJson(d.past),a.Placement.fromJson(d.past.offset))};return f}();a.Stacks=f})(a.Types||(a.Types={}))})(ProStyle||(ProStyle={}));
(function(a){a=a.Svg||(a.Svg={});(a.fastForward||(a.fastForward={})).svg='<svg viewBox="0 0 880 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M866 476c9.333 6.667 14 14.667 14 24c0 9.333 -4.667 16.667 -14 22c0 0 -372 248 -372 248c-14.667 9.333 -27 11.333 -37 6c-10 -5.333 -15 -17.333 -15 -36c0 0 0 -482 0 -482c0 -18.667 5 -30.667 15 -36c10 -5.333 22.333 -3.333 37 6c0 0 372 248 372 248m-454 0c9.333 6.667 14 14.667 14 24c0 9.333 -4.667 16.667 -14 22c0 0 -360 248 -360 248c-13.333 9.333 -25.333 11.333 -36 6c-10.667 -5.333 -16 -17.333 -16 -36c0 0 0 -482 0 -482c0 -18.667 5.333 -30.667 16 -36c10.667 -5.333 22.667 -3.333 36 6c0 0 360 248 360 248" />  </g></svg>'})(ProStyle||
(ProStyle={}));
(function(a){a=a.Svg||(a.Svg={});(a.logo||(a.logo={})).svg='<svg viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M 235.53172,912.14362 C 222.1737,911.65675 192.88213,908.97613 179.7563,907.0393 142.78725,901.5842 111.49908,892.23905 88.608558,879.81533 25.450284,845.53645 -2.363022,754.52992 11.595266,627.82372 25.966799,497.36601 84.182786,347.68421 159.54762,247.41661 197.38417,197.07776 237.03803,160.39415 278.89341,137.01036 374.98294,83.32699 506.9775,80.13258 647.3983,128.09214 c 49.55485,16.92505 104.25567,43.36958 148.76794,71.92026 67.85023,43.51989 124.36319,97.22188 156.87086,149.06805 18.94366,30.21307 31.87969,63.3221 38.06746,97.43144 2.33759,12.88545 2.53863,16.10095 2.59068,41.42752 0.0635,30.88207 -0.93881,40.20361 -6.88779,64.06813 -4.43071,17.77393 -9.49209,31.52197 -18.08915,49.13496 -8.23109,16.86308 -14.88167,27.71 -25.9912,42.39094 C 899.81543,700.24002 812.14549,761.98761 706.85748,809.66081 557.06683,877.48427 374.39035,917.2046 235.53172,912.14362 z m 20.199,-175.08151 c 6.38062,-2.666 6.29534,-1.92178 6.29534,-54.94359 0,-44.83349 0.10257,-47.73586 1.686,-47.70791 0.92731,0.0164 4.93759,0.46167 8.91174,0.9896 31.04792,4.12438 61.94393,2.5304 86.22704,-4.44863 37.74398,-10.8477 65.19426,-39.86566 76.5239,-80.89416 5.21836,-18.89745 5.3677,-20.86694 5.3677,-70.78889 0,-44.41671 -0.10617,-47.267 -2.14793,-57.66335 -10.62749,-54.11369 -43.50561,-87.90953 -95.15856,-97.81468 -34.23802,-6.56561 -88.65352,-3.28975 -141.91157,8.54321 -17.90378,3.97789 -23.30288,6.3891 -24.9484,11.14185 -0.87518,2.52775 -1.1629,48.97756 -1.2043,194.41663 -0.0485,170.42766 0.10664,191.43468 1.43437,194.23266 1.3611,2.86829 3.29589,4.39796 7.18213,5.67829 0.79484,0.26186 16.52472,0.51032 34.95531,0.55216 26.91396,0.0611 34.15522,-0.19347 36.78723,-1.29319 z m 36.16169,-170.6532 c -0.79483,-0.16956 -7.83992,-0.8255 -15.65574,-1.45764 l -14.21061,-1.14936 0,-84.09937 0,-84.09937 2.64944,-0.54561 c 4.32406,-0.89047 29.87188,-2.4793 39.7415,-2.47153 19.88057,0.0156 31.80455,5.28992 40.05624,17.71784 7.62813,11.4888 9.88532,23.73156 10.67225,57.88521 0.94764,41.1288 -1.53911,63.6562 -8.46381,76.6734 -5.72666,10.76513 -16.75587,18.88668 -28.66728,21.10972 -4.72311,0.88147 -22.63346,1.1809 -26.12199,0.43671 z m 525.851,69.28618 c 42.38495,-6.01923 75.22316,-29.25194 92.24766,-65.26424 11.84331,-25.05233 14.87524,-43.63329 14.87524,-91.16232 0,-40.01963 -1.78087,-55.69933 -8.65755,-76.22473 -13.90501,-41.50378 -45.23465,-69.21991 -89.13065,-78.85057 -28.6265,-6.28057 -64.499,-4.3605 -90.6127,4.85004 -45.55567,16.06787 -72.81618,52.13077 -79.95784,105.77608 -1.95361,14.67474 -1.92487,74.08051 0.043,89.09299 5.72313,43.65858 25.18804,75.73978 57.80606,95.27346 26.94864,16.13849 64.15813,22.08028 103.38668,16.50929 z m -38.93145,-72.11263 c -13.50019,-2.93712 -23.06811,-10.72915 -29.29281,-23.85582 -6.58723,-13.89118 -7.22294,-19.21222 -7.22294,-60.45811 0,-41.45888 0.64564,-46.8115 7.29042,-60.44081 8.16765,-16.7529 20.8752,-24.30337 40.94711,-24.32965 17.26097,-0.0226 28.83801,5.77322 37.13719,18.59198 8.46721,13.0783 10.47888,25.78284 10.47888,66.17848 0,38.81099 -1.53158,49.75666 -8.93668,63.86774 -8.79754,16.76446 -29.22827,25.05258 -50.40117,20.44619 z m -221.41931,65.75453 3.2969,-3.59872 0.03,-107.19579 0.03,-107.19581 8.93659,-4.08853 c 20.61319,-9.43061 36.60854,-13.59307 55.5365,-14.45218 11.51659,-0.52274 12.1389,-0.6588 14.69231,-3.2122 l 2.66628,-2.66634 0,-29.49265 c 0,-32.3359 -0.065,-32.73152 -5.87582,-35.73638 -4.84819,-2.50711 -19.8152,-1.095 -36.08282,3.40434 -9.76904,2.70194 -27.10272,11.03633 -34.87766,16.76991 -3.31328,2.44336 -6.2397,4.44247 -6.50316,4.44247 -0.26345,0 -0.47901,-3.43499 -0.47901,-7.63334 0,-7.23931 -0.15301,-7.78635 -2.9644,-10.59774 l -2.96441,-2.96439 -36.03933,0 -36.03934,0 -3.14635,2.81116 -3.14635,2.81117 -0.28573,145.31628 c -0.1992,101.30298 0.027,146.3959 0.74674,148.88076 1.02228,3.52923 4.48752,6.81938 8.20987,7.79506 1.05978,0.27777 17.45985,0.43678 36.44462,0.35334 l 34.51776,-0.1517 3.29689,-3.59872 z" />  </g></svg>'})(ProStyle||(ProStyle=
{}));(function(a){a=a.Svg||(a.Svg={});(a.pause||(a.pause={})).svg='<svg viewBox="0 0 530 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M440 150c60 0 90 21.333 90 64c0 0 0 570 0 570c0 44 -30 66 -90 66c-60 0 -90 -22 -90 -66c0 0 0 -570 0 -570c0 -42.667 30 -64 90 -64c0 0 0 0 0 0m-350 0c60 0 90 21.333 90 64c0 0 0 570 0 570c0 44 -30 66 -90 66c-60 0 -90 -22 -90 -66c0 0 0 -570 0 -570c0 -42.667 30 -64 90 -64c0 0 0 0 0 0" />  </g></svg>'})(ProStyle||(ProStyle={}));
(function(a){a=a.Svg||(a.Svg={});(a.play||(a.play={})).svg='<svg viewBox="0 0 500 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M486 474c9.333 6.667 14 15.333 14 26c0 9.333 -4.667 17.333 -14 24c0 0 -428 266 -428 266c-16 10.667 -29.667 12.667 -41 6c-11.333 -6.667 -17 -20 -17 -40c0 0 0 -514 0 -514c0 -20 5.667 -33.333 17 -40c11.333 -6.667 25 -4.667 41 6c0 0 428 266 428 266" />  </g></svg>'})(ProStyle||(ProStyle={}));
(function(a){a=a.Svg||(a.Svg={});(a.toStart||(a.toStart={})).svg='<svg viewBox="0 0 600 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M174 500c0 -9.333 4.667 -17.333 14 -24c0 0 364 -228 364 -228c13.333 -9.333 24.667 -11 34 -5c9.333 6 14 17.667 14 35c0 0 0 442 0 442c0 17.333 -4.667 29 -14 35c-9.333 6 -20.667 4.333 -34 -5c0 0 -364 -228 -364 -228c-9.333 -6.667 -14 -14 -14 -22c0 0 0 0 0 0m-174 -234c0 -38.667 25.333 -58 76 -58c49.333 0 74 19.333 74 58c0 0 0 466 0 466c0 38.667 -24.667 58 -74 58c-50.667 0 -76 -19.333 -76 -58c0 0 0 -466 0 -466c0 0 0 0 0 0" />  </g></svg>'})(ProStyle||(ProStyle=
{}));(function(a){(function(a){var f=function(){return function(a){this.initPropertyLists=a;this.init=a[0]}}();a.Model=f})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){a=a.Stories||(a.Stories={});a.rootUrl=void 0;a.Config={"default":{auto:{start:!0,advance:!1,advanceDelay:0,restart:!0,resize:!0},controls:{type:"track",autoHide:!0,color:"#EEE",highlightColor:"#FFF",backColor:"#094766",stepColor1:"#0c5f89",stepColor2:"#EEE",startHint:!0},keyboard:!1,touch:!1,mouseWheel:!1,debugBar:!1}}})(ProStyle||(ProStyle={}));
var __extends=this.__extends||function(a,e){function f(){this.constructor=a}for(var h in e)e.hasOwnProperty(h)&&(a[h]=e[h]);f.prototype=e.prototype;a.prototype=new f};
(function(a){(function(e){var f=function(f){function d(a,c,g){f.call(this,[a]);this.padding=c;this.imageRootUrl=g;this.setAdjustedImageRootUrl(g)}__extends(d,f);d.prototype.setAdjustedImageRootUrl=function(b){if(b&&(b=b.toString().trim(),a.Util.isAbsoluteUrl(b))){this.adjustedImageRootUrl=b;return}var c=a.Stories.rootUrl;if(c){var g=c.lastIndexOf("/")===c.length-1;b&&(c=0===b.indexOf("/")?g?c+b.substr(1):c+b:g?c+b:c+("/"+b))}else c=b;c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");this.adjustedImageRootUrl=
c};d.prototype.adjustBackgroundImage=function(b,c){var g=this,d=[];a.Util.splitNoParens(b).forEach(function(c){c=c.trim();0===c.toLowerCase().indexOf("url(")&&(c="url("+g.adjustImageUrl(c)+")");d.push(c)});return d.join(",")};d.prototype.adjustImageUrl=function(b){0===b.toLowerCase().indexOf("url(")&&(b=b.substr(4,b.length-5).trim());this.adjustedImageRootUrl&&(a.Util.isAbsoluteUrl(b)||(b=0===b.indexOf("/")?this.adjustedImageRootUrl+b.substr(1):this.adjustedImageRootUrl+b));return b};return d}(e.Model);
e.Canvas=f})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){var f=function(a){function d(b,c,g){a.call(this,[b]);this.aspectRatio=c;this.padding=g}__extends(d,a);return d}(a.Model);a.Frame=f})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){var f=function(){return function(a,d,b,c){this.canvas=a;this.frame=d;this.flows=b;this.classes=c}}();a.Story=f})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(){function a(b,c){this.propertyTypes=b;this.properties=c}a.prototype.getPropertyOfType=function(a){for(var c=0;c<this.properties.length;c++){var g=this.properties[c];if(g.type===a)return g}};a.prototype.hasAnythingSet=function(){for(var a=0;a<this.properties.length;a++)for(var c=this.properties[a],g=0;g<c.type.variableTypes.length;g++)if(void 0!==c[c.type.variableTypes[g].jsonNames[0]].getValue())return!0;return!1};return a}();a.PropertyList=e})(a.Properties||
(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=function(f){function d(a,c){f.call(this,[a]);this.flow=c;this.steps=[];this.items=[];this.story=c.story}__extends(d,f);d.prototype.insertStep=function(b){a.Util.insertIntoArray(this.steps,b,new e.Step);this.canvasScriptSet.insertStep(b);this.frameScriptSet.insertStep(b);this.pageScriptSet.insertStep(b);this.items.forEach(function(c){c.scriptSets.forEach(function(c){c.insertStep(b)})})};d.prototype.deleteStep=function(a){this.steps.splice(a,1);this.canvasScriptSet.deleteStep(a);
this.frameScriptSet.deleteStep(a);this.pageScriptSet.deleteStep(a);this.items.forEach(function(c){c.scriptSets.forEach(function(c){c.deleteStep(a)})})};d.prototype.deleteItem=function(a){this.items.splice(a,1)};return d}(e.Model);e.Page=f})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(){function a(b,c,g,d,f){void 0===f&&(f=void 0);this.story=b;this.flowType=c;this.placement=g;this.pageAspectRatio=d;this.defaultPageClass=f;this.pages=[]}a.prototype.getDefaultPageClassName=function(){return this.defaultPageClass};a.prototype.getDefaultPageClassValue=function(){};return a}();a.Flow=e})(a.Flows||(a.Flows={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c,g,b,f){a.call(this,c,"simple",g,f,b)}__extends(b,a);b.prototype.getDefaultPageClassName=function(){return this.defaultPageClass||"simpleFlowPage"};return b}(a.Flow);a.SimpleFlow=e})(a.Flows||(a.Flows={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){var d=function(a){function c(c,d,f,e){a.call(this,c,d,f,e);this.flowType="unknown"}__extends(c,a);return c}(a.Models.Flows.SimpleFlow);f.Extension=d})(f.unknown||(f.unknown={}))})(e.Flows||(e.Flows={}))})(a.Extensions||(a.Extensions={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Properties,h=function(){function a(b,c){this.model=b;this.element=c;this.div=void 0;if(c instanceof HTMLDivElement||c instanceof HTMLBodyElement)this.div=c;c.proCache={}}a.prototype.initializeProperties=function(b,c,g,q,e,h,n,l){var m=this;void 0===n&&(n=void 0);void 0===l&&(l=void 0);TweenMax.set(c,{clearProps:"all"});void 0!==n&&TweenMax.set(c,n);var r=[];for(n=0;n<c.length;n++){var t={force3D:!0,element:c[n],elementIndex:n};h&&(t.xPercent=-50,t.yPercent=
-50);r.push(t)}var u=[];e.properties.forEach(function(c){u["prostyle_"+c.type.jsonNames[0]]=c});e.propertyTypes.forEach(function(c){var a=u["prostyle_"+c.jsonNames[0]];void 0===a&&(a=new f.Property(c));a.writeCssBuckets(b,m,g,r,!0)});a.postProcessCssBuckets(r,l,e.properties,g);for(n=0;n<c.length;n++)q.set(c[n],r[n],"initialize")};a.prototype.generateEventTimeline=function(a,c,g,d,f,h,n){var l=this;void 0===n&&(n=void 0);var m=new TimelineMax;d.actions.forEach(function(d){if(0===d.actionType){var q=
m.totalDuration(),u=e.Actions.SetPropertiesAction.generateTimeline(a,l,c,d,m,g,n);void 0!==u&&(d=m.totalDuration(),(u=0<u?a.items[u-1].div:void 0)&&f.seek(h+"+="+d),d=new TimelineMax,e.Actions.SetPropertiesAction.generateMoveTo(a.div,u,d),m.add(d,q))}});f.add(m,h)};a.prototype.generateActionsForStep=function(a,c,g,d,f,e,h,l){var m=this;void 0===l&&(l=void 0);h.scripts.forEach(function(h){1===h.type&&h.stepIndex===f&&m.generateEventTimeline(a,c,g,h,d,e,l)})};a.postProcessCssBuckets=function(a,c,g,
d){for(var f=0;f<a.length;f++){var e=a[f],h=e.element.proCache;void 0!==h&&(void 0!==e.width&&(h.width=e.width),void 0!==e.height&&(h.height=e.height))}c&&c(g,a,d);a.forEach(function(c){delete c.element;delete c.elementIndex})};return a}();e.Visual=h})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var h=a.Util,d=function(a){function c(c,d,f){void 0===f&&(f=void 0);a.call(this,c,f||h.createChildDivElement(d.div,"prostyle prostyle-item"));this.item=c;this.itemSetElem=d}__extends(c,a);c.prototype.initializeItem=function(c,a){var b=a.getContainedSize(this.item.itemSet.flow.pageAspectRatio);this.initializeProperties(this.item.itemSet.flow.story,[this.element],b,c,this.item.init,!1)};c.prototype.generateStepActions=function(c,a,b,d,f){this.generateActionsForStep(c,
[this.element],a,b,d,f,this.item.scriptSet)};return c}(e.Visual);f.Item=d})(e.Items||(e.Items={}))})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(){function a(b){var c=this;this.type=b;b.variableTypes.forEach(function(a){c[a.jsonNames[0]]=a.createVariable()})}a.prototype.getVariable=function(a){return this[a]};a.prototype.renderLabel=function(){return this.type.renderLabel(this)};a.prototype.writeCssBuckets=function(a,c,g,d,f){var e=this;this.type.variableTypes.forEach(function(h){h=e[h.jsonNames[0]];h.type.writeCssBuckets(a,c,g,h,d,f)})};return a}();a.Property=e})(a.Properties||(a.Properties=
{}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){var d=function(){function b(c,g,b,d,f,e){this.label=c;this.jsonNames=g;this.cssName=b;this.text=d;this.defaultValue=f;this.alwaysInitializeCss=e;void 0===f&&a.Util.logWarning("VariableType<T>",b+" has a default value of undefined.")}b.prototype.createVariable=function(){return new f.Variable(this)};b.prototype.scrubValue=function(c){return c};b.prototype.writeCssBuckets=function(c,a,b,d,f,e){var h=this;if(void 0!==this.cssName){var m=d.getValue(e);
void 0!==m&&(e&&m===this.defaultValue&&!this.alwaysInitializeCss||f.forEach(function(d){h.writeCssBucket(c,a,b,d,m)}))}};b.prototype.writeCssBucket=function(c,a,b,d,f){d[this.cssName]=f};return b}();f.VariableType=d})(f.Variables||(f.Variables={}))})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h){a.call(this,c,d,f,"",e,h)}__extends(c,a);c.prototype.scrubValue=function(c){return void 0===c?"":c.toString()};return c}(a.VariableType);a.StringVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h){a.call(this,c,d,f,e,h)}__extends(c,a);c.prototype.writeCssBucket=function(c,a,b,d,f){d[this.cssName]=c.canvas.adjustBackgroundImage(f,b)};return c}(a.StringVariableType);a.BackgroundImageVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h,l){void 0===l&&(l=!1);a.call(this,c,d,f,"",!1,l);this.falseValue=e;this.trueValue=h}__extends(c,a);c.prototype.scrubValue=function(c){return!!c};c.prototype.writeCssBucket=function(c,a,b,d,f){d[this.cssName]=f?this.trueValue:this.falseValue};return c}(a.VariableType);a.BooleanVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h,l){a.call(this,c,d,f,e,l);this.enumValues=h}__extends(c,a);c.prototype.scrubValue=function(c){if(void 0===c)return this.defaultValue;c=c.toString().trim().toLocaleLowerCase();for(var a=0;a<this.enumValues.length;a++)if(c===this.enumValues[a])return c;for(a=0;a<this.enumValues.length;a++)if(0===this.enumValues[a].indexOf(c))return this.enumValues[a];return this.defaultValue};c.prototype.getValueByIndex=function(c){return 0>
c||c>=this.enumValues.length?void 0:this.enumValues[c]};return c}(a.StringVariableType);a.EnumVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(){a.call(this,"bullets",["style"],"listStyleType","none","arabic-indic armenian bengali cambodian circle cjk-ideographic decimal decimal-leading-zero devanagari disc georgian gujarati gurmukhi hebrew hiragana hiragana-iroha kannada katakana katakana-iroha khmer lao lower-alpha lower-armenian lower-greek lower-latin lower-roman malayalam mongolian myanmar oriya persian telugu thai tibetan square upper-alpha upper-latin upper-roman".split(" "),!1)}
__extends(c,a);c.prototype.writeCssBucket=function(c,a,b,d,f){d[this.cssName]=f;d.display="none"==f?"block":"list-item"};return c}(a.EnumVariableType);a.BulletsVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h){a.call(this,c,d,f,e,h)}__extends(c,a);c.prototype.scrubValue=function(c){return"boolean"===typeof c?c?"white":this.defaultValue:"number"===typeof c?"hsl("+Math.abs(c%360).toString()+", 50%, 50%)":"string"===typeof c?c:"black"};return c}(a.StringVariableType);a.ColorVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){var d=function(b){function c(c,a,d,f,e,h,m,r,t){b.call(this,c,a,d,r,h,t);this._minValue=f;this._maxNumber=e;this._decimalPlaces=m}__extends(c,b);c.prototype.scrubValue=function(c){c=a.Util.convertToNumber(c,this.defaultValue);var b=Math.pow(10,this._decimalPlaces);c=Math.round(c*b)/b;return c=Math.max(this._minValue,Math.min(c,this._maxNumber))};return c}(f.VariableType);f.NumberVariableType=d})(f.Variables||(f.Variables={}))})(e.Properties||(e.Properties=
{}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h,l,m,r,t){a.call(this,c,d,f,e,h,l,m,r,t)}__extends(c,a);c.prototype.writeCssBucket=function(c,a,b,d,f){d[this.cssName]=f/100*((b.height+b.width)/2)+1;"z"===this.cssName&&(d.zIndex=f+1)};return c}(a.NumberVariableType);a.ContainerDepthPctVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h,l,m,r,t){a.call(this,c,d,f,e,h,l,m,r,t)}__extends(c,a);c.prototype.writeCssBucket=function(c,a,b,d,f){c=f/100*b.height;0<f&&1>c&&(c=1);d[this.cssName]=c};return c}(a.NumberVariableType);a.ContainerHeightPctVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h,l,m,r,t){a.call(this,c,d,f,e,h,l,m,r,t)}__extends(c,a);c.prototype.writeCssBucket=function(c,a,b,d,f){d[this.cssName]=f/100*b.width};return c}(a.NumberVariableType);a.ContainerWidthPctVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){var d=a.Types,b=function(c){function a(){c.call(this,"ease",["ease"],"ease","",d.Eaze.DEFAULT,!1)}__extends(a,c);a.prototype.scrubValue=function(c){if("string"===typeof c)return d.Eaze.getByText(c)};a.prototype.writeCssBucket=function(c,a,g,b,d){b[this.cssName]=d.ease};return a}(f.VariableType);f.EaseVariableType=b})(f.Variables||(f.Variables={}))})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h,l,m,r,t,u,v){a.call(this,c,d,f,e,h,l,m,u,v);this.inverted=t;this.offset=r}__extends(c,a);c.prototype.writeCssBucket=function(c,a,b,d,f){f+=this.offset;this.inverted&&(f=-f);d[this.cssName]=f};return c}(a.NumberVariableType);a.NumberOffsetVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){var d=a.Types,b=function(c){function g(a,g){void 0===g&&(g=!1);c.call(this,a?"transform origin":"perspective origin",a?["transformOrigin","origin"]:["perspectiveOrigin","origin"],a?"transformOrigin":"perspectiveOrigin","",new d.Xyz(0,0,0),!1);this.transform=a;this.useContainer=g}__extends(g,c);g.prototype.scrubValue=function(c){return"boolean"==typeof c?this.defaultValue:"number"==typeof c?new d.Xyz(c):"string"==typeof c?this.scrubArray(c.split(" ")):
c instanceof Array?this.scrubArray(c):this.scrubArray([c.x,c.y,c.z])};g.prototype.scrubArray=function(c){var g=new d.Xyz(this.defaultValue.x,this.defaultValue.y,this.defaultValue.z);0<c.length&&(g.x=this.scrubString(c[0]));1<c.length&&(g.y=this.scrubString(c[1]));this.transform&&2<c.length&&(g.z=a.Util.convertToNumber(c[2],0,!0));return g};g.prototype.scrubString=function(c){c=(c||"").toString().trim().toLocaleLowerCase();return"left"===c?0:"right"===c?100:"top"===c?0:"bottom"===c?100:"center"===
c?50:a.Util.convertToNumber(c,0,!0)};g.prototype.writeCssBuckets=function(c,a,g,b,d,f){var e=this;c=b.getValue(f);if(void 0!==c&&(!f||!c.equals(this.defaultValue)||this.alwaysInitializeCss)){var h;h=this.useContainer?Math.round(c.x/100*g.width)+"px "+Math.round(c.y/100*g.height)+"px":Math.round(100*c.x)/100+50+"% "+(Math.round(100*c.y)/100+50)+"%";this.transform&&(h+=" "+Math.round((g.height+g.width)/2*c.z/100)+"px");d.forEach(function(c){c[e.cssName]=h})}};return g}(f.VariableType);f.OriginVariableType=
b})(f.Variables||(f.Variables={}))})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(c,d,f,e,h,l,m){a.call(this,c,d,f,e,h,l,0,"%",m)}__extends(c,a);c.prototype.writeCssBucket=function(c,a,b,d,f){d[this.cssName]=f/100};return c}(a.NumberVariableType);a.PercentVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){var d=function(b){function c(c,a){b.call(this,"shadow",["value"],c,"",[],!1);this.isBoxShadow=a}__extends(c,b);c.prototype.scrubValue=function(c){if(void 0===c||!(c instanceof Array)||0===c.length)return[];var b=[];c[0]instanceof Array?c.forEach(function(c){b.push(a.Types.Shadow.fromJson(c))}):b.push(a.Types.Shadow.fromJson(c));return b};c.prototype.writeCssBucket=function(c,a,b,d,f){var e=this,h=[];f.forEach(function(c){h.push(c.render(b.width,
b.height,e.isBoxShadow))});d[this.cssName]=0===h.length?"none":h.join(", ")};return c}(f.VariableType);f.ShadowVariableType=d})(f.Variables||(f.Variables={}))})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(){a.call(this,"align",["align"],"textAlign","inherit",["left","center","right","justify"],!1)}__extends(c,a);return c}(a.EnumVariableType);a.TextAlignVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(a){function c(){a.call(this,"width",["width"],"width",0,Number.MAX_VALUE,Number.MAX_VALUE,2,"",!1)}__extends(c,a);c.prototype.writeCssBucket=function(c,a,b,d,f){f===Number.MAX_VALUE?d.clearProps="whiteSpace,width":(d.width=f/100*b.width,d.whiteSpace="normal")};return c}(a.NumberVariableType);a.TextWidthVariableType=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle=
{}));
(function(a){(function(e){(function(f){var e=function(){function d(a,c,g){this.label=a;this.jsonNames=c;this.variableTypes=g}d.prototype.createPropertyFromArray=function(b){a.Util.logWarning("PropertyType.createPropertyFromArray()","Abstract method called");return new f.Property(this)};d.prototype.createPropertyFromNumber=function(b){a.Util.logWarning("PropertyType.createPropertyFromNumber()","Abstract method called");return new f.Property(this)};d.prototype.createPropertyFromString=function(b){a.Util.logWarning("PropertyType.createPropertyFromString()","Abstract method called");
return new f.Property(this)};d.prototype.createPropertyFromBoolean=function(a){var c=new f.Property(this);!1===a&&this.variableTypes.forEach(function(a){c[a.jsonNames[0]].setValue(a.defaultValue)});return c};d.prototype.createPropertyFromObject=function(b){var c=new f.Property(this);if(void 0===b)return c;var g=a.Util.lowercaseProperties(b);this.variableTypes.forEach(function(a){for(var b=0;b<a.jsonNames.length;b++){var d=a.jsonNames[b];if(g.hasOwnProperty(d)){c[a.jsonNames[0]].setValue(g[d]);break}}});
return c};d.prototype.renderLabel=function(b){a.Util.logWarning("PropertyType.renderLabel()","Abstract method called");return"xxx"};d.prototype.countOfValues=function(a){var c=0;this.variableTypes.forEach(function(g){void 0!==a[g.jsonNames[0]].getValue()&&c++});return c};d.prototype.renderVariables=function(a,c,g){var d=[];this.variableTypes.forEach(function(f){f=a[f.jsonNames[0]].render(c,g);void 0!==f&&d.push(f)});var f=d.join(", ");0<f.length&&(f=(c?" ":": ")+f);return this.label+f};return d}();
f.PropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(f){var h=function(a){function b(c,g,b,f,e){a.call(this,f);this.itemSet=c;this.itemType=g;this.typeLabel=b;this.scriptSets=e;this.scriptSet=e[0]}__extends(b,a);b.prototype.getScriptSet=function(c){var a=this.scriptSets;if(0>c||c>=a.length)c=0;return a[c]};b.prototype.getCountOfStepsUsed=function(){var c=1;this.scriptSets.forEach(function(a){c=Math.max(c,a.getCountOfStepsUsed())});return c};return b}(a.Model);f.Item=h})(a.Items||(a.Items={}))})(a.Models||(a.Models=
{}))})(ProStyle||(ProStyle={}));(function(a){(function(a){(function(a){var e=function(a){function b(c,g){a.call(this,c,g);this.sequencedItem=c}__extends(b,a);b.prototype.moveToSubStep=function(c,a,b){};b.prototype.getCountOfSubSteps=function(){return 0};return b}(a.Item);a.SequencedItem=e})(a.Items||(a.Items={}))})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(){return function(a,b){this.scriptSet=a;this.type=b;this.y=this.x=0}}();a.Script=e})(a.Scripts||(a.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(){function a(b,c,g){this.itemSet=b;this.name=c;this.itemProperties=g;this.scripts=[]}a.prototype.getCountOfStepsUsed=function(){var a=0;this.scripts.forEach(function(c){1===c.type&&(a=Math.max(a,c.stepIndex))});return a+1};a.prototype.insertStep=function(a){};a.prototype.deleteStep=function(a){var c=this,g=[];this.scripts.forEach(function(c){1===c.type&&c.stepIndex===a&&g.push(c)});g.forEach(function(a){a=c.scripts.indexOf(a);c.scripts.splice(a,
1)})};return a}();a.ScriptSet=e})(a.Scripts||(a.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){var d=a.Models,b=d.Properties,c=d.Scripts,d=function(a){function d(f,e){a.call(this,f,"unknown","Unknown",[new b.PropertyList([],[])],[new c.ScriptSet(f,"unknown",[])]);this.unknownType=e}__extends(d,a);return d}(d.Items.Item);f.Extension=d})(f.unknown||(f.unknown={}))})(e.Items||(e.Items={}))})(a.Extensions||(a.Extensions={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){a.readJson=function(d,b){console.log(b);return new a.Extension(d,b.item)}})(a.unknown||(a.unknown={}))})(a.Items||(a.Items={}))})(a.Extensions||(a.Extensions={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Util,h=function(){function d(){}d.read=function(b,c){c=c||{};var g=(c.itemType||"text").trim().toLowerCase(),q=e.Items["read_"+g];if(void 0===q){if((g=d.lookupExtension(g))&&g.readJson)return g.readJson(b,c);f.logError("ItemReader.read()","Unknown Item Type ("+c.itemType+")");return a.Extensions.Items.unknown.readJson(b,c)}return q(b,c)};d.lookupExtension=function(b){for(var c in a.Extensions.Items){var g=c.toLowerCase();if(b===g)return a.Extensions.Items[c]}};return d}();
e.ItemReader=h})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Util,h=function(d){function b(a,g,q,h){var k=this;d.call(this,a,f.createChildDivElement(g.div,"prostyle prostyle-page"));this.page=a;this.flowElem=g;this.flowIndex=q;this.pageIndex=h;this.steps=[];this.items=[];b.createItems(this,a.items);a.steps.forEach(function(a,c){var g=[];k.items.forEach(function(a){a instanceof e.Items.SequencedItem&&a.sequencedItem.sequenceOnStepIndex===c&&g.push(a)});k.steps.push(new e.Step(a,q,h,c,g))})}__extends(b,d);b.createItems=function(c,
g){g instanceof Array&&g.forEach(function(g){var b=void 0,b="text"===g.itemType?e.Items.TextItem:"image"===g.itemType?e.Items.ImageItem:"layer"===g.itemType?e.Items.LayerItem:a.Serialization.ItemReader.lookupExtension(g.itemType.toLowerCase()).Renderer;c.items.push(new b(g,c))})};b.prototype.generateStepsActions=function(a,g){var b=this;this.steps.forEach(function(d,f){d.startTime=(void 0===g?0:g.stopTime)+.01;g=d;0<f&&a.addLabel(d.startLabel,d.startTime);var e=b.flowElem.cameraElem.size,h=b.flowElem.cameraElem.frameElem.canvasElem;
h.generateActionsForStep(b,[h.div],e,a,f,d.startLabel,b.page.canvasScriptSet);h=b.flowElem.cameraElem.frameElem;h.generateActionsForStep(b,[h.div],e,a,f,d.startLabel,b.page.frameScriptSet);h=b;h.generateActionsForStep(b,[h.div],e,a,f,d.startLabel,b.page.pageScriptSet);var m=b.flowElem.cameraElem.size.getContainedSize(b.page.flow.pageAspectRatio);b.items.forEach(function(g){g.generateStepActions(b,m,a,f,d.startLabel)});d.stopTime=a.duration();d.stopTime<d.startTime&&(d.stopTime=d.startTime);a.addLabel(d.stopLabel,
d.stopTime);d.time=d.stopTime-d.startTime});return g};return b}(e.Visual);e.Page=h})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var h=a.Util,d=function(a){function c(c,d,f){var k=this;a.call(this,d.model,h.createChildDivElement(d.div,"prostyle prostyle-flow"));this.flow=c;this.cameraElem=d;this.flowIndex=f;this.pageElems=[];c.pages.forEach(function(a,c){k.pageElems.push(new e.Page(a,k,f,c))})}__extends(c,a);c.prototype.initializePlacement=function(a){this.initializePerspective();this.initializeFlowPlacement(a);this.initializePages(a)};c.prototype.initializePerspective=function(){var a=
this.cameraElem.size;TweenLite.set(this.div,{perspective:(a.width+a.height)/2})};c.prototype.initializeFlowPlacement=function(a){var c={},b=this.flow.placement.position,d=this.cameraElem.frameElem.canvasElem.size;c.xPercent=-50;c.yPercent=-50;c.x=b.x/100*d.width;c.y=b.y/100*d.height;a.set(this.div,c,"initialize")};c.prototype.generateCameraMovement=function(a,c){var b={},d=this.flow.placement.position,f=this.cameraElem.frameElem.canvasElem.size;b.xPercent=-50;b.yPercent=-50;b.x=d.x/100*-f.width;b.y=
d.y/100*-f.height;b.ease=Expo.easeOut;a.to(this.cameraElem.div,1,b,c)};c.prototype.initializePages=function(a){h.logWarning("Render.Flows.Flow.initializePages()","Abstract method called")};c.prototype.generatePageMovement=function(a,c,b){h.logWarning("Render.Flows.Flow.generatePageMovement()","Abstract method called")};c.prototype.generateStepsActions=function(a,c){var b=this;this.pageElems.forEach(function(d,f){var e=d.steps[0].startLabel;a.addLabel(e,"+=0.01");0===f&&(b.generateCameraMovement(a,
e),e="initialize");b.generatePageMovement(a,e,f);c=d.generateStepsActions(a,c)});return c};c.prototype.pageAspectRatio=function(){return this.flow.pageAspectRatio};return c}(e.Visual);f.Flow=d})(e.Flows||(e.Flows={}))})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(a,g,b){d.call(this,a,g,b);this.simpleFlow=a}__extends(b,d);b.prototype.initializePages=function(c){var g=this.cameraElem.size.getContainedSize(this.simpleFlow.pageAspectRatio),b=new a.Types.Placement(new a.Types.Xyz,new a.Types.Xyz,new a.Types.Scale,1);this.pageElems.forEach(function(a,d){b.position.z=-d;b.opacity=0===d?1:0;var f=b.renderCss(g);f.width=g.width;f.height=g.height;c.set(a.div,f,"initialize")})};b.prototype.generatePageMovement=
function(c,g,b){var d=this,f=this.cameraElem.size.getContainedSize(this.simpleFlow.pageAspectRatio),e=new a.Types.Placement(new a.Types.Xyz,new a.Types.Xyz,new a.Types.Scale,1);this.pageElems.forEach(function(a,h){e.position.z=b-h;e.opacity=h===b?1:0;var r=e.renderCss(f);r.width=f.width;r.height=f.height;d.applyCss(c,a.div,g,1,r,Expo.easeOut)})};b.prototype.applyCss=function(a,g,b,d,f,e){"initialize"===b?a.set(g,f,b):(f.ease=e,a.to(g,d,f,b))};return b}(f.Flow);f.SimpleFlow=e})(e.Flows||(e.Flows={}))})(a.Render||
(a.Render={}))})(ProStyle||(ProStyle={}));(function(a){(function(e){(function(f){(function(f){var d=function(a){function c(c,d,f){a.call(this,c,d,f)}__extends(c,a);return c}(a.Render.Flows.SimpleFlow);f.Renderer=d})(f.unknown||(f.unknown={}))})(e.Flows||(e.Flows={}))})(a.Extensions||(a.Extensions={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){var d=a.Util;f.readJson=function(b,c){var g=c.setup||{},e=a.Types.Placement.fromJson(g.placement),p=d.convertToNumber(g.pageAspectRatio,b.frame.aspectRatio);return new f.Extension(b,e,g.defaultPageClass,p)}})(f.unknown||(f.unknown={}))})(e.Flows||(e.Flows={}))})(a.Extensions||(a.Extensions={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){var d=function(a){function c(c,d){a.call(this,c,d);this.unknownItem=c;this.divs=[];this.div.innerText=c.unknownType+"?";this.div.classList.add("unknown")}__extends(c,a);return c}(a.Render.Items.Item);f.Renderer=d})(f.unknown||(f.unknown={}))})(e.Items||(e.Items={}))})(a.Extensions||(a.Extensions={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c,g){a.call(this,c,g);this.actions=[]}__extends(b,a);b.prototype.removeAction=function(a){a=this.actions.indexOf(a);this.actions.splice(a,1)};return b}(a.Script);a.ActionsScript=e})(a.Scripts||(a.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){a=a.Models||(a.Models={});a=a.Actions||(a.Actions={});a=a.ActionType||(a.ActionType={});a[a.SetProperties=0]="SetProperties"})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){(function(f){f.fromString=function(d){d=(d||"properties").toString().trim();if("properties"===d)return 0;a.Util.logError("ActionType.fromString()","Unknown action type: "+d);return 0};f.toString=function(a){return"properties"}})(f.ActionType||(f.ActionType={}))})(e.Actions||(e.Actions={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(){function d(a,c,g){this.script=a;this.actionType=c;this.delay=g;Math.max(0,g)}d.prototype.saveJson=function(){a.Util.logWarning("Action.saveJson()","Abstract method called");return{}};return d}();f.Action=e})(e.Actions||(e.Actions={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c,g,b){a.call(this,c,0,g);this.properties=b}__extends(b,a);return b}(a.Action);a.SetPropertiesAction=e})(a.Actions||(a.Actions={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c,g,b,f,e,h){a.call(this,c,g,b,e,f);this.defaultPageClassIfNotGiven=h}__extends(b,a);b.prototype.getDefaultPageClassName=function(){return this.defaultPageClass||this.defaultPageClassIfNotGiven};b.prototype.getDefaultPageClassValue=function(){return{background:"#FFF",corners:{topLeft:2,bottomRight:2,bottomLeft:2,topRight:2},shadow:[0,0,1.5,"rgba(0,0,0,0.5)",.1]}};return b}(a.Flow);a.PlacementFlow=e})(a.Flows||(a.Flows={}))})(a.Models||
(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[];a.push(new f.Variables.NumberOffsetVariableType("x",["x"],"xPercent",Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,0,2,50,!0,"%",!0));a.push(new f.Variables.NumberOffsetVariableType("y",["y"],"yPercent",Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,0,2,50,!0,"%",!0));d.call(this,"anchor",["anchor"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,
!1);!0===a&&g.x.setValue(-50);return g};b.prototype.createPropertyFromNumber=function(a){var g=new f.Property(this);g.x.setValue(a);return g};b.prototype.createPropertyFromString=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,!1);a=a.split(",");g.x.setValue(this.parseString(a[0]));1<a.length&&g.y.setValue(this.parseString(a[1]));return g};b.prototype.parseString=function(c){c=c.trim().toLowerCase();return"left"===c?-50:"center"===c?0:"right"===c?50:"top"===c?-50:"middle"===c?0:
"bottom"===c?50:"l"===c?-50:"c"===c?0:"r"===c?50:"t"===c?-50:"m"===c?0:"b"===c?50:a.Util.convertToNumber(c,0,!0)};b.prototype.createPropertyFromArray=function(c){var g=d.prototype.createPropertyFromBoolean.call(this,!1);0<c.length&&g.x.setValue(a.Util.convertToNumber(c[0],0,!0));1<c.length&&g.y.setValue(a.Util.convertToNumber(c[1],0,!0));return g};b.prototype.renderLabel=function(a){return this.renderVariables(a,!1,!0)};return b}(f.PropertyType);f.AnchorPropertyType=e})(e.Properties||(e.Properties=
{}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(c){c=[];c.push(new a.Variables.NumberVariableType("duration",["duration","dur"],void 0,0,Number.POSITIVE_INFINITY,0,2," secs",!1));c.push(new a.Variables.EaseVariableType);c.push(new a.Variables.NumberVariableType("repeat",["repeat","rep"],"repeat",0,Number.POSITIVE_INFINITY,0,0," times",!1));c.push(new a.Variables.NumberVariableType("repeat delay",["repeatdelay","delay"],"repeatDelay",0,Number.POSITIVE_INFINITY,0,0," secs",!1));
c.push(new a.Variables.BooleanVariableType("yoyo",["yoyo"],"yoyo",!1,!0));c.push(new a.Variables.NumberVariableType("stagger",["stagger","stag"],void 0,0,Number.POSITIVE_INFINITY,0,2," secs",!1));d.call(this,"animation",["animation","anim"],c)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(c){var g=new a.Property(this);c&&g.duration.setValue(1);return g};b.prototype.createPropertyFromNumber=function(c){var g=new a.Property(this);g.duration.setValue(c);return g};b.prototype.createPropertyFromString=
function(c){var g=new a.Property(this);g.duration.setValue(1);g.ease.setValue(c);return g};b.prototype.createPropertyFromArray=function(c){var g=new a.Property(this);0<c.length&&g.duration.setValue(null===c[0]?void 0:c[0]);1<c.length&&g.ease.setValue(null===c[1]?void 0:c[1]);2<c.length&&g.repeat.setValue(null===c[2]?void 0:c[2]);3<c.length&&g.repeatdelay.setValue(null===c[3]?void 0:c[3]);4<c.length&&g.yoyo.setValue(null===c[4]?void 0:c[4]);5<c.length&&g.stagger.setValue(null===c[5]?void 0:c[5]);return g};
b.prototype.renderLabel=function(a){var g=1===this.countOfValues(a);return this.renderVariables(a,!0,g)};return b}(a.PropertyType);a.AnimationPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(c){void 0===c&&(c="transparent");var g=[];g.push(new a.Variables.ColorVariableType("color",["color"],"backgroundColor",c,"transparent"!==c));g.push(new a.Variables.BackgroundImageVariableType("image",["image"],"backgroundImage","none",!1));g.push(new a.Variables.StringVariableType("repeat",["repeat","rep"],"backgroundRepeat","repeat",!1));g.push(new a.Variables.StringVariableType("position",["position","pos"],"backgroundPosition",
"0% 0%",!1));g.push(new a.Variables.StringVariableType("size",["size"],"backgroundSize","auto",!1));d.call(this,"background",["background","back","bg"],g)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&g.color.setValue("#F7F7F7");return g};b.prototype.createPropertyFromNumber=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,!1);g.color.setValue(a);return g};b.prototype.createPropertyFromString=function(c){c=
c.trim();if(0===c.length||"none"===c)return d.prototype.createPropertyFromBoolean.call(this,!1);var g;0===c.toLowerCase().indexOf("url(")?(g=new a.Property(this),g.image.setValue(c)):(g=d.prototype.createPropertyFromBoolean.call(this,!1),g.color.setValue(c));return g};b.prototype.createPropertyFromArray=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&g.color.setValue(null===a[0]?void 0:a[0]);1<a.length&&g.image.setValue(null===a[1]?void 0:a[1]);2<a.length&&g.repeat.setValue(null===
a[2]?void 0:a[2]);3<a.length&&g.position.setValue(null===a[3]?void 0:a[3]);4<a.length&&g.size.setValue(null===a[4]?void 0:a[4]);return g};b.prototype.renderLabel=function(a){var g=[];void 0!==a.color.getValue()&&g.push("color");return 0===g.length?this.label:this.label+": "+g.join(", ")};return b}(a.PropertyType);a.BackgroundPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(){var c=[];c.push(new a.Variables.StringVariableType("style",["style"],"borderStyle","none",!1));c.push(new a.Variables.ContainerHeightPctVariableType("size",["size"],"borderWidth",0,100,0,2,"%",!1));c.push(new a.Variables.ColorVariableType("color",["color"],"borderColor","transparent",!1));d.call(this,"border",["border"],c)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,
!1);!0===a&&(g.style.setValue("solid"),g.size.setValue(.5),g.color.setValue("black"));return g};b.prototype.createPropertyFromNumber=function(a){var g=this.createPropertyFromBoolean(!0);g.size.setValue(a);return g};b.prototype.createPropertyFromString=function(a){var g=this.createPropertyFromBoolean(!0);g.color.setValue(a);return g};b.prototype.createPropertyFromArray=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&(g.size.setValue(null===a[0]?void 0:a[0]),g.color.setValue("black"),
g.style.setValue("solid"));1<a.length&&g.color.setValue(null===a[1]?void 0:a[1]);2<a.length&&g.style.setValue(null===a[2]?void 0:a[2]);return g};b.prototype.renderLabel=function(a){var g=[],b=a.style.getValue(),d=a.size.getValue();a=a.color.getValue();void 0!==b&&g.push(b);void 0!==d&&g.push(d.toString()+"px");void 0!==a&&g.push("color");return 0===g.length?this.label:this.label+": "+g.join(" ")};return b}(a.PropertyType);a.BorderPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models=
{}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(){var c=[];c.push(new a.Variables.BulletsVariableType);d.call(this,"bullets",["bullets"],c)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,a);a&&g.style.setValue("disc");return g};b.prototype.createPropertyFromNumber=function(c){var g=new a.Property(this),b=g.style;c=b.type.getValueByIndex(c-1);b.setValue(c);return g};b.prototype.createPropertyFromString=function(c){var g=
new a.Property(this);g.style.setValue(c);return g};b.prototype.createPropertyFromArray=function(c){var g=new a.Property(this),b=this.variableTypes[0].defaultValue;0<c.length&&(b=c[0]);g.style.setValue(b);return g};b.prototype.renderLabel=function(a){return this.renderVariables(a,!0,!0)};return b}(a.PropertyType);a.BulletsPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(){var c=[];c.push(new a.Variables.StringVariableType("name",["name"],void 0,"",!1));d.call(this,"class",["class"],c)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){return d.prototype.createPropertyFromBoolean.call(this,!1)};b.prototype.createPropertyFromNumber=function(c){var g=new a.Property(this);g.name.setValue(c.toString());return g};b.prototype.createPropertyFromString=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,
!1);g.name.setValue(a.trim());return g};b.prototype.createPropertyFromArray=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&g.name.setValue(a[0].toString());return g};return b}(a.PropertyType);a.ClassPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(){var c=[];c.push(new a.Variables.ColorVariableType("color",["color"],"color","black",!1));d.call(this,"color",["textcolor","color"],c)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&g.color.setValue("white");return g};b.prototype.createPropertyFromNumber=function(c){var g=new a.Property(this);g.color.setValue(c);return g};b.prototype.createPropertyFromString=
function(c){var g=new a.Property(this);g.color.setValue(c);return g};b.prototype.createPropertyFromArray=function(c){var g=new a.Property(this);0<c.length&&g.color.setValue(null===c[0]?void 0:c[0]);return g};b.prototype.renderLabel=function(a){return this.renderVariables(a,!0,!0)};return b}(a.PropertyType);a.ColorPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[];a.push(new f.Variables.ContainerHeightPctVariableType("tl",["topleft","tl"],"borderTopLeftRadius",0,100,0,2,"",!1));a.push(new f.Variables.ContainerHeightPctVariableType("tr",["topright","tr"],"borderTopRightRadius",0,100,0,2,"",!1));a.push(new f.Variables.ContainerHeightPctVariableType("bl",["bottomleft","bl"],"borderBottomLeftRadius",0,100,0,2,"",!1));a.push(new f.Variables.ContainerHeightPctVariableType("br",["bottomright",
"br"],"borderBottomRightRadius",0,100,0,2,"",!1));d.call(this,"corners",["corners"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){return!1===a?d.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(3)};b.prototype.createPropertyFromNumber=function(a){var g=new f.Property(this);g.topleft.setValue(a);g.topright.setValue(a);g.bottomleft.setValue(a);g.bottomright.setValue(a);return g};b.prototype.createPropertyFromString=function(a){a=a.split(",");for(var g=
0;g<a.length;g++)a[g]=a[g].trim();return this.createPropertyFromArray(a)};b.prototype.createPropertyFromArray=function(c){var g=0<c.length&&void 0!==c[0]?a.Util.convertToNumber(c[0]):void 0,b=1<c.length&&void 0!==c[1]?a.Util.convertToNumber(c[1]):g,d=2<c.length&&void 0!==c[2]?a.Util.convertToNumber(c[2]):g;c=3<c.length&&void 0!==c[3]?a.Util.convertToNumber(c[3]):b;var e=new f.Property(this);e.topleft.setValue(g);e.topright.setValue(b);e.bottomright.setValue(d);e.bottomleft.setValue(c);return e};b.prototype.renderLabel=
function(a){return this.renderVariables(a,!1,!0)};return b}(f.PropertyType);f.CornersPropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(c){void 0===c&&(c=!1);var g=[];g.push(new a.Variables.BooleanVariableType("crop",["crop"],"overflow","visible","hidden",c));d.call(this,"crop",["crop"],g)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(c){var g=new a.Property(this);g.crop.setValue(c);return g};b.prototype.createPropertyFromNumber=function(c){var g=new a.Property(this);g.crop.setValue(!!c);return g};b.prototype.createPropertyFromString=function(c){var g=
new a.Property(this);c=c.trim().toLocaleLowerCase();g.crop.setValue(0<c.length&&"false"!==c&&"0"!==c);return g};b.prototype.createPropertyFromArray=function(c){var g=new a.Property(this),b=!1;0<c.length&&(c=c[0],b=""!==c&&"false"!==c&&"0"!==c&&!!c);g.crop.setValue(b);return g};b.prototype.renderLabel=function(a){var g=1===this.countOfValues(a);return this.renderVariables(a,!0,g)};return b}(a.PropertyType);a.CropPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||
(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(c){void 0===c&&(c=!1);var g=[];g.push(new a.Variables.StringVariableType("name",["family","face"],"font-family","Arial, Helvetica, sans-serif",!1));g.push(new a.Variables.ContainerHeightPctVariableType("size",["size"],"fontSize",0,Number.MAX_VALUE,12,1," pixels",c));g.push(new a.Variables.PercentVariableType("line height",["lineheight","lh"],"lineHeight",0,Number.MAX_VALUE,120,!0));d.call(this,"font",["font"],g)}__extends(b,d);b.prototype.createPropertyFromNumber=
function(c){var g=new a.Property(this);g.size.setValue(c);return g};b.prototype.createPropertyFromString=function(c){var g=new a.Property(this);g.family.setValue(c);return g};b.prototype.createPropertyFromArray=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&g.family.setValue(null===a[0]?void 0:a[0]);1<a.length&&g.size.setValue(null===a[1]?void 0:a[1]);2<a.length&&g.lineheight.setValue(null===a[2]?void 0:a[2]);return g};b.prototype.renderLabel=function(a){var g=1===
this.countOfValues(a);return this.renderVariables(a,!0,g)};return b}(a.PropertyType);a.FontPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[];a.push(new f.Variables.NumberVariableType("item",["item"],void 0,0,Number.POSITIVE_INFINITY,0,0,"",!1));d.call(this,"move to",["moveto","move"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var g=new f.Property(this);g.item.setValue(a?1:0);return g};b.prototype.createPropertyFromNumber=function(a){var g=new f.Property(this);g.item.setValue(a);return g};b.prototype.createPropertyFromString=function(c){var g=
new f.Property(this);g.item.setValue(a.Util.convertToNumber(c));return g};b.prototype.createPropertyFromArray=function(c){var g=new f.Property(this);0<c.length&&g.item.setValue(null===c[0]?void 0:a.Util.convertToNumber(c[0]));return g};return b}(f.PropertyType);f.MoveToPropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[];a.push(new f.Variables.PercentVariableType("percent",["percent","pct"],"autoAlpha",0,100,100,!1));d.call(this,"opacity",["opacity","opac"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var g=d.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&g.percent.setValue(100);return g};b.prototype.createPropertyFromNumber=function(a){var g=new f.Property(this);g.percent.setValue(a);return g};b.prototype.createPropertyFromString=
function(c){var g=d.prototype.createPropertyFromBoolean.call(this,!1);g.percent.setValue(a.Util.convertToNumber(c,100));return g};b.prototype.createPropertyFromArray=function(c){var g=d.prototype.createPropertyFromBoolean.call(this,!1);0<c.length&&g.percent.setValue(a.Util.convertToNumber(c[0],100));return g};b.prototype.renderLabel=function(a){return this.renderVariables(a,!1,!0)};return b}(f.PropertyType);f.OpacityPropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||
(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[];a.push(new f.Variables.ContainerWidthPctVariableType("left",["left","l"],"paddingLeft",0,50,0,2,"%",!1));a.push(new f.Variables.ContainerHeightPctVariableType("top",["top","t"],"paddingTop",0,50,0,2,"%",!1));a.push(new f.Variables.ContainerWidthPctVariableType("right",["right","r"],"paddingRight",0,50,0,2,"%",!1));a.push(new f.Variables.ContainerHeightPctVariableType("bottom",["bottom","b"],"paddingBottom",0,50,0,2,"%",
!1));d.call(this,"padding",["padding","pad"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){return!1===a?d.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(2)};b.prototype.createPropertyFromNumber=function(a){var g=new f.Property(this);g.left.setValue(a);g.top.setValue(a);g.right.setValue(a);g.bottom.setValue(a);return g};b.prototype.createPropertyFromString=function(a){a=a.split(",");for(var g=0;g<a.length;g++)a[g]=a[g].trim();return this.createPropertyFromArray(a)};
b.prototype.createPropertyFromArray=function(c){var g=0<c.length&&void 0!==c[0]?a.Util.convertToNumber(c[0]):void 0,b=1<c.length&&void 0!==c[1]?a.Util.convertToNumber(c[1]):g,d=2<c.length&&void 0!==c[2]?a.Util.convertToNumber(c[2]):g;c=3<c.length&&void 0!==c[3]?a.Util.convertToNumber(c[3]):b;var e=new f.Property(this);e.left.setValue(c);e.top.setValue(g);e.right.setValue(b);e.bottom.setValue(d);return e};b.prototype.renderLabel=function(a){var g=a.all.getValue(),b=a.left.getValue()||g,d=a.top.getValue()||
g,f=a.right.getValue()||g;a=a.bottom.getValue()||g;return void 0===b&&void 0===d&&void 0===f&&void 0===a?this.label:b===d&&d===f&&f===a&&a===b?this.label+": "+b.toString()+"%":void 0===b||void 0===d||void 0===f||void 0===a?this.label+": "+(void 0===b?"":"left "+b.toString()+"% ")+(void 0===d?"":"top "+d.toString()+"% ")+(void 0===f?"":"right "+f.toString()+"% ")+(void 0===a?"":"bottom "+a.toString()+"% "):this.label+": "+b.toString()+"% "+d.toString()+"% "+f.toString()+"% "+a.toString()+"%"};return b}(f.PropertyType);
f.PaddingPropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=Number.NEGATIVE_INFINITY,b=Number.POSITIVE_INFINITY,e=[];e.push(new f.Variables.ContainerWidthPctVariableType("X",["x"],"x",a,b,0,2," pixels",!0));e.push(new f.Variables.ContainerHeightPctVariableType("Y",["y"],"y",a,b,0,2," pixels",!0));e.push(new f.Variables.ContainerDepthPctVariableType("Z",["z"],"z",a,b,0,2," pixels",!0));d.call(this,"position",["position","pos"],e)}__extends(b,d);b.prototype.createPropertyFromBoolean=
function(a){return d.prototype.createPropertyFromBoolean.call(this,!1)};b.prototype.createPropertyFromNumber=function(a){var b=new f.Property(this);b.x.setValue(a);return b};b.prototype.createPropertyFromString=function(a){a=a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return this.createPropertyFromArray(a)};b.prototype.createPropertyFromArray=function(c){var b=d.prototype.createPropertyFromBoolean.call(this,!1);0<c.length&&b.x.setValue(a.Util.convertToNumber(c[0]));1<c.length&&b.y.setValue(a.Util.convertToNumber(c[1]));
2<c.length&&b.z.setValue(a.Util.convertToNumber(c[2]));return b};b.prototype.renderLabel=function(a){var b=this.countOfValues(a),d=1===b,f=1===b;2===b&&void 0!==a.z.getValue()&&(d=!0);return this.renderVariables(a,d,f)};return b}(f.PropertyType);f.PositionPropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[],b=String.fromCharCode(176);a.push(new f.Variables.NumberVariableType("X",["x"],"rotationX",-36E3,36E3,0,2,b,!1));a.push(new f.Variables.NumberVariableType("Y",["y"],"rotationY",-36E3,36E3,0,2,b,!1));a.push(new f.Variables.NumberVariableType("Z",["z"],"rotationZ",-36E3,36E3,0,2,b,!0));d.call(this,"rotation",["rotation","rotate","rot"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var b=d.prototype.createPropertyFromBoolean.call(this,
!1);!0===a&&b.z.setValue(360);return b};b.prototype.createPropertyFromNumber=function(a){var b=new f.Property(this);b.z.setValue(a);return b};b.prototype.createPropertyFromString=function(a){a=a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return this.createPropertyFromArray(a)};b.prototype.createPropertyFromArray=function(c){var b=d.prototype.createPropertyFromBoolean.call(this,!1);0<c.length&&b.x.setValue(a.Util.convertToNumber(c[0]));1<c.length&&b.y.setValue(a.Util.convertToNumber(c[1]));
2<c.length&&b.z.setValue(a.Util.convertToNumber(c[2]));return b};b.prototype.renderLabel=function(a){var b=this.countOfValues(a),d=3>b;1===b&&void 0!==a.z.getValue()&&(d=!1);return this.renderVariables(a,d,!0)};return b}(f.PropertyType);f.RotationPropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[];a.push(new f.Variables.PercentVariableType("X",["x"],"scaleX",0,1E3,100,!1));a.push(new f.Variables.PercentVariableType("Y",["y"],"scaleY",0,1E3,100,!1));d.call(this,"scale",["scale"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){return!1===a?d.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(200)};b.prototype.createPropertyFromNumber=function(a){var b=new f.Property(this);
b.x.setValue(a);b.y.setValue(a);return b};b.prototype.createPropertyFromString=function(a){a=a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return this.createPropertyFromArray(a)};b.prototype.createPropertyFromArray=function(c){var b=d.prototype.createPropertyFromBoolean.call(this,!1);0<c.length&&b.x.setValue(a.Util.convertToNumber(c[0]));1<c.length&&b.y.setValue(a.Util.convertToNumber(c[1]));return b};b.prototype.renderLabel=function(a){var b=this.countOfValues(a),d=1===b;if(1<b){var b=
a.x.getValue(),f=a.y.getValue();if(b===f)return this.label+": "+b.toString()+"%"}return this.renderVariables(a,d,!0)};return b}(f.PropertyType);f.ScalePropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[];a.push(new f.Variables.ContainerWidthPctVariableType("Width",["width","w"],"width",0,Number.POSITIVE_INFINITY,0,2,"",!1));a.push(new f.Variables.ContainerHeightPctVariableType("Height",["height","h"],"height",0,Number.POSITIVE_INFINITY,0,2,"",!1));d.call(this,"size",["size"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){return!1===a?d.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(100)};
b.prototype.createPropertyFromNumber=function(a){var b=new f.Property(this);b.width.setValue(a);b.height.setValue(a);return b};b.prototype.createPropertyFromString=function(a){a=a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return this.createPropertyFromArray(a)};b.prototype.createPropertyFromArray=function(c){var b=d.prototype.createPropertyFromBoolean.call(this,!1);0<c.length&&b.width.setValue(a.Util.convertToNumber(c[0]));1<c.length&&b.height.setValue(a.Util.convertToNumber(c[1]));return b};
b.prototype.renderLabel=function(a){return this.renderVariables(a,!1,!0)};return b}(f.PropertyType);f.SizePropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[],b=String.fromCharCode(176);a.push(new f.Variables.NumberVariableType("X",["degrees","deg"],"skewX",Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,0,2,b,!1));d.call(this,"skew",["skew"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){return!1===a?d.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(-30)};b.prototype.createPropertyFromNumber=function(a){var b=new f.Property(this);
b.degrees.setValue(a);return b};b.prototype.createPropertyFromString=function(c){var b=d.prototype.createPropertyFromBoolean.call(this,!1);b.degrees.setValue(a.Util.convertToNumber(c));return b};b.prototype.createPropertyFromArray=function(c){var b=d.prototype.createPropertyFromBoolean.call(this,!1);0<c.length&&b.degrees.setValue(null===c[0]?void 0:a.Util.convertToNumber(c[0]));return b};b.prototype.renderLabel=function(a){this.countOfValues(a);return this.renderVariables(a,!0,!0)};return b}(f.PropertyType);
f.SkewPropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(a,b,e){void 0===a&&(a="shadow");void 0===b&&(b=["shadow","shadows"]);void 0===e&&(e="boxShadow");var h=[];h.push(new f.Variables.ShadowVariableType(e,"boxShadow"===e));d.call(this,a,b,h)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var b=d.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&b[this.variableTypes[0].jsonNames[0]].setValue([.5,.5,2]);return b};b.prototype.createPropertyFromNumber=function(a){var b=
new f.Property(this);b[this.variableTypes[0].jsonNames[0]].setValue([a,a,2]);return b};b.prototype.parseString=function(c){var b=[],d=[],f=0;c.split(",").forEach(function(a){0<f?b[b.length-1]+=","+a:b.push(a);-1<a.indexOf("(")&&f++;-1<a.indexOf(")")&&f--});b.forEach(function(c,b){c=c.trim().toLowerCase();3===b?d.push(isNaN(c)?c:Number(c)):5===b?d.push("1"===c||"true"===c):d.push(a.Util.convertToNumber(c))});return d};b.prototype.createPropertyFromString=function(a){var b=new f.Property(this);b[this.variableTypes[0].jsonNames[0]].setValue(this.parseString(a));
return b};b.prototype.createPropertyFromArray=function(a){var b=this,d=new f.Property(this);if(0===a.length)return d;if(a[0]instanceof Array||"number"===typeof a[0])d[this.variableTypes[0].jsonNames[0]].setValue(a);else{var e=[];a.forEach(function(d){"string"===typeof d?e.push(b.parseString(d)):"object"===typeof a[0]&&e.push(b.parseObject(d))});d[this.variableTypes[0].jsonNames[0]].setValue(e)}return d};b.prototype.parseObject=function(a){return[a.x,a.y,a.blur,a.color,a.spread,a.inset]};b.prototype.createPropertyFromObject=
function(a){var b=new f.Property(this);if(void 0===a)return b;b[this.variableTypes[0].jsonNames[0]].setValue(this.parseObject(a));return b};b.prototype.renderLabel=function(a){return this.label};return b}(f.PropertyType);f.ShadowPropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(c){void 0===c&&(c="transparent");var b=[];b.push(new a.Variables.ColorVariableType("color",["color"],"fill",c,"transparent"!==c));d.call(this,"fill",["fill"],b)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var b=d.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&b.color.setValue("#F7F7F7");return b};b.prototype.createPropertyFromNumber=function(a){var b=d.prototype.createPropertyFromBoolean.call(this,
!1);b.color.setValue(a);return b};b.prototype.createPropertyFromString=function(a){a=a.trim();if(0===a.length||"none"===a)return d.prototype.createPropertyFromBoolean.call(this,!1);var b;b=d.prototype.createPropertyFromBoolean.call(this,!1);b.color.setValue(a);return b};b.prototype.createPropertyFromArray=function(a){var b=d.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&b.color.setValue(null===a[0]?void 0:a[0]);return b};return b}(a.PropertyType);a.SvgFillPropertyType=e})(a.Properties||
(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(){var c=[];c.push(new a.Variables.TextAlignVariableType);d.call(this,"textAlign",["textalign","align"],c)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var b=d.prototype.createPropertyFromBoolean.call(this,a);a&&b.align.setValue("justify");return b};b.prototype.createPropertyFromNumber=function(c){var b=new a.Property(this);0===c&&b.align.setValue("inherit");1===c&&b.align.setValue("left");2===c&&b.align.setValue("center");
3===c&&b.align.setValue("right");4===c&&b.align.setValue("justify");return b};b.prototype.createPropertyFromString=function(c){var b=new a.Property(this);b.align.setValue(c);return b};b.prototype.createPropertyFromArray=function(c){var b=new a.Property(this),d=this.variableTypes[0].defaultValue;0<c.length&&(d=c[0]);b.align.setValue(d);return b};b.prototype.renderLabel=function(a){return this.renderVariables(a,!0,!0)};return b}(a.PropertyType);a.TextAlignPropertyType=e})(a.Properties||(a.Properties=
{}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){(function(a){var e=function(a){function b(){a.call(this,"text shadow",["textshadow","textshadows"],"textShadow")}__extends(b,a);return b}(a.ShadowPropertyType);a.TextShadowPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(){var c=[];c.push(new a.Variables.BooleanVariableType("bold",["bold"],"font-weight","normal","bold"));c.push(new a.Variables.BooleanVariableType("italic",["italic"],"font-style","normal","italic"));c.push(new a.Variables.StringVariableType("line",["line","lines"],"text-decoration","none",!1));c.push(new a.Variables.BooleanVariableType("smallCaps",["smallcaps","caps"],"font-variant","normal","small-caps"));d.call(this,"style",["textstyle",
"textstyles","styles","style"],c)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var b=d.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&(b.bold.setValue(!0),b.italic.setValue(!0));return b};b.prototype.createPropertyFromNumber=function(c){var b=new a.Property(this);b.bold.setValue(0<(c&1));b.italic.setValue(0<(c&2));b.smallcaps.setValue(0<(c&4));var d=[];0<(c&8)&&d.push("underline");0<(c&16)&&d.push("line-through");0<(c&32)&&d.push("overline");0===d.length&&d.push("none");
b.line.setValue(d.join(" "));return b};b.prototype.createPropertyFromString=function(c){var b=new a.Property(this);c=c.toLocaleLowerCase();b.bold.setValue(-1<c.indexOf("bold"));b.italic.setValue(-1<c.indexOf("italic"));b.smallcaps.setValue(-1<c.indexOf("caps"));var d=[];-1<c.indexOf("under")&&d.push("underline");-1<c.indexOf("through")&&d.push("line-through");-1<c.indexOf("over")&&d.push("overline");0===d.length&&d.push("none");b.line.setValue(d.join(" "));return b};b.prototype.createPropertyFromArray=
function(a){var b=d.prototype.createPropertyFromBoolean.call(this,!1),f=[];a.forEach(function(a){a=(a||"").toString().trim().toLocaleLowerCase();0===a.indexOf("b")&&b.bold.setValue(!0);0===a.indexOf("i")&&b.italic.setValue(!0);0===a.indexOf("c")&&b.smallCaps.setValue(!0);0===a.indexOf("u")&&f.push("underline");0===a.indexOf("t")&&f.push("line-through");0===a.indexOf("o")&&f.push("overline")});0===f.length&&f.push("none");b.line.setValue(f.join(" "));return b};b.prototype.renderLabel=function(a){return this.renderVariables(a,
!0,!0)};return b}(a.PropertyType);a.TextStylePropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var e=function(d){function b(){var a=[];a.push(new f.Variables.TextWidthVariableType);d.call(this,"width",["textwidth","width"],a)}__extends(b,d);b.prototype.createPropertyFromBoolean=function(a){var b=d.prototype.createPropertyFromBoolean.call(this,a);a&&b.width.setValue(100);return b};b.prototype.createPropertyFromNumber=function(a){var b=new f.Property(this);b.width.setValue(a);return b};b.prototype.createPropertyFromString=function(c){var b=new f.Property(this);
b.width.setValue(a.Util.convertToNumber(c,this.variableTypes[0].defaultValue));return b};b.prototype.createPropertyFromArray=function(c){var b=new f.Property(this),d=this.variableTypes[0].defaultValue;0<c.length&&(d=a.Util.convertToNumber(c[0],d));b.width.setValue(d);return b};b.prototype.renderLabel=function(a){return this.renderVariables(a,!0,!0)};return b}(f.PropertyType);f.TextWidthPropertyType=e})(e.Properties||(e.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(d){function b(c){var b=[];b.push(new a.Variables.OriginVariableType(!0,c));d.call(this,"transformOrigin",["transformorigin","origin"],b)}__extends(b,d);b.prototype.createProperty=function(c){var b=new a.Property(this);b.transformOrigin.setValue(c);return b};b.prototype.createPropertyFromBoolean=function(a){return this.createProperty(a)};b.prototype.createPropertyFromNumber=function(a){return this.createProperty(a)};b.prototype.createPropertyFromString=
function(a){return this.createProperty(a)};b.prototype.createPropertyFromArray=function(a){return this.createProperty(a)};b.prototype.renderLabel=function(a){return this.renderVariables(a,!1,!0)};return b}(a.PropertyType);a.TransformOriginPropertyType=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(){function d(){}d.ANCHOR=new a.AnchorPropertyType;d.ANIMATION=new a.AnimationPropertyType;d.BACKGROUND=new a.BackgroundPropertyType;d.BORDER=new a.BorderPropertyType;d.BULLET=new a.BulletsPropertyType;d.CLASS=new a.ClassPropertyType;d.CORNERS=new a.CornersPropertyType;d.CROP=new a.CropPropertyType;d.CROP_SVG=new a.CropPropertyType(!0);d.FILL_SVG=new a.SvgFillPropertyType;d.FONT=new a.FontPropertyType;d.MOVE_TO=new a.MoveToPropertyType;d.OPACITY=
new a.OpacityPropertyType;d.PADDING=new a.PaddingPropertyType;d.POSITION=new a.PositionPropertyType;d.ROTATION=new a.RotationPropertyType;d.SCALE=new a.ScalePropertyType;d.SIZE=new a.SizePropertyType;d.SKEW=new a.SkewPropertyType;d.SHADOW=new a.ShadowPropertyType;d.TEXT_ALIGN=new a.TextAlignPropertyType;d.TEXT_COLOR=new a.ColorPropertyType;d.TEXT_SHADOW=new a.TextShadowPropertyType;d.TEXT_STYLE=new a.TextStylePropertyType;d.TEXT_WIDTH=new a.TextWidthPropertyType;d.TRANSFORM_ORIGIN=new a.TransformOriginPropertyType(!1);
d.TRANSFORM_ORIGIN_CONTAINER=new a.TransformOriginPropertyType(!0);return d}();a.Cache=e})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){(function(a){var e=function(a){function b(c,b,f,e,h,n){a.call(this,c,"image","Image",[h],[n]);this.src=b;this.width=f;this.height=e}__extends(b,a);return b}(a.Item);a.ImageItem=e})(a.Items||(a.Items={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c,b,f){a.call(this,c,"layer","Layer",[b],[f]);this.items=[];this.flow=c.flow;this.story=c.flow.story}__extends(b,a);b.prototype.getCountOfStepsUsed=function(){var a=1;this.scriptSets.forEach(function(b){a=Math.max(a,b.getCountOfStepsUsed())});this.items.forEach(function(b){a=Math.max(a,b.getCountOfStepsUsed())});return a};return b}(a.Item);a.LayerItem=e})(a.Items||(a.Items={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c,b,f,e,h,n){a.call(this,c,b,f,[h],[n]);this.sequenceOnStepIndex=e}__extends(b,a);return b}(a.Item);a.SequencedItem=e})(a.Items||(a.Items={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c,b,f,e,h,n,l,m,r,t,u,v,w){a.call(this,c,"text","Text",[n,m,t,v],[l,r,u,w]);this.text=b;this.stackedLines=f;this.stackedWords=e;this.stackedChars=h;this.linesInit=m;this.linesScriptSet=r;this.wordsInit=t;this.wordsScriptSet=u;this.charsInit=v;this.charsScriptSet=w}__extends(b,a);return b}(a.Item);a.TextItem=e})(a.Items||(a.Items={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(e){var d=function(){function b(){}b.getPropertyTypes=function(){if(void 0===b._propertyTypes){var c=[];c.push(a.Cache.ANIMATION);c.push(a.Cache.BACKGROUND);c.push(a.Cache.BORDER);c.push(a.Cache.CORNERS);c.push(a.Cache.CROP);c.push(a.Cache.FONT);c.push(a.Cache.OPACITY);c.push(a.Cache.SHADOW);c.push(a.Cache.TEXT_COLOR);b._propertyTypes=c}return b._propertyTypes};b._propertyTypes=void 0;return b}();e.Canvas=d})(a.PerElement||(a.PerElement={}))})(a.Properties||
(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(e){var d=function(){function b(){}b.getPropertyTypes=function(){if(void 0===b._propertyTypes){var c=[];c.push(a.Cache.ANIMATION);c.push(a.Cache.BACKGROUND);c.push(a.Cache.BORDER);c.push(a.Cache.CORNERS);c.push(a.Cache.CROP);c.push(a.Cache.OPACITY);c.push(a.Cache.SCALE);c.push(a.Cache.SHADOW);b._propertyTypes=c}return b._propertyTypes};b._propertyTypes=void 0;return b}();e.Frame=d})(a.PerElement||(a.PerElement={}))})(a.Properties||(a.Properties={}))})(a.Models||
(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(e){var d=function(){function b(){}b.getPropertyTypes=function(){if(void 0===b._propertyTypes){var c=[];c.push(a.Cache.ANCHOR);c.push(a.Cache.ANIMATION);c.push(a.Cache.CLASS);c.push(a.Cache.CORNERS);c.push(a.Cache.OPACITY);c.push(a.Cache.POSITION);c.push(a.Cache.ROTATION);c.push(a.Cache.SCALE);c.push(a.Cache.SHADOW);c.push(a.Cache.SKEW);c.push(a.Cache.TRANSFORM_ORIGIN);b._propertyTypes=c}return b._propertyTypes};b._propertyTypes=void 0;return b}();e.ImageItem=
d})(a.PerElement||(a.PerElement={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(e){var d=function(){function b(){}b.getPropertyTypes=function(){if(void 0===b._propertyTypes){var c=[];c.push(a.Cache.ANCHOR);c.push(a.Cache.ANIMATION);c.push(a.Cache.BACKGROUND);c.push(a.Cache.BORDER);c.push(a.Cache.CLASS);c.push(a.Cache.CORNERS);c.push(a.Cache.CROP);c.push(a.Cache.MOVE_TO);c.push(a.Cache.OPACITY);c.push(a.Cache.POSITION);c.push(a.Cache.ROTATION);c.push(a.Cache.SCALE);c.push(a.Cache.SHADOW);c.push(a.Cache.SIZE);c.push(a.Cache.SKEW);
c.push(a.Cache.TRANSFORM_ORIGIN);b._propertyTypes=c}return b._propertyTypes};b._propertyTypes=void 0;return b}();e.LayerItem=d})(a.PerElement||(a.PerElement={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(e){var d=function(){function b(){}b.getPropertyTypes=function(){if(void 0===b._propertyTypes){var c=[];c.push(a.Cache.ANIMATION);c.push(a.Cache.BACKGROUND);c.push(a.Cache.BORDER);c.push(a.Cache.CORNERS);c.push(a.Cache.CROP);c.push(a.Cache.FONT);c.push(a.Cache.OPACITY);c.push(new a.FontPropertyType(!0));c.push(a.Cache.SHADOW);c.push(a.Cache.TEXT_COLOR);c.push(a.Cache.TEXT_SHADOW);b._propertyTypes=c}return b._propertyTypes};b._propertyTypes=void 0;return b}();
e.Page=d})(a.PerElement||(a.PerElement={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(e){var d=function(){function b(){}b.cacheProperties=function(){b._propertyTypes=[];b._linePropertyTypes=[];b._wordPropertyTypes=[];b._charPropertyTypes=[];var c=[b._propertyTypes],d=[b._linePropertyTypes],e=[b._propertyTypes,b._linePropertyTypes,b._wordPropertyTypes,b._charPropertyTypes],h=[b._linePropertyTypes,b._wordPropertyTypes,b._charPropertyTypes];b.addPropertyType(c,a.Cache.ANCHOR);b.addPropertyType(e,a.Cache.ANIMATION);b.addPropertyType(e,a.Cache.BACKGROUND);
b.addPropertyType(e,a.Cache.BORDER);b.addPropertyType(d,a.Cache.BULLET);b.addPropertyType(e,a.Cache.CLASS);b.addPropertyType(e,a.Cache.CORNERS);b.addPropertyType(c,a.Cache.CROP);b.addPropertyType(c,a.Cache.FONT);b.addPropertyType(e,a.Cache.OPACITY);b.addPropertyType(e,a.Cache.PADDING);b.addPropertyType(e,a.Cache.POSITION);b.addPropertyType(e,a.Cache.ROTATION);b.addPropertyType(e,a.Cache.SCALE);b.addPropertyType(e,a.Cache.SHADOW);b.addPropertyType(e,a.Cache.SKEW);b.addPropertyType(c,a.Cache.TEXT_ALIGN);
b.addPropertyType(e,a.Cache.TEXT_COLOR);b.addPropertyType(e,a.Cache.TEXT_SHADOW);b.addPropertyType(e,a.Cache.TEXT_STYLE);b.addPropertyType(c,a.Cache.TEXT_WIDTH);b.addPropertyType(c,a.Cache.TRANSFORM_ORIGIN);b.addPropertyType(h,a.Cache.TRANSFORM_ORIGIN_CONTAINER)};b.addPropertyType=function(a,b){a.forEach(function(a){a.push(b)})};b.getPropertyTypes=function(){void 0===b._propertyTypes&&b.cacheProperties();return b._propertyTypes};b.getLinePropertyTypes=function(){void 0===b._linePropertyTypes&&b.cacheProperties();
return b._linePropertyTypes};b.getWordPropertyTypes=function(){void 0===b._wordPropertyTypes&&b.cacheProperties();return b._wordPropertyTypes};b.getCharPropertyTypes=function(){void 0===b._charPropertyTypes&&b.cacheProperties();return b._charPropertyTypes};b._propertyTypes=void 0;b._linePropertyTypes=void 0;b._wordPropertyTypes=void 0;b._charPropertyTypes=void 0;return b}();e.TextItem=d})(a.PerElement||(a.PerElement={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle=
{}));(function(a){a=a.Models||(a.Models={});a=a.Properties||(a.Properties={});a=a.StaggerTargets||(a.StaggerTargets={});a[a.All=0]="All";a[a.Odd=1]="Odd";a[a.Even=2]="Even";a[a.Thirds1=3]="Thirds1";a[a.Thirds2=4]="Thirds2";a[a.Thirds3=5]="Thirds3"})(ProStyle||(ProStyle={}));(function(a){a=a.Models||(a.Models={});a=a.Properties||(a.Properties={});a=a.StaggerOrder||(a.StaggerOrder={});a[a.Forward=0]="Forward";a[a.Reverse=1]="Reverse";a[a.Random=2]="Random"})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(){function a(b,c,g){void 0===b&&(b=a.defaultDelay);void 0===c&&(c=a.defaultTargets);void 0===g&&(g=a.defaultOrder);this.delay=b;this.targets=c;this.order=g;this.delay=Math.round(10*b)/10}a.prototype.isDefault=function(){return this.delay!==a.defaultDelay||this.targets!==a.defaultTargets||this.order!==a.defaultOrder?!1:!0};a.defaultDelay=0;a.defaultTargets=0;a.defaultOrder=0;return a}();a.Stagger=e})(a.Properties||(a.Properties={}))})(a.Models||
(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){(function(a){var d=function(){function a(c){this.type=c}a.prototype.getValue=function(a){void 0===a&&(a=!1);return a?void 0!==this._value?this._value:void 0!==this.defaultValueOverride?this.defaultValueOverride:this.type.defaultValue:this._value};a.prototype.setValue=function(a){this._value=void 0===a?void 0:this.type.scrubValue(a)};a.prototype.render=function(a,b){var d=this.getValue();if(void 0!==d){var e=[];a&&(e.push(this.type.label),e.push(": "));e.push(d.toString());
b&&e.push(this.type.text);return e.join("")}};return a}();a.Variable=d})(a.Variables||(a.Variables={}))})(a.Properties||(a.Properties={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){a=a.Models||(a.Models={});a=a.Scripts||(a.Scripts={});a=a.ScriptType||(a.ScriptType={});a[a.InitEvent=0]="InitEvent";a[a.StepEvent=1]="StepEvent";a[a.SwitchEvent=2]="SwitchEvent";a[a.ActionsOrphan=3]="ActionsOrphan";a[a.PropertyOrphan=4]="PropertyOrphan"})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(e){(function(e){e.fromString=function(d){d=(d||"step").toString().toLowerCase().trim();if("init"===d)return 0;if(0===d.indexOf("step"))return 1;if("switch"===d)return 2;if("actionsorphan"===d)return 3;if("propertyorphan"===d)return 4;a.Util.logError("ScriptType.fromString()","Unknown script type: "+d);return 1};e.toString=function(a){return 0===a?"init":1===a?"step":2===a?"switch":3===a?"actionsorphan":4===a?"propertyorphan":"init"}})(e.ScriptType||(e.ScriptType=
{}))})(e.Scripts||(e.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){(function(a){var e=function(a){function b(c){a.call(this,c,3);this.scriptSet=c;this.actions=[]}__extends(b,a);return b}(a.ActionsScript);a.ActionsOrphan=e})(a.Scripts||(a.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c,b){a.call(this,c,b);this.properties=[]}__extends(b,a);return b}(a.Script);a.PropertiesScript=e})(a.Scripts||(a.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){(function(a){var e=function(a){function b(c){a.call(this,c,0);this.scriptSet=c}__extends(b,a);return b}(a.PropertiesScript);a.InitEvent=e})(a.Scripts||(a.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c){a.call(this,c,4);this.scriptSet=c}__extends(b,a);return b}(a.PropertiesScript);a.PropertyOrphan=e})(a.Scripts||(a.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){(function(a){var e=function(a){function b(c,b){a.call(this,c,1);this.stepIndex=b}__extends(b,a);return b}(a.ActionsScript);a.StepEvent=e})(a.Scripts||(a.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(c,b){a.call(this,c,2);this.switchName=b}__extends(b,a);return b}(a.ActionsScript);a.SwitchEvent=e})(a.Scripts||(a.Scripts={}))})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){var f=function(){return function(a){void 0===a&&(a=void 0);this.autoAdvanceDelay=a;this.stopLabel=this.startLabel="";this.time=0}}();a.Step=f})(a.Models||(a.Models={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=function(){function f(){}f.read=function(d,b){b.setup=b.setup||{};var c=(b.flowType||"simple").trim().toLowerCase(),g,q=e.Flows["read_"+c];void 0===q?(q=f.lookupExtension(c))&&q.readJson?g=q.readJson(d,b):(a.Util.logError("FlowReader.read()","Unknown Flow Type ("+c+")"),g=a.Extensions.Flows.unknown.readJson(d,b)):g=q(d,b);b.pages instanceof Array&&b.pages.forEach(function(a){g.pages.push(e.PageReader.read(g,a))});return g};f.lookupExtension=function(d){for(var b in a.Extensions.Flows){var c=
b.toLowerCase();if(d===c)return a.Extensions.Flows[b]}};return f}();e.FlowReader=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Util,h=function(d){function b(c,b){var q=this;d.call(this,c.frame,f.createChildDivElement(b.div,"prostyle prostyle-camera"));this.story=c;this.frameElem=b;this.flowElems=[];this.resize();c.flows.forEach(function(c,b){var d=void 0,d="simple"===c.flowType?e.Flows.SimpleFlow:a.Serialization.FlowReader.lookupExtension(c.flowType.toLowerCase()).Renderer;q.flowElems.push(new d(c,q,b))})}__extends(b,d);b.prototype.resize=function(){var c=this.frameElem.size,b=(100-this.story.frame.padding)/
100,c=new a.Types.Size(c.width*b,c.height*b);1>c.width&&(c.width=1);1>c.height&&(c.height=1);this.size=c;TweenLite.set(this.div,{width:this.size.width,height:this.size.height,clearProps:"transform"})};b.prototype.stepStopped=function(a,b){a.pause(b.stopLabel)};return b}(e.Visual);e.Camera=h})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Util,h=function(d){function b(a,b){d.call(this,a.frame,f.createChildDivElement(b.div,"prostyle prostyle-frame"));this.story=a;this.canvasElem=b;this.resize();this.cameraElem=new e.Camera(a,this)}__extends(b,d);b.prototype.stepStopped=function(a,b){a.pause(b.stopLabel)};b.prototype.resize=function(){var b=this.canvasElem.size,d=this.story.frame.aspectRatio,e=(100-this.story.canvas.padding)/100,b=new a.Types.Size(b.width*e,b.height*e);1>b.width&&(b.width=1);1>b.height&&
(b.height=1);e=b.aspectRatio();e>d?b.width=b.height*d:e<d&&(b.height=b.width/d);this.size=b;TweenLite.set(this.div,{width:this.size.width,height:this.size.height,clearProps:"transform"});void 0!==this.cameraElem&&this.cameraElem.resize()};return b}(e.Visual);e.Frame=h})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(){function a(){this.handlers=[]}a.prototype.on=function(a){this.handlers.push(a)};a.prototype.off=function(a){this.handlers=this.handlers.filter(function(c){return c!==a})};a.prototype.trigger=function(a){this.handlers&&this.handlers.slice(0).forEach(function(c){return c(a)})};a.prototype.dispose=function(){this.handlers=[]};return a}();a.LiteEvent=e})(a.Events||(a.Events={}))})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Util.Events,h=a.Render,d=function(){function a(b){this.frame=b;this.steps=[];this.animating=!1;this.currentSubStep=0;this.state={progress:0,time:0,step:void 0,subStep:0};this.progressChanged=new f.LiteEvent;this.stateChanged=new f.LiteEvent;this.stepComplete=new f.LiteEvent;this.refreshTimeline(b);this.currentStep=this.getStepAtTime(0)}a.prototype.refreshTimeline=function(a){var b=this,d=0,e=!0;void 0!==this.timeline&&(d=this.timeline.time(),e=this.isPaused(),this.timeline.kill());
this.timeline=(new h.Timeline(a,this.triggerProgressChanged.bind(this))).timeline;this.steps=[];var f=0;a.cameraElem.flowElems.forEach(function(a){a.pageElems.forEach(function(a){a.steps.forEach(function(a){a.playerStepIndex=f;f++;b.steps.push(a);b.timeline.addCallback(b.triggerStepComplete.bind(b),a.stopLabel,[a])})})});this.currentStep=void 0===this.currentStep?this.steps[0]:this.steps[Math.min(this.currentStep.playerStepIndex,this.steps.length-1)];this.moveTo(d,!1,!e)};a.prototype.isAtStoryStart=
function(){return.02>this.timeline.time()};a.prototype.isAtStoryEnd=function(){var a=this.timeline.time(),b=this.timeline.duration();return.02>Math.abs(b-a)};a.prototype.isAtStepStart=function(a){void 0===a&&(a=!1);return this.currentStep.isAtStart(this.timeline.time())?(a&&this.timeline.seek(this.currentStep.startLabel),!0):!1};a.prototype.isAtStepEnd=function(){return this.currentStep.isAtEnd(this.timeline.time())};a.prototype.isPaused=function(){return this.timeline.paused()};a.prototype.isFirstStep=
function(){return 0===this.currentStep.playerStepIndex};a.prototype.isLastStep=function(){return this.currentStep.playerStepIndex===this.steps.length-1};a.prototype.triggerStateChanged=function(){this.stateChanged.trigger(this.timeline.paused())};a.prototype.triggerProgressChanged=function(){var a=this.state;a.time=this.timeline.time();a.progress=this.timeline.progress();if(a.time<this.currentStep.startTime||a.time>this.currentStep.stopTime)this.currentStep=this.getStepAtTime(a.time);a.step=this.currentStep;
this.progressChanged.trigger(a)};a.prototype.triggerStepComplete=function(a){this.animating||(this.timeline.pause(a.stopTime),this.stepComplete.trigger(a))};a.prototype.getNextStep=function(a){void 0===a&&(a=!0);var b=this.currentStep.playerStepIndex+1;b>=this.steps.length&&(b=a?0:this.currentStep.playerStepIndex);return this.steps[b]};a.prototype.getPriorStep=function(){var a=this.currentStep.playerStepIndex-1;0>a&&(a=this.steps.length-1);return this.steps[a]};a.prototype.getStepAtTime=function(a){if(a>=
this.currentStep.startTime&&a<=this.currentStep.stopTime)return this.currentStep;for(var b=this.steps[0],d=1;d<this.steps.length;d++){var e=this.steps[d];if(e.startTime>a)break;b=e}return b};a.prototype.moveTo=function(a,b,d){var e=this;.01>a&&(a=.01);var f=this.getStepAtTime(a),h=f.isAtStart(a),l=f.isAtEnd(a),m=Math.abs(this.timeline.time()-a);0<m&&b?(b=Math.max(.1,Math.min(m/5,1.5)),this.alignSequencedItemsToStep(f,h,l,!0),this.animating=!0,(new TimelineLite).to(this.timeline,b,{time:a,ease:Circ.easeOut,
onComplete:function(){e.timeline.pause(a);e.animating=!1;d&&e.thenPlay(l,!0);e.triggerProgressChanged();e.triggerStateChanged()}})):(this.timeline.pause(a),d&&this.thenPlay(l),this.triggerProgressChanged())};a.prototype.thenPlay=function(a,b){void 0===b&&(b=!0);a?0<this.getRemainingSubStepCount()?this.playSubStep(this.currentSubStep+1):(this.currentStep=this.getNextStep(!0),this.timeline.seek(this.currentStep.startTime,!0),this.isFirstStep()?this.alignSequencedItemsToStep(this.currentStep,!0,!1,!1):
this.playSubStep(0,!1),b&&(this.timeline.play(),this.playSubStep(1))):(this.timeline.play(),this.playSubStep(1));this.triggerStateChanged()};a.prototype.seek=function(a,b){void 0===b&&(b=!1);a=Math.max(0,Math.min(a,1));var d=this.timeline.duration()*a;this.moveTo(d,b,!1);this.currentStep=this.getStepAtTime(d);this.alignSequencedItemsToStep(this.currentStep,this.currentStep.isAtStart(d),this.currentStep.isAtEnd(d),!1)};a.prototype.seekStep=function(a,b){void 0===b&&(b=!1);this.timeline.pause();this.timeline.seek(a.startLabel);
this.currentStep=a;this.alignSequencedItemsToStep(a,!0,!1,b);this.triggerProgressChanged();this.triggerStateChanged()};a.prototype.alignSequencedItemsToStep=function(a,b,d,e){var f=this;void 0===e&&(e=!1);var h=!0;this.steps.forEach(function(l){var m=l===a;m&&(h=!1);if(!m||!d){var r=0,r=l===a?b?0:1:h?-1:0;l.sequencedItems.forEach(function(a){a.moveToSubStep(r,e,f.frame.cameraElem.size)})}})};a.prototype.playSubStep=function(a,b){var d=this;void 0===b&&(b=!0);this.currentSubStep=a;this.currentStep.sequencedItems.forEach(function(e){e.moveToSubStep(a,
b,d.frame.cameraElem.size)});this.state.subStep=Math.max(0,this.currentSubStep-1);this.progressChanged.trigger(this.state)};a.prototype.getRemainingSubStepCount=function(){return Math.max(0,this.currentStep.getSubStepCount()-this.currentSubStep)};a.prototype.togglePlay=function(){this.isPaused()?this.isAtStoryEnd()?this.seekStep(this.steps[0]):this.playCurrentStep():this.pause()};a.prototype.playCurrentStep=function(){this.isAtStepStart(!0)&&this.playSubStep(1);this.timeline.play();this.triggerStateChanged()};
a.prototype.playNextStep=function(a){void 0===a&&(a=!1);this.isAtStepStart()?this.moveTo(this.currentStep.startTime,!1,!0):this.moveTo(this.currentStep.stopTime,a,!0)};a.prototype.backStep=function(a){void 0===a&&(a=!1);this.isAtStepEnd()&&1<this.currentSubStep?this.playSubStep(this.currentSubStep-1):this.isFirstStep()&&(0<this.currentSubStep||this.timeline.time()>this.currentStep.startTime)?this.animating||(this.moveTo(this.currentStep.startTime,!0,!1),this.playSubStep(0)):this.isAtStoryStart()?
this.animating||(this.currentStep=this.steps[this.steps.length-1],this.timeline.pause(this.currentStep.stopTime),this.alignSequencedItemsToStep(this.currentStep,!1,!0,!1),this.playSubStep(this.currentStep.getSubStepCount()),this.triggerProgressChanged()):(this.currentStep=this.getPriorStep(),this.playSubStep(this.currentStep.getSubStepCount()),this.moveTo(this.currentStep.stopTime,a,!1))};a.prototype.pause=function(){this.timeline.pause();this.triggerStateChanged()};return a}();e.Player=d})(a.Play||
(a.Play={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){var f=function(){function f(){}f.prototype.resize=function(){};f.byConfig=function(d,b){if(void 0!==b&&"track"===(b.type||"").toString().trim().toLowerCase())return new a.TrackControls(d,b)};return f}();a.Controls=f})(a.Play||(a.Play={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Util,h=function(d){function b(b,g,h){void 0===h&&(h={});d.call(this,b.canvas,g);this.story=b;f.setElementText(g,"");this.fullScreen=g instanceof HTMLBodyElement;this.generateStyles();this.setCanvasSize();this.listenForResize(h);this.frameElem=new e.Frame(this.story,this);this.player=new a.Play.Player(this.frameElem);this.controls=a.Play.Controls.byConfig(this,h.controls);this.autoPlay=new a.Play.AutoPlay(this,h.auto);this.keyboard=new a.Play.KeyboardPlay(this,h.keyboard);
h.mouseWheel&&this.setupMouseWheel();h.debugBar&&this.showDebugBar();this.hideContextMenu()}__extends(b,d);b.prototype.resize=function(a){void 0===a&&(a=!1);if(this.setCanvasSize()||a)this.frameElem.resize(),this.controls&&this.controls.resize(),this.player.refreshTimeline(this.frameElem)};b.prototype.listenForResize=function(a){a.auto=a.auto||{};void 0===a.auto.resize&&(a.auto.resize=!0);a.auto.resize&&window.addEventListener("resize",f.throttle(this.resize.bind(this),3),!1)};b.prototype.setCanvasSize=
function(){if(this.fullScreen)return this.size=new a.Types.Size(this.div.clientWidth,this.div.clientHeight),!0;var b=this.div.clientWidth;if(void 0!==this.size&&b===this.size.width)return!1;var d=this.story.canvas.padding/100*b;this.div.style.height=(b-d)/this.story.frame.aspectRatio+d+"px";TweenLite.set(this.div,{clearProps:"transform"});this.size=new a.Types.Size(this.div.clientWidth,this.div.clientHeight);return!0};b.prototype.generateStyles=function(){var a=f.getStyleElement("prostyle-styles"),
b={selectors:[]};this.fullScreen&&(b.selectors.push("html"),b.html={height:"100%"},b.selectors.push("body"),b.body={height:"100%",margin:0,overflow:"hidden"});b.selectors.push(".prostyle");b[".prostyle"]={position:"absolute",transform:"translate(-50%,-50%) translate3d(0, 0, 0)",top:"50%",left:"50%"};b.selectors.push(".prostyle.prostyle-frame");b[".prostyle.prostyle-frame"]={position:"relative"};b.selectors.push(".prostyle.prostyle-camera");b[".prostyle.prostyle-camera"]={position:"relative",transformStyle:"preserve-3d"};
b.selectors.push(".prostyle.prostyle-flow");b[".prostyle.prostyle-flow"]={width:"100%",height:"100%",transformStyle:"preserve-3d"};b.selectors.push(".prostyle.prostyle-page");b[".prostyle.prostyle-page"]={width:"100%",height:"100%",transformStyle:"preserve-3d"};b.selectors.push(".prostyle.prostyle-item");b[".prostyle.prostyle-item"]={userSelect:"none",whiteSpace:"nowrap"};b.selectors.push(".prostyle.prostyle-item.unknown");b[".prostyle.prostyle-item.unknown"]={fontSize:"16px",fontWeight:"bold",color:"#FFF",
padding:"1% 1%",backgroundColor:"#C00",border:"solid 3px #FFF"};b.selectors.push(".prostyle.prostyle-layer");b[".prostyle.prostyle-layer"]={transformStyle:"preserve-3d"};b.selectors.push(".prostyle.prostyle-text");b[".prostyle.prostyle-text"]={userSelect:"none",whiteSpace:"nowrap",transformStyle:"preserve-3d"};b.selectors.push(".prostyle-text-line");b[".prostyle-text-line"]={position:"relative",display:"block",transformStyle:"preserve-3d"};b.selectors.push(".prostyle-text-line-stacked");b[".prostyle-text-line-stacked"]=
{position:"absolute",display:"block",transformStyle:"preserve-3d"};b.selectors.push(".prostyle-text-word");b[".prostyle-text-word"]={position:"relative",display:"inline-block",transformStyle:"preserve-3d"};b.selectors.push(".prostyle-text-word-stacked");b[".prostyle-text-word-stacked"]={position:"absolute",display:"inline-block",transformStyle:"preserve-3d"};b.selectors.push(".prostyle-text-char");b[".prostyle-text-char"]={position:"relative",display:"inline-block"};b.selectors.push(".prostyle-text-char-stacked");
b[".prostyle-text-char-stacked"]={position:"absolute",display:"inline-block"};a.innerHTML=f.encodeStyleSheet(b)};b.prototype.setupMouseWheel=function(){var a=this;this.div.addEventListener("wheel",function(b){var d=b.ctrlKey?b.altKey?.001:1:b.altKey?.01:.1,e=a.player.timeline.totalTime(),h=f.convertToNumber(b.deltaY,-1),e=Math.round((e+(0>h?d:-d))/d)*d,d=a.player.timeline.totalDuration();.01>e?e=d:e>d&&(e=.01);a.player.timeline.totalTime(e);a.player.timeline.pause(e);a.autoPlay.pause();b.preventDefault();
return!1})};b.prototype.hideContextMenu=function(){this.div.oncontextmenu=function(a){}};b.prototype.showDebugBar=function(){var a=f.createChildDivElement(this.div);TweenLite.set(a,{position:"absolute",backgroundColor:"black",color:"white",fontSize:14,padding:3,top:0,left:0});this.player.progressChanged.on(function(b){a.innerHTML=b.time.toFixed(3)+" ("+Math.round(100*b.progress)+"%) "+b.step.label+b.subStep})};return b}(e.Visual);e.Canvas=h})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Util,h=function(){function a(b,c){this.canvasElem=b;c=(this.config=c)||{};c.advance=!!c.advance;c.advanceDelay=f.convertToNumber(c.advanceDelay);c.restart=!!c.restart;c.start=!!c.start;var d=this.canvasElem.player;d.stepComplete.on(this.stepComplete.bind(this));d.pause();c.start&&setTimeout(function(){d.playCurrentStep()},1E3)}a.prototype.stepComplete=function(a){var c=this.canvasElem.player;c.pause();!this.config.advance||c.isAtStoryEnd()&&!this.config.restart?c.timeline.seek(a.stopTime,
!0):(a=void 0==a.step.autoAdvanceDelay?f.convertToNumber(this.config.advanceDelay):f.convertToNumber(a.step.autoAdvanceDelay),0>=a?c.playNextStep():(clearTimeout(this.timeout),this.timeout=setTimeout(function(){c.playNextStep()},a)))};a.prototype.pause=function(){clearTimeout(this.timeout)};return a}();e.AutoPlay=h})(a.Play||(a.Play={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Util,h=function(){function a(b,c){this.canvasElem=b;this.config=c;void 0!==c&&!1!==c&&(this.player=b.player,"object"!==typeof c&&(c=this.getDefaultConfig()),this.listenForKeyPresses(c))}a.prototype.getDefaultConfig=function(){return{play:[13,116],pause:[19,27],togglePlay:[32],back:[8,33,37,38,188],playNext:[34,39,40,9],start:[36,190],end:[35]}};a.prototype.listenForKeyPresses=function(a){var c={},d;d=0+this.mapKeys(c,a.end,this.end.bind(this));d+=this.mapKeys(c,a.start,
this.start.bind(this));d+=this.mapKeys(c,a.back,this.back.bind(this));d+=this.mapKeys(c,a.pause,this.pause.bind(this));d+=this.mapKeys(c,a.play,this.play.bind(this));d+=this.mapKeys(c,a.togglePlay,this.togglePlay.bind(this));d+=this.mapKeys(c,a.playNext,this.playNext.bind(this));0!==d&&(document.addEventListener("keydown",function(a){if(!a.ctrlKey){var b=a.keyCode;(c[b]instanceof Function||9===b)&&a.preventDefault()}},!1),document.addEventListener("keyup",function(a){if(!a.ctrlKey){var b=a.keyCode,
d=c[b];if(d instanceof Function||9===b)d instanceof Function&&d(),a.preventDefault()}},!1))};a.prototype.mapKeys=function(a,c,d){var e=0;c instanceof Array&&c.forEach(function(c){c=f.convertToNumber(c);0<c&&(a[c]=d,e++)});return e};a.prototype.play=function(){this.player.playCurrentStep()};a.prototype.pause=function(){this.player.pause()};a.prototype.togglePlay=function(){this.player.togglePlay()};a.prototype.back=function(){this.player.backStep(!0)};a.prototype.playNext=function(){this.player.playNextStep(!0)};
a.prototype.start=function(){this.player.seekStep(this.player.steps[0],!1)};a.prototype.end=function(){this.player.seekStep(this.player.steps[0],!1);this.player.backStep(!1)};return a}();e.KeyboardPlay=h})(a.Play||(a.Play={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Util,h=a.Svg,d=function(a){function c(c,d){a.call(this);this.canvasElem=c;this.config=d;this.COLOR="#BBB";this.HIGHLIGHT_COLOR="#FFF";this.BACK_COLOR="#222";this.STEP_COLOR_1="#444";this.STEP_COLOR_2="#555";this.divScrubberStep=[];this.progress=0;this.generateStyles();this.setupButtons();this.setupScrubber();this.setupPlayerEvents();this.setupMenuOnMouseMove();this.resize()}__extends(c,a);c.prototype.setupButtons=function(){var a=this.canvasElem.player;this.bgDiv=
f.createChildDivElement(this.canvasElem.div,this.bgClass);this.logoDiv=this.addButton("ProStyle",h.logo.svg,function(){window.open("http://prostyle.io/","_blank")});this.backDiv=this.addButton("Back",h.toStart.svg,function(){a.backStep(!0)});this.playDiv=this.addButton("Play",h.play.svg,function(){a.togglePlay()});this.nextDiv=this.addButton("Play Next",h.fastForward.svg,function(){a.playNextStep(!0)})};c.prototype.setupScrubber=function(){var a=this.canvasElem.player;this.divScrubber=f.createChildDivElement(this.bgDiv,
this.scrubberClass);this.divScrubberBar=f.createChildDivElement(this.divScrubber,this.scrubberBarClass);for(a=a.steps.length-1;0<=a;a--)this.divScrubberStep.push(f.createChildDivElement(this.divScrubberBar,this.scrubberStepClass));this.divScrubberProgress=f.createChildDivElement(this.divScrubberBar,this.scrubberProgressClass);this.divScrubberHoverPoint=f.createChildDivElement(this.divScrubberBar,this.scrubberHoverPointClass);this.divScrubberHoverText=f.createChildDivElement(this.divScrubber,this.scrubberHoverTextClass);
this.divScrubber.onmousemove=this.scrubberMouseMove.bind(this);this.divScrubber.onclick=this.scrubberMouseClick.bind(this)};c.prototype.scrubberMouseMove=function(a){var b=this.canvasElem.div.getBoundingClientRect(),c=this.canvasElem.player,d=this.scrubberSize,e=d.width-d.barHeight,h=d.barHeight/2;a=Math.max(h,Math.min(a.clientX-b.left-d.left,d.width-h))-d.barHeight;this.divScrubberHoverPoint.style.left=(a+h+h/2-1).toString()+"px";c=c.timeline.duration()*(a+h)/e;this.divScrubberHoverText.style.left=
a.toString()+"px";f.setElementText(this.divScrubberHoverText,c.toFixed(2))};c.prototype.scrubberMouseClick=function(a){var b=this.canvasElem.div.getBoundingClientRect(),c=this.canvasElem.player,d=this.scrubberSize,e=d.width-d.barHeight,f=d.barHeight/2;a=Math.max(f,Math.min(a.clientX-b.left-d.left,d.width-f))-d.barHeight;c.seek((a+f)/e,!0)};c.prototype.setupPlayerEvents=function(){var a=this.canvasElem.player;a.progressChanged.on(this.progressChanged.bind(this));a.stateChanged.on(this.stateChanged.bind(this))};
c.prototype.setupMenuOnMouseMove=function(){var a=this.canvasElem.div,b=this.canvasElem.fullScreen,c=f.throttle(function(){a.classList.remove("mouseMovement");b&&(a.style.cursor="none")},3E3);a.onmousemove=function(d){a.classList.add("mouseMovement");b&&(a.style.cursor="auto");c()}};c.prototype.progressChanged=function(a){this.progress=a.progress;this.updateScrubberProgress()};c.prototype.stateChanged=function(a){this.playDiv.innerHTML=a?h.play.svg:h.pause.svg};c.prototype.resize=function(){var a=
this.canvasElem.div.clientWidth,b=this.canvasElem.div.clientHeight,c=Math.min(Math.max(40,Math.min(a/12,200)),Math.max(40,Math.min(b/12,200))),d=Math.max(5,c/3);TweenMax.set(this.bgDiv,{left:0,top:b-c,width:a,height:c});var b=.9*c,e=.88*c,f=.53*c,h=.6*c,r=a-e-f-h-3.2*d;TweenMax.set(this.logoDiv,{left:d/2,top:0,height:c,width:b});TweenMax.set(this.nextDiv,{left:a-e-d,top:0,height:c,width:e});TweenMax.set(this.playDiv,{left:a-e-f-2*d,top:0,height:c,width:f});TweenMax.set(this.backDiv,{left:r,top:0,
height:c,width:h});this.scrubberSize={left:b+d,width:r-b-2*d,height:c,barHeight:c/3};this.resizeScrubber();this.updateScrubberProgress()};c.prototype.resizeScrubber=function(){var a=this,b=this.scrubberSize,c=this.canvasElem.player,d=c.steps.length-1,e=c.timeline.duration(),f=b.barHeight/2,h=b.width-b.barHeight;this.divScrubber.style.left=b.left+"px";this.divScrubber.style.width=b.width+"px";this.divScrubber.style.height=b.height+"px";this.divScrubberBar.style.width=b.width+"px";this.divScrubberBar.style.top=
(b.height-b.barHeight)/2+"px";this.divScrubberBar.style.height=b.barHeight+"px";this.divScrubberBar.style.borderRadius=f+"px";c.steps.forEach(function(c,p){var u=a.divScrubberStep[d-p];u.style.left=(h*c.startTime/e).toString()+"px";u.style.width=(h*c.time/e+b.barHeight).toString()+"px";u.style.height=b.barHeight+"px";u.style.borderRadius=f+"px"});this.divScrubberHoverPoint.style.height=f+"px";this.divScrubberHoverPoint.style.width=f+"px";this.divScrubberHoverPoint.style.top=(b.barHeight/4-1).toString()+
"px";this.divScrubberHoverPoint.style.borderRadius=f+"px";this.divScrubberHoverText.style.fontSize=.9*b.barHeight+"px";this.divScrubberProgress.style.height=b.barHeight+"px";this.divScrubberProgress.style.borderRadius=f+"px";this.updateScrubberProgress()};c.prototype.updateScrubberProgress=function(){var a=this.scrubberSize;this.divScrubberProgress.style.width=((a.width-a.barHeight)*this.progress+a.barHeight).toString()+"px"};c.prototype.generateStyles=function(){var a=(new Date).getTime().toString();
this.bgClass="controls-bg-"+a;this.btnClass="controls-btn-"+a;this.scrubberClass="scrubber-"+a;this.scrubberBarClass="scrubber-back-"+a;this.scrubberStepClass="scrubber-step-"+a;this.scrubberProgressClass="scrubber-progress-"+a;this.scrubberHoverPointClass="scrubber-point-"+a;this.scrubberHoverTextClass="scrubber-text-"+a;var a=f.getStyleElement("prostyle-track-controls-"+a),b={selectors:[]};b.selectors.push("."+this.bgClass);b["."+this.bgClass]={transition:"opacity 1s ease-in-out, transform 1s ease-in-out",
backgroundColor:this.config.backColor||this.BACK_COLOR,position:"absolute",display:"inline-block",opacity:0,transform:"translate3d(0, 0, 20px)"};b.selectors.push(".mouseMovement ."+this.bgClass);b[".mouseMovement ."+this.bgClass]={opacity:.5,transform:"translate3d(0, 0, 0)"};b.selectors.push("."+this.bgClass+":hover");b["."+this.bgClass+":hover"]={opacity:.8};b.selectors.push("."+this.bgClass+" div");b["."+this.bgClass+" div"]={position:"absolute"};b.selectors.push("."+this.btnClass);b["."+this.btnClass]=
{cursor:"pointer"};b.selectors.push("."+this.btnClass+" svg");b["."+this.btnClass+" svg"]={fill:this.config.color||this.COLOR,width:"100%",height:"100%"};b.selectors.push("."+this.btnClass+":hover svg");b["."+this.btnClass+":hover svg"]={fill:this.config.highlightColor||this.HIGHLIGHT_COLOR};b.selectors.push("."+this.scrubberClass);b["."+this.scrubberClass]={cursor:"none"};b.selectors.push("."+this.scrubberBarClass);b["."+this.scrubberBarClass]={};b.selectors.push("."+this.scrubberStepClass);b["."+
this.scrubberStepClass]={borderRight:"solid 2px "+(this.config.backColor||this.BACK_COLOR),backgroundColor:this.config.stepColor1||this.STEP_COLOR_1,background:"linear-gradient(to right, "+(this.config.stepColor1||this.STEP_COLOR_1)+", "+(this.config.stepColor2||this.STEP_COLOR_2)+")"};b.selectors.push("."+this.scrubberProgressClass);b["."+this.scrubberProgressClass]={backgroundColor:this.config.color||this.COLOR};b.selectors.push("."+this.scrubberHoverPointClass);b["."+this.scrubberHoverPointClass]=
{border:"solid 1px "+(this.config.backColor||this.BACK_COLOR),backgroundColor:this.config.highlightColor||this.HIGHLIGHT_COLOR,display:"none"};b.selectors.push("."+this.scrubberClass+":hover ."+this.scrubberHoverPointClass);b["."+this.scrubberClass+":hover ."+this.scrubberHoverPointClass]={display:"block"};b.selectors.push("."+this.scrubberHoverTextClass);b["."+this.scrubberHoverTextClass]={color:this.config.color||this.COLOR,fontFamily:"font-family: arial, helvetica, sans-serif",display:"none"};
b.selectors.push("."+this.scrubberClass+":hover ."+this.scrubberHoverTextClass);b["."+this.scrubberClass+":hover ."+this.scrubberHoverTextClass]={display:"block"};a.innerHTML=f.encodeStyleSheet(b)};c.prototype.addButton=function(a,b,c){var d=f.createChildDivElement(this.bgDiv,this.btnClass);d.className=this.btnClass;d.innerHTML=b;d.title=a;d.addEventListener("mousedown",function(a){c();a.preventDefault();a.stopPropagation();return!1});return d};return c}(e.Controls);e.TrackControls=d})(a.Play||(a.Play=
{}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var h=a.Util,d=a.Models.Properties,b=function(){function a(){}a.generateTimeline=function(b,f,h,k,n,l,m){void 0===m&&(m=void 0);var r=a.getMoveTo(k.properties,b.items),t=[];for(b=0;b<h.length;b++)t.push({force3D:!0,immediateRender:!1,delay:k.delay,element:h[b],elementIndex:b});var u=0,v=0,w=k.script.scriptSet.itemSet.flow.story;k.properties.forEach(function(a){a.type instanceof d.AnimationPropertyType?(v=a.duration.getValue()||0,u=a.stagger.getValue()||0,0<v&&
a.writeCssBuckets(w,f.model,l,t,!1)):void 0!==r&&(a.type instanceof d.MoveToPropertyType||a.type instanceof d.PositionPropertyType||a.type instanceof d.RotationPropertyType||a.type instanceof d.ScalePropertyType||a.type instanceof d.SkewPropertyType)||a.writeCssBuckets(w,f.model,l,t,!1)});e.Visual.postProcessCssBuckets(t,m,k.properties,l);k=n.totalDuration();for(b=0;b<h.length;b++)0<v?n.to(h[b],v,t[b],k):n.set(h[b],t[b],k),k+=u;return r};a.getMoveTo=function(a,b){var c=void 0;a.forEach(function(a){a.type instanceof
d.MoveToPropertyType&&(c=a.getVariable("item").getValue(),void 0!==c&&(0>c||c>b.length)&&(c=void 0))});return c};a.generateMoveTo=function(a,b,c){if(b){var d=h.getGSTransform(b),e=[];(d.x||d.y||d.z)&&e.push("translate3d("+-d.x+"px,"+-d.y+"px,"+-d.z+"px)");d.rotationX&&e.push("rotateX("+-d.rotationX+"deg)");d.rotationY&&e.push("rotateY("+-d.rotationY+"deg)");d.rotation&&e.push("rotate("+-d.rotation+"deg)");var f=Math.max(0,Math.min(0===d.scaleX?1:1/d.scaleX,10)),m=Math.max(0,Math.min(0===d.scaleY?
1:1/d.scaleY,10));1!==d.scaleX&&e.push("scaleX("+f+")");1!==d.scaleY&&e.push("scaleY("+m+")");d.skewX&&e.push("skewX("+-d.skewX+"deg)");console.log(e.join(" "));console.log(b._gsTransform);b={transform:e.join(" "),xPercent:-50,yPercent:-50};c.to(a,1.2,b)}};return a}();f.SetPropertiesAction=b})(e.Actions||(e.Actions={}))})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){var e=function(a){function b(b,e,f){a.call(this,b,e,f)}__extends(b,a);return b}(a.Flow);a.PlacementFlow=e})(a.Flows||(a.Flows={}))})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(e){var h=a.Util,d=function(a){function c(c,d){a.call(this,c,d,h.createChildImageElement(d.div,"prostyle prostyle-item",c.itemSet.flow.story.canvas.adjustImageUrl(c.src),c.width,c.height));this.imageItem=c}__extends(c,a);c.prototype.initializeItem=function(a,b){var c=this.imageItem,d=b.getContainedSize(c.itemSet.flow.pageAspectRatio),e={};void 0!==c.width&&(e.width=c.width.toString()+"%");void 0!==c.height&&(e.height=c.height.toString()+"%");this.initializeProperties(c.itemSet.flow.story,
[this.element],d,a,c.init,!1,e)};return c}(e.Item);e.ImageItem=d})(e.Items||(e.Items={}))})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var h=a.Util,d=function(a){function c(c,d){a.call(this,c,d,h.createChildDivElement(d.div,"prostyle prostyle-layer"));this.layerItem=c;this.items=[];e.Page.createItems(this,c.items)}__extends(c,a);c.prototype.initializeItem=function(c,d){a.prototype.initializeItem.call(this,c,d);this.items.forEach(function(a){a.initializeItem(c,d)})};c.prototype.generateStepActions=function(c,d,e,f,h){var l=this;this.items.forEach(function(a){a.generateStepActions(l,d,e,f,h)});
a.prototype.generateStepActions.call(this,this,d,e,f,h)};return c}(f.Item);f.LayerItem=d})(e.Items||(e.Items={}))})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(e){var h=a.Util,d=function(a){function c(c,d){a.call(this,c,d,h.createChildDivElement(d.div,"prostyle prostyle-text"));this.textItem=c;this.splitText=void 0;this.chars=this.words=this.lines=!1;this.div.innerHTML=c.text;this.lines=c.stackedLines||0<c.linesScriptSet.scripts.length||c.linesInit.hasAnythingSet();this.words=c.stackedWords||0<c.wordsScriptSet.scripts.length||c.wordsInit.hasAnythingSet();this.chars=c.stackedChars||0<c.charsScriptSet.scripts.length||c.charsInit.hasAnythingSet();
if(this.lines||this.words||this.chars){var e=[];this.lines&&e.push("lines");this.words&&e.push("words");this.chars&&e.push("chars");e={type:e.join(",")};this.lines&&(e.linesClass=c.stackedLines?"prostyle-text-line-stacked":"prostyle-text-line");this.words&&(e.wordsClass=c.stackedWords?"prostyle-text-word-stacked":"prostyle-text-word");this.chars&&(e.charsClass=c.stackedChars?"prostyle-text-char-stacked":"prostyle-text-char");this.splitText=new window.SplitText(this.div,e)}}__extends(c,a);c.prototype.initializeItem=
function(a,b){var c=this.textItem,d=c.itemSet.flow.story,e=b.getContainedSize(c.itemSet.flow.pageAspectRatio),f=this.initializeProperties.bind(this);f(d,[this.div],e,a,c.init,!1);void 0!==this.splitText&&(this.lines&&f(d,this.splitText.lines,e,a,c.linesInit,!1),this.words&&f(d,this.splitText.words,e,a,c.wordsInit,!1),this.chars&&f(d,this.splitText.chars,e,a,c.charsInit,!1))};c.prototype.generateStepActions=function(a,b,c,d,e){var f=this.textItem,h=this.generateActionsForStep.bind(this);h(a,[this.div],
b,c,d,e,f.scriptSet);void 0!==this.splitText&&(this.lines&&h(a,this.splitText.lines,b,c,d,e,f.linesScriptSet),this.words&&h(a,this.splitText.words,b,c,d,e,f.wordsScriptSet),this.chars&&h(a,this.splitText.chars,b,c,d,e,f.charsScriptSet))};return c}(e.Item);e.TextItem=d})(e.Items||(e.Items={}))})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function a(d,b,c,e,f){this.step=d;this.flowIndex=b;this.pageIndex=c;this.stepIndex=e;this.sequencedItems=f;this.playerStepIndex=this.time=0;this.label=b.toString()+"-"+c.toString()+"-"+e.toString()+"-";this.startLabel=this.label+"start";this.stopLabel=this.label+"stop";d.startLabel=this.startLabel;d.stopLabel=this.stopLabel}a.prototype.isAtStart=function(a){return.02>Math.abs(a-this.startTime)};a.prototype.isAtEnd=function(a){return.02>Math.abs(a-this.stopTime)};
a.prototype.getSubStepCount=function(){var a=0;this.sequencedItems.forEach(function(b){a=Math.max(a,b.getCountOfSubSteps())});return a};return a}();a.Step=f})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Types,h=function(){function a(b,c){this.generateTimeline(b,c)}a.prototype.generateTimeline=function(a,c){var d=this;TweenMax.defaultOverwrite="none";TweenMax.defaultEase=f.Eaze.DEFAULT.ease;void 0!==this.timeline&&this.timeline.kill();this.timeline=new TimelineMax({autoRemoveChildren:!1,onUpdate:c});this.timeline.addLabel("initialize",0);var e=a.story,h=a.canvasElem,k=h.size,n=a.size,l=a.cameraElem,m=l.size,r={fontFamily:"arial"};h.fullScreen||(r.height=k.height);
h.initializeProperties(e,[h.div],m,this.timeline,e.canvas.init,!1,r);r={width:n.width,height:n.height};a.initializeProperties(e,[a.div],m,this.timeline,e.frame.init,!1,r);l.flowElems.forEach(function(c){var f=m.getContainedSize(c.pageAspectRatio());c.pageElems.forEach(function(c){c.initializeProperties(e,[c.div],f,d.timeline,c.page.init,!1);c.items.forEach(function(c){c.initializeItem(d.timeline,a.cameraElem.size)})});c.initializePlacement(d.timeline)});var t=void 0;l.flowElems.forEach(function(a){t=
a.generateStepsActions(d.timeline,t)});return this.timeline};return a}();e.Timeline=h})(a.Render||(a.Render={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Actions,h=a.Util,d=function(){function a(){}a.readArray=function(c,d){var e=[];d instanceof Array&&d.forEach(function(d){e.push(a.read(c,d))});return e};a.read=function(c,d){d=d||{};f.ActionType.fromString(d.actionType);return a.readPropertiesAction(c,d)};a.readPropertiesAction=function(a,b){var d=e.PropertyListReader.read(a.scriptSet.itemSet.story,b,a.scriptSet.itemProperties).properties;return new f.SetPropertiesAction(a,h.convertToNumber(b.delay),d)};return a}();
e.ActionReader=d})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Actions,h=function(){function a(){}a.writeArray=function(a){var c=[];a.forEach(function(a){c.push(a.saveJson())});return c};a.write=function(b){return a.writePropertiesAction(b)};a.writePropertiesAction=function(a){var c={actionType:f.ActionType.toString(a.actionType)};e.PropertyWriter.writeSet(c,a.properties);a.delay&&(c.delay=a.delay);return c};return a}();e.ActionWriter=h})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function a(){}a.read=function(a,b){return"boolean"===typeof b?a.createPropertyFromBoolean(b):"number"===typeof b?a.createPropertyFromNumber(b):"string"===typeof b?a.createPropertyFromString(b):b instanceof Array?a.createPropertyFromArray(b):a.createPropertyFromObject(b)};return a}();a.PropertyReader=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Properties,h=function(){function d(){}d.read=function(b,c,g,h,p,k){void 0===h&&(h=void 0);void 0===p&&(p=void 0);void 0===k&&(k=[]);c=c||{};var n=[];g.forEach(function(a){"class"===a.jsonNames[0]&&c.hasOwnProperty("class")&&(a=e.PropertyReader.read(a,c["class"]).getVariable("name").getValue())&&(h=a.trim(),p={})});var l=void 0;h&&-1===k.indexOf(h)&&(k.push(h),p=(b.classes||{})[h]||p,void 0!==p&&(l=d.read(b,p,g,void 0,void 0,k)));var m=a.Util.lowercaseProperties(c);
g.forEach(function(a){var b=void 0,c=void 0;void 0!==l&&(c=l.getPropertyOfType(a));for(var d=0;d<a.jsonNames.length;d++){var g=a.jsonNames[d];if(m.hasOwnProperty(g)){b=e.PropertyReader.read(a,m[g]);break}}void 0!==c&&(void 0===b&&(b=new f.Property(a)),a.variableTypes.forEach(function(a){var d=b[a.jsonNames[0]];a=c[a.jsonNames[0]];if(void 0!==a){var e=a.getValue(!1);void 0===e&&(e=a.defaultValueOverride);void 0!==e&&(d.defaultValueOverride=e)}}));void 0!==b&&n.push(b)});return new f.PropertyList(g,
n)};return d}();e.PropertyListReader=h})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Properties,h=function(){function d(){}d.read=function(b){b=b||{};b.init=b.init||{};b.init.crop=void 0===b.init.crop?!0:b.init.crop;var c=e.PropertyListReader.read(void 0,b.init,f.PerElement.Canvas.getPropertyTypes()),d=Math.max(0,Math.min(a.Util.convertToNumber(a.Util.getSetup(b,"padding"),0),50));return new a.Models.Canvas(c,d,a.Util.getSetup(b,"imageRootUrl"))};return d}();e.CanvasReader=h})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function a(){}a.write=function(a){var b={setup:{}};b.setup.padding=a.padding;return b};return a}();a.CanvasWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=function(){function f(){}f.write=function(d){var b={setup:{}};b.flowType=d.flowType;var c=e.Flows["write_"+b.flowType];void 0===c?a.Util.logError("FlowWriter.write()","Unknown Flow Type ("+b.flowType+")"):c(d,b);b.pages=[];d.pages.forEach(function(a){b.pages.push(e.PageWriter.write(a))});return b};return f}();e.FlowWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(e){var h=a.Models,d=a.Util;e.read_simple=function(b,c){var e=c.setup||{},f=a.Types.Placement.fromJson(e.placement),p=d.convertToNumber(e.pageAspectRatio,b.frame.aspectRatio);return new h.Flows.SimpleFlow(b,f,e.defaultPageClass,p)}})(e.Flows||(e.Flows={}))})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(a){a.write_simple=function(a,d){}})(a.Flows||(a.Flows={}))})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Properties,h=function(){function d(){}d.read=function(b){b=b||{};b.init=b.init||{};var c=e.PropertyListReader.read(void 0,b.init,f.PerElement.Frame.getPropertyTypes()),g=a.Util.convertToNumber(a.Util.getSetup(b,"aspectRatio")||d.DEFAULT_ASPECT_RATIO,d.DEFAULT_ASPECT_RATIO);b=Math.max(0,Math.min(a.Util.convertToNumber(a.Util.getSetup(b,"padding"),0),50));return new a.Models.Frame(c,g,b)};d.DEFAULT_ASPECT_RATIO=16/9;return d}();e.FrameReader=h})(a.Serialization||
(a.Serialization={}))})(ProStyle||(ProStyle={}));(function(a){(function(a){var f=function(){function a(){}a.write=function(a){var b={setup:{}};b.setup.aspectRatio=a.aspectRatio;b.setup.padding=a.padding;return b};return a}();a.FrameWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=function(){function f(){}f.write=function(d){var b={};b.itemType=d.itemType;b.setup={};var c=e.Items["write_"+b.itemType];void 0===c?((c=a.Extensions.Items[d.itemType])&&c.readJson&&c.writeJson(d,b),a.Util.logError("ItemWriter.write()","Unknown Item Type ("+b.itemType+")")):c(d,b);b.scripts=e.ScriptSetWriter.write(d.scriptSet);return b};return f}();e.ItemWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var h=a.Models,d=a.Util;f.read_image=function(a,c){var f=(d.getSetup(c,"src")||"").trim(),q=d.getSetup(c,"width"),p=d.getSetup(c,"height"),q=isNaN(q)?void 0:Number(q),p=isNaN(p)?void 0:Number(p),k=h.Properties.PerElement.ImageItem.getPropertyTypes(),n=e.PropertyListReader.read(a.story,c.init,k),k=e.ScriptSetReader.readJson(a,"Image",c,[""],k);return new h.Items.ImageItem(a,f,q,p,n,k)}})(e.Items||(e.Items={}))})(a.Serialization||(a.Serialization={}))})(ProStyle||
(ProStyle={}));(function(a){(function(e){(function(f){var h=a.Models;f.read_layer=function(a,b){var c=h.Properties.PerElement.LayerItem.getPropertyTypes(),f=e.PropertyListReader.read(a.story,b.init,c),c=e.ScriptSetReader.readJson(a,"Layer",b,[""],c),f=new h.Items.LayerItem(a,f,c);f.items=e.PageReader.readItems(f,b);return f}})(e.Items||(e.Items={}))})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){(function(f){var h=a.Models,d=a.Util;f.read_text=function(a,c){var f=d.getSetup(c,"text"),q="";if(f instanceof Array){var p=[];f.forEach(function(a){p.push(a.toString())});q=p.join("<br>")}else q=(f||"").toString();var f=!!d.getSetup(c,"stackedLines"),k=!!d.getSetup(c,"stackedWords"),n=!!d.getSetup(c,"stackedChars"),l=h.Properties.PerElement.TextItem,m=l.getPropertyTypes(),r=l.getLinePropertyTypes(),t=l.getWordPropertyTypes(),u=l.getCharPropertyTypes(),l=e.PropertyListReader.read(a.story,
c.init,m),v=e.PropertyListReader.read(a.story,c.lineInit||c.linesInit,r),w=e.PropertyListReader.read(a.story,c.wordInit||c.wordsInit,t),x=e.PropertyListReader.read(a.story,c.charInit||c.charsInit,u),m=e.ScriptSetReader.readJson(a,"Text",c,[""],m),r=e.ScriptSetReader.readJson(a,"Lines",c,["line","lines"],r),t=e.ScriptSetReader.readJson(a,"Words",c,["word","words"],t),u=e.ScriptSetReader.readJson(a,"Characters",c,["char","chars"],u);return new h.Items.TextItem(a,q,f,k,n,l,m,v,r,w,t,x,u)}})(e.Items||
(e.Items={}))})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function a(){}a.writeSet=function(d,b){b.forEach(function(b){d[b.type.jsonNames[b.type.jsonNames.length-1]]=a.write(b)})};a.write=function(a){var b={};a.type.variableTypes.forEach(function(c){c=c.jsonNames[c.jsonNames.length-1];var e=a[c].getValue();void 0!==e&&(b[c]=e)});return b};return a}();a.PropertyWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function a(){}a.write=function(a){return{}};return a}();a.PropertyListWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Scripts.ScriptType,h=function(){function a(){}a.write=function(b){var c=b.type,e=void 0,e=0===c?a.writeInitEvent(b):1===c?a.writeStepEvent(b):2===c?a.writeSwitchEvent(b):3===c?a.writeActionsOrphan(b):4===c?a.writePropertyOrphan(b):{};e.type=f.toString(b.type);e.editor={};e.editor.x=b.x;e.editor.y=b.y;return e};a.writeInitEvent=function(a){var c={};e.PropertyWriter.writeSet(c,a.properties);return c};a.writeStepEvent=function(a){var c={scriptType:"step"};0<a.stepIndex&&
(c.scriptType+=a.stepIndex+1);c.actions=e.ActionWriter.writeArray(a.actions);return c};a.writeSwitchEvent=function(a){var c={};c.switch=a.switchName;c.actions=e.ActionWriter.writeArray(a.actions);return c};a.writeActionsOrphan=function(a){var c={};c.actions=e.ActionWriter.writeArray(a.actions);return c};a.writePropertyOrphan=function(a){var c={};e.PropertyWriter.writeSet(c,a.properties);return c};return a}();e.ScriptWriter=h})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(f){f.write_image=function(f,d){d.setup=d.setup||{};d.setup.src=f.src;f.width&&(d.setup.class=f.width);f.height&&(d.setup.class=f.height);d.init=a.PropertyListWriter.write(f.init);d.scripts=a.ScriptSetWriter.write(f.scriptSet)}})(a.Items||(a.Items={}))})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(f){f.write_layer=function(f,d){d.init=a.PropertyListWriter.write(f.init);d.scripts=a.ScriptSetWriter.write(f.scriptSet);a.PageWriter.writeItems(f,d)}})(a.Items||(a.Items={}))})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){(function(f){f.write_text=function(f,d){d.setup=d.setup||{};var b=f.text.split("<br>");d.setup.text=1<b.length?b:f.text;f.stackedLines&&(d.setup.stackedLines=!0);f.stackedWords&&(d.setup.stackedWords=!0);f.stackedChars&&(d.setup.stackedChars=!0);d.init=a.PropertyListWriter.write(f.init);d.scripts=a.ScriptSetWriter.write(f.scriptSet);d.lineInit=a.PropertyListWriter.write(f.linesInit);d.lineScripts=a.ScriptSetWriter.write(f.linesScriptSet);d.wordInit=a.PropertyListWriter.write(f.wordsInit);
d.wordScripts=a.ScriptSetWriter.write(f.wordsScriptSet);d.charInit=a.PropertyListWriter.write(f.charsInit);d.charScripts=a.ScriptSetWriter.write(f.charsScriptSet)}})(a.Items||(a.Items={}))})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models,h=a.Models.Items,d=function(){function a(){}a.read=function(c,d){d=d||{};d.init=d.init||{};var h=f.Properties.PerElement.Canvas.getPropertyTypes(),p=f.Properties.PerElement.Frame.getPropertyTypes(),k=f.Properties.PerElement.Page.getPropertyTypes(),n=e.PropertyListReader.read(c.story,d.init,k,c.getDefaultPageClassName(),c.getDefaultPageClassValue()),n=new f.Page(n,c);n.canvasScriptSet=e.ScriptSetReader.readJson(n,"Canvas",d,["canvas"],h);n.frameScriptSet=e.ScriptSetReader.readJson(n,
"Frame",d,["frame"],p);n.pageScriptSet=e.ScriptSetReader.readJson(n,"Page",d,["page"],k);n.items=a.readItems(n,d);n.steps=a.readSteps(n,d,n.items);return n};a.readSteps=function(a,b,d){b=b.steps||[];var f=[];b instanceof Array&&b.forEach(function(b){f.push(e.StepReader.read(a,b))});var k=1;d.forEach(function(a){k=Math.max(k,a.getCountOfStepsUsed());a instanceof h.SequencedItem&&(k=Math.max(k,a.sequenceOnStepIndex+1))});k=Math.max(k,a.canvasScriptSet.getCountOfStepsUsed());k=Math.max(k,a.frameScriptSet.getCountOfStepsUsed());
k=Math.max(k,a.pageScriptSet.getCountOfStepsUsed());if(f.length<k)for(b=k-f.length,d=0;d<b;d++)f.push(e.StepReader.read(a,{}));return f};a.readItems=function(a,b){var d=b.items;void 0===d&&void 0!==b.item&&(d=[b.item]);var d=d||[],f=[];d instanceof Array&&d.forEach(function(b){f.push(e.ItemReader.read(a,b))});return f};return a}();e.PageReader=d})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function f(){}f.write=function(d){var b={steps:[]};d.steps.forEach(function(c){b.steps.push(a.StepWriter.write(c))});b.items=[];f.writeItems(d,b);return b};f.writeItems=function(d,b){d.items.forEach(function(c){b.items.push(a.ItemWriter.write(c))})};return f}();a.PageWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Scripts,h=a.Models.Scripts.ScriptType,d=a.Util,b=function(){function a(){}a.read=function(b,e){e=e||{};e.scriptType=e.scriptType||h.toString(1);var f=h.fromString(e.scriptType),k=void 0,k=1===f?a.readStepEvent(b,e):2===f?a.readSwitchEvent(b,e):3===f?a.readActionsOrphan(b,e):4===f?a.readPropertyOrphan(b,e):a.readInitEvent(b,e);e.editor=e.editor||{};k.x=d.convertToNumber(e.editor.x);k.y=d.convertToNumber(e.editor.y);return k};a.readInitEvent=function(a,b){var c=
new f.InitEvent(a);c.properties=e.PropertyListReader.read(a.itemSet.story,b,a.itemProperties).properties;return c};a.readStepEvent=function(a,b){var c=b.scriptType.slice(4),c=Math.max(0,d.convertToNumber(c,1)-1),c=new f.StepEvent(a,c),h=void 0;void 0!==b.actions?h=b.actions:void 0!==b.action&&(h=[b.action]);c.actions=e.ActionReader.readArray(c,h);return c};a.readSwitchEvent=function(a,b){var c=new f.SwitchEvent(a,b.switch||"");c.actions=e.ActionReader.readArray(c,b.actions);return c};a.readActionsOrphan=
function(a,b){var c=new f.ActionsOrphan(a);c.actions=e.ActionReader.readArray(c,b.actions);return c};a.readPropertyOrphan=function(a,b){var c=new f.PropertyOrphan(a);c.properties=e.PropertyListReader.read(a.itemSet.story,b,a.itemProperties).properties;return c};return a}();e.ScriptReader=b})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Scripts,h=function(){function d(){}d.read=function(a,c,d,h){var p=new f.ScriptSet(a,c,h);if(!(d instanceof Array))return p;d.forEach(function(a){p.scripts.push(e.ScriptReader.read(p,a))});return p};d.readJson=function(b,c,g,h,p){g=a.Util.lowercaseProperties(g);for(var k=new f.ScriptSet(b,c,p),n=0;n<h.length;n++){var l=h[n];if(g[l+"scripts"]instanceof Array)return d.read(b,c,g[l+"scripts"],p);if(void 0!==g[l+"script"])k.scripts.push(e.ScriptReader.read(k,g[l+
"script"]));else{var m=new f.StepEvent(k,0);if(g[l+"actions"]instanceof Array)m.actions=e.ActionReader.readArray(m,g[l+"actions"]);else if(void 0!==g[l+"action"])m.actions=e.ActionReader.readArray(m,[g[l+"action"]]);else continue;k.scripts.push(m)}return k}k=new f.ScriptSet(b,c,p);if(!(g instanceof Array))return k;g.forEach(function(a){k.scripts.push(e.ScriptReader.read(k,a))});return k};return d}();e.ScriptSetReader=h})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function f(){}f.write=function(d){var b=[];d.scripts.forEach(function(c){b.push(a.ScriptWriter.write(c))});return b};return f}();a.ScriptSetWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models.Properties,h=function(){function a(){}a.read=function(a){a instanceof Array||(a=void 0);return void 0===a?void 0:new f.Stagger(a[0],a[1],a[2])};return a}();e.StaggerReader=h})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function a(){}a.write=function(a){if(!a.isDefault()){var b=[];b.push(a.delay);b.push(a.targets);b.push(a.order);return b}};return a}();a.StaggerWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));(function(a){(function(e){var f=a.Models,h=function(){function a(){}a.read=function(a,c){return new f.Step(c.autoAdvanceDelay)};return a}();e.StepReader=h})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function a(){}a.write=function(a){var b={};void 0!==a.autoAdvanceDelay&&(b.autoAdvanceDelay=a.autoAdvanceDelay);return b};return a}();a.StepWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(e){var f=a.Models,h=function(){function a(){}a.read=function(a){a=a||{};var c=e.CanvasReader.read(a.canvas||{}),d=e.FrameReader.read(a.frame||{}),h=[],p=new f.Story(c,d,h,a.classes);a.flows instanceof Array?a.flows.forEach(function(a){h.push(e.FlowReader.read(p,a))}):void 0!==a.flow?h.push(e.FlowReader.read(p,a.flow)):a.pages instanceof Array?h.push(e.FlowReader.read(p,{pages:a.pages})):void 0!==a.page?h.push(e.FlowReader.read(p,{pages:[a.page]})):a.items instanceof Array?h.push(e.FlowReader.read(p,
{pages:[{items:a.items}]})):void 0!==a.item&&h.push(e.FlowReader.read(p,{pages:[{items:[a.item]}]}));0===h.length&&h.push(e.FlowReader.read(p,{}));return p};return a}();e.StoryReader=h})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){var f=function(){function f(){}f.write=function(d){var b={};b.canvas=a.CanvasWriter.write(d.canvas);b.frame=a.FrameWriter.write(d.frame);b.flows=[];d.flows.forEach(function(c){b.flows.push(a.FlowWriter.write(c))});return b};f.stringify=function(a){return JSON.stringify(f.write(a))};return f}();a.StoryWriter=f})(a.Serialization||(a.Serialization={}))})(ProStyle||(ProStyle={}));
(function(a){(function(a){a.createChildSvgElement=function(a,e,d){void 0===d&&(d=void 0);e=document.createElementNS("http://www.w3.org/2000/svg",e);for(var b in d)e.setAttribute(b,d[b]);a.appendChild(e);return e}})(a.Util||(a.Util={}))})(ProStyle||(ProStyle={}));
(function(a){function e(a){if(void 0!==a.dataset.prostyle){"relative"!==a.style.position&&"absolute"!==a.style.position&&(a.style.position="relative");var b=document.createElement("progress");b.value=1;b.max=2;b.style.position="absolute";b.style.left="50%";b.style.top="50%";b.style.transform="translate(-50%,-50%)";a.innerHTML="";a.appendChild(b)}}function f(){var a=document.body;if(a)if(void 0!==a.dataset.prostyle)e(a);else for(var a=document.getElementsByTagName("div"),b=0;b<a.length;b++)e(a[b])}
function h(b){var d=b.dataset.prostyle;if(void 0!==d){var e=a.Stories[d];if(void 0===e||void 0===e.story)b.innerHTML="<strong style='background-color: #FFF;color:#C00'>Missing story at ProStyle.Stories."+d+"</strong>";else{var f=void 0,h=b.dataset.prostyleConfig;void 0!==h&&(f=a.Stories.Config[h]);f=f||e.config||a.Stories.Config[d]||a.Stories.Config.default;b.innerHTML="";d=a.Serialization.StoryReader.read(e.story);f=new a.Render.Canvas(d,b,f);b.proStyleCanvas=f}}}function d(){var a=document.body;
if(a)if(void 0!==a.dataset.prostyle)h(a);else for(var a=document.getElementsByTagName("div"),b=0;b<a.length;b++)h(a[b])}function b(){f();window.addEventListener("load",function(){void 0===a.Stories.rootUrl&&(a.Stories.rootUrl=window.Pro_Style_Stories_rootUrl);f();d()})}a.reload=d;a.bootstrap=b;b()})(ProStyle||(ProStyle={}));
