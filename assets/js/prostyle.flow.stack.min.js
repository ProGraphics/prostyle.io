/*!
 * VERSION: 0.20.0
 * DATE: 02-Sep-2015
 * UPDATES AND DOCS AT: https://prostyle.io/plus/
 * 
 * This file is part of ProStyle Plus, a set of premium extensions for ProStyle. It may be
 * used for free for personal projects or licensed per website domain name for commercial use.
 * 
 * @copyright - Copyright (c) 2013-2015, Pro Graphics, Inc. All rights reserved. 
 * @license - This work is subject to the terms at https://prostyle.io/plus/license/
 * @author: Gary Chamberlain, gary@pro.graphics.
 * 
 **/

var __extends=this&&this.__extends||function(k,b){function n(){this.constructor=k}for(var l in b)b.hasOwnProperty(l)&&(k[l]=b[l]);n.prototype=b.prototype;k.prototype=new n},ProStyle;
(function(k){(function(b){(function(b){(function(l){var m=function(k){function m(l,p,b,v,n){k.call(this,l,"stack",p,b,v,"stackedpage");this.stacks=n}__extends(m,k);m.prototype.serialize=function(){return l.serialize(this)};m.prototype.createView=function(m,k){return new l.StackFlowView(this,m,k)};m.defaultStacksJson={current:{position:[0,0,0],rotation:[0,0,0],scale:100,opacity:100},future:{position:[140,0,-200],rotation:[0,-10,5],scale:100,opacity:80,offset:{position:[130,80,-200],rotation:[0,-5,
2],scale:100,opacity:50}},past:{position:[-140,0,-200],rotation:[0,10,-5],scale:100,opacity:80,offset:{position:[-130,80,-200],rotation:[0,5,-2],scale:100,opacity:50}}};return m}(k.Models.Flows.PlacementFlowModel);l.StackFlowModel=m})(b.Stack||(b.Stack={}))})(b.Flows||(b.Flows={}))})(k.Extensions||(k.Extensions={}))})(ProStyle||(ProStyle={}));
(function(k){(function(b){(function(b){(function(l){var m=function(l){function m(k,b,u){l.call(this,k,b,u);this.stackFlow=k}__extends(m,l);m.prototype.initializePages=function(m){var l=this,k=this.camera.size.getContainedSize(this.stackFlow.pageAspectRatio);this.pages.forEach(function(b,n){m.set(l.pages[n].div,{width:k.width,height:k.height,perspective:1E4},"initialize")})};m.prototype.generatePageMovement=function(m,l,k){var b=this.stackFlow.stacks.current,n=this.stackFlow.stacks.future,q=this.stackFlow.stacks.futureOffset,
r=this.stackFlow.stacks.past,z=this.stackFlow.stacks.pastOffset,w=this.camera.size.getContainedSize(this.stackFlow.pageAspectRatio),b=b.renderCss(w);this.applyCss(m,this.pages[k].div,l,1,b,Expo.easeOut);for(var r=r.duplicate(),t=k-1;0<=t;t--)b=r.renderCss(w),this.applyCss(m,this.pages[t].div,l,1,b,Expo.easeOut),r.adjust(z);n=n.duplicate();for(t=k+1;t<this.pages.length;t++)b=n.renderCss(w),this.applyCss(m,this.pages[t].div,l,1,b,Expo.easeOut),n.adjust(q)};m.prototype.applyCss=function(m,l,k,b,n,r){"initialize"===
k?m.set(l,n,k):(n.ease=r,m.to(l,b,n,k))};return m}(k.Views.Flows.PlacementFlowView);l.StackFlowView=m})(b.Stack||(b.Stack={}))})(b.Flows||(b.Flows={}))})(k.Extensions||(k.Extensions={}))})(ProStyle||(ProStyle={}));
(function(k){(function(b){function n(a,f){var c=a.length,d=f.length;if(c<d)return n(f,a);for(var h=0,e=[],g=0;g<d;g++)h+=a[g]+f[g],e[g]=h&268435455,h>>>=28;for(;g<c;g++)h+=a[g],e[g]=h&268435455,h>>>=28;h&&(e[g]=h);return e}function l(a,f){var c=a.length,d=f.length,h=0,e=[];if(d>c)return[];if(d==c){if(f[d-1]>a[d-1])return[];if(1==d)return[a[0]-f[0]]}for(var g=0;g<d;g++)h+=a[g]-f[g],e[g]=h&268435455,h>>=28;for(;g<c;g++)h+=a[g],e[g]=h&268435455,h>>=28;if(h)return[];if(e[g-1])return e;for(;1<g&&0==e[g-
1];)g--;return e.slice(0,g)}function m(a,f){f=f.concat([0]);var c=a.length,d=f.length,h=[],e,g,m,l,k,b,n,r,q;for(e=c+d;0<=e;e--)h[e]=0;for(e=0;e<c;e++)if(g=a[e])for(m=0,r=g>>14,n=g&16383,l=e,g=0;g<d;g++,l++){k=f[g];b=k>>14;k&=16383;var p=k*r+n*b;q=p>>14;p&=16383;m+=h[l]+n*k+(p<<14);h[l]=m&268435455;m=(m>>28)+b*r+q}e=h.length;if(h[e-1])return h;for(;1<e&&0==h[e-1];)e--;return h.slice(0,e)}function r(a){for(var f=[];0<a--;)f[a]=0;return f}function q(a,f,c){for(var d=0;0<=f&&0<c--;)d=268435456*d+a[f--];
return d}function y(a,f){var c=a.length-1,d=f.length-1,h=c-d;if(c<d||c==d&&(a[c]<f[c]||0<c&&a[c]==f[c]&&a[c-1]<f[c-1]))return this.q=[0],this.mod=a,this;if(c==d&&4>q(a,d,2)/q(f,d,2)){for(var e=0;;){d=l(a,f);if(0==d.length)break;a=d;e++}this.q=[e];this.mod=a;return this}var g,k;k=Math.floor(Math.log(f[d])/F)+1;if(g=28-k){a=a.concat();f=f.concat();for(b=d;0<b;b--)f[b]=f[b]<<g&268435455|f[b-1]>>k;f[0]=f[0]<<g&268435455;a[c]&268435455<<k&268435455&&(a[++c]=0,h++);for(b=c;0<b;b--)a[b]=a[b]<<g&268435455|
a[b-1]>>k;a[0]=a[0]<<g&268435455}var b,n,p,e=r(h+1);for(p=r(h).concat(f);;){n=l(a,p);if(0==n.length)break;e[h]++;a=n}var h=f[d],t=q(f,d,2);for(b=c;b>d;b--){c=b-d-1;e[c]=b>=a.length?1:a[b]==h?268435455:Math.floor(q(a,b,2)/h);for(n=q(a,b,3);e[c]*t>n;)e[c]--;p=p.slice(1);n=l(a,m([e[c]],p));0==n.length&&(e[c]--,n=l(a,m([e[c]],p)));a=n}if(g){for(b=0;b<a.length-1;b++)a[b]=a[b]>>g|a[b+1]<<k&268435455;a[a.length-1]>>=g}for(;1<e.length&&0==e[e.length-1];)e=e.slice(0,e.length-1);for(;1<a.length&&0==a[a.length-
1];)a=a.slice(0,a.length-1);this.mod=a;this.q=e;return this}function p(a,f){if(1==f.length){if(1==a.length)return[a[0]%f[0]];if(16383>f[0]){var c;c=f[0];if(16383<c)c=p(a,[c]);else{for(var d=0,h,e=a.length-1;0<=e;e--)h=a[e],d=((h>>14)+(d<<14))%c,d=((h&16383)+(d<<14))%c;c=d}return[c]}}return y(a,f).mod}function u(a,f,c){var d=[1],h,e,g=a.concat(),b=[];a=2*c.length;for(b[a--]=1;0<=a;a--)b[a]=0;b=y(b,c).q;for(a=0;a<f.length;a++)for(e=1,h=0;28>h;h++,e<<=1)f[a]&e&&(d=v(m(d,g),c,b)),g=v(m(g,g),c,b);return d}
function v(a,f,c){var d=a.length-(f.length<<1);if(0<d)return v(a.slice(0,d).concat(v(a.slice(d),f,c)),f,c);var d=f.length+1,h=m(a.slice(f.length-1),c).slice(d),e=a.slice(0,d),h=m(h,f).slice(0,d);a=l(e,h);0==a.length&&(e[d]=1,a=l(e,h));for(e=0;;e++){d=l(a,f);if(0==d.length)break;a=d;if(3<=e)return v(a,f,c)}return a}function A(a,f){var c=l(a,f);0==c.length?(this.a=l(f,a),this.sign=1):(this.a=c,this.sign=0);return this}function E(a,f){if(a.sign){if(f.sign)return A(f,a);this.a=n(a,f);this.sign=1}else if(f.sign)this.a=
n(a,f),this.sign=0;else return A(a,f);return this}function B(a,f){var c=f.concat(),d,h,e=[1],g=[0],b;e.sign=0;for(g.sign=0;1<c.length||c[0];)d=c.concat(),h=y(a,c),c=h.mod,h=h.q,a=d,d=g.concat(),b=g.sign,h=m(g,h),h.sign=g.sign,h=E(e,h),g=h.a,g.sign=h.sign,e=d,e.sign=b;a:if(c=[1],a.length!=c.length)c=0;else{for(d=a.length-1;0<=d;d--)if(a[d]!=c[d]){c=0;break a}c=1}if(0==c)return[0];e.sign&&(e=l(f,e));return e}function z(a){for(var f=8*a.length,c=1,d=[0],h=0,e=0,g=1,b=a.charCodeAt(0),k=0;k<f;k++)268435455<
c&&(c=1,d[++h]=0),b&g&&(d[h]|=c),c<<=1,255<(g<<=1)&&(g=1,b=a.charCodeAt(++e));return d}function w(a){for(var f=28*a.length,c=1,d=0,h=[0],e=1,g=0,b=0;b<f;b++)a[d]&c&&(h[g]|=e),255<(e<<=1)&&(e=1,h[++g]=0),268435455<(c<<=1)&&(c=1,d++);for(;0==h[g];)g--;a="";for(b=0;b<=g;b++)a+=String.fromCharCode(h[b]);return a}function t(a,f){var c,d,h,e;e=a.length;var g=[];for(c=0;256>c;c++)g[c]=c;for(var b=d=0;2>b;b++)for(c=0;256>c;c++)d=(a.charCodeAt(c%e)+g[c]+d)%256,h=g[c],g[c]=g[d],g[d]=h;b="";for(c=0;c<f.length;c++)e=
c&255,d=g[e]+d&255,h=g[e],g[e]=g[d],g[d]=h,b+=String.fromCharCode(f.charCodeAt(c)^g[(g[e]+g[d])%256]);return b}function C(a,f){return(f&=7)?a>>f|a<<8-f&255:a}function D(a,f,c){var d=Math.floor(28*(f.length+1)/8),h;h=c+Date()+Math.random();for(var e=h.length,g=[],b="",k=1,m=4,l=0;l<d;l++)g[l]=k=k*k*5081+l&255;for(;e--;)m=g[e%d]=g[e%d]^C(h.charCodeAt(e),m)^g[g[5081*e%d]%d];for(l=0;l<d;l++)b+=String.fromCharCode(g[l]^C(g[g[171*l%d]%d],g[l]));h=p(z(b),f);d=w(h);a=u(h,a,f);a=w(a);c=String.fromCharCode(a.length)+
a+t(d,c);a="";d=f=0;h=c.length-1;for(g=0;g<=h;g++)if(e=c.charCodeAt(g),a+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".charAt((e<<f|d)&63),d=e>>6-f,f+=2,6==f||g==h)a+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".charAt(d),44==g%45&&(a+="\n"),d=f=0;return a}function x(a){console.log(a);console.log(G(D([19],[125476601,9678293,160],a)))}function G(a){for(var f=[[239800443,61606552,84],[201280845,11],[166507101,13]],c="",d=0,b=0,e,g=0;g<a.length;g++)e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-".indexOf(a.charAt(g)),
0<=e&&(d&&(c+=String.fromCharCode(e<<8-d&255|b)),b=e>>d,d+=2,8==d&&(d=0));a=c;c=a.charCodeAt(0);d=a.substr(1,c);a=a.substr(c+1);b=z(d);e=f[0];c=f[1];f=f[2];d=u(p(b,c),p(e,l(c,[1])),c);b=u(p(b,f),p(e,l(f,[1])),f);e=l(b,d);0==e.length?(e=l(d,b),e=p(m(e,B(c,f)),f),e=l(f,e)):e=p(m(e,B(c,f)),f);f=n(m(e,c),d);f=w(f);return a=t(f,a)}var F=Math.log(2);b.c=function(){var a=window.location.hostname.trim().toLowerCase();x("127.0.0.1");x("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-");x("localhost");
x("alina");x("James");x("emiliea");x("rocinante");console.log(a);D([19],[125476601,9678293,160],a);""!==a&&"localhost"!==a&&"127.0.0.1"!==a&&(k.hn=a,console.log("hostname: '"+a+"'"))}})(k.Extensions||(k.Extensions={}))})(ProStyle||(ProStyle={}));
(function(k){(function(b){(function(n){(function(l){var m=k.Util;l.deserialize=function(n,q){b.c();var y=k.Types.Placement.fromJson(m.getSetup(q,"placement")),p=m.convertToNumber(m.getSetup(q,"pageAspectRatio"),4/3),u=k.Types.Stacks.fromJson(m.getSetup(q,"stacks")||l.StackFlowModel.defaultStacksJson);return new l.StackFlowModel(n,y,m.getSetup(q,"defaultPageClass"),p,u)}})(n.Stack||(n.Stack={}))})(b.Flows||(b.Flows={}))})(k.Extensions||(k.Extensions={}))})(ProStyle||(ProStyle={}));
(function(k){(function(b){(function(b){(function(b){b.serialize=function(b){var k={setup:{}};void 0!==b.defaultPageClass&&(k.setup.defaultPageClass=b.defaultPageClass);return k}})(b.Stack||(b.Stack={}))})(b.Flows||(b.Flows={}))})(k.Extensions||(k.Extensions={}))})(ProStyle||(ProStyle={}));
